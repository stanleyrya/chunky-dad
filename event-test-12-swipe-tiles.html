<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swipe Day Tiles - Chunky Dad</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background: #f5f5f5;
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        .test-header {
            text-align: center;
            padding: 2rem 1rem;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .test-header h1 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        .back-link {
            color: var(--secondary-color);
            text-decoration: none;
            margin-bottom: 1rem;
            display: inline-block;
        }
        .swipe-container {
            width: 100%;
            overflow: hidden;
            position: relative;
            background: #f5f5f5;
        }
        .swipe-track {
            display: flex;
            transition: transform 0.3s ease;
            padding: 2rem 0;
        }
        .day-tile {
            flex: 0 0 calc(100vw / 3.5);
            min-width: 280px;
            margin: 0 0.5rem;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .day-tile:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }
        .day-tile.active {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }
        .tile-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            text-align: center;
            position: relative;
        }
        .tile-header::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid var(--secondary-color);
        }
        .day-name {
            font-size: 1.1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }
        .day-date {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        .day-month {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .tile-content {
            padding: 1.5rem;
            min-height: 300px;
        }
        .event-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .event-item {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1rem;
            border-left: 4px solid var(--primary-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .event-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        .event-time {
            font-size: 0.8rem;
            color: var(--primary-color);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
        }
        .event-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }
        .event-venue {
            font-size: 0.85rem;
            color: #666;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        .no-events {
            text-align: center;
            color: #999;
            font-style: italic;
            padding: 2rem 1rem;
        }
        .swipe-indicators {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin: 2rem 0;
            padding: 0 1rem;
        }
        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ddd;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .indicator.active {
            background: var(--primary-color);
            width: 24px;
            border-radius: 4px;
        }
        .swipe-nav {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            z-index: 50;
        }
        .nav-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .nav-btn:hover {
            background: var(--secondary-color);
            transform: scale(1.1);
        }
        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .event-detail-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 1rem;
        }
        .event-detail-modal.show {
            display: flex;
        }
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 500px;
            width: 100%;
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }
        .modal-close:hover {
            background: #f0f0f0;
        }
        .modal-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .modal-icon {
            font-size: 2.5rem;
        }
        .modal-info h3 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        .modal-meta {
            color: #666;
            font-size: 0.9rem;
        }
        .modal-description {
            color: #555;
            line-height: 1.6;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <a href="event-test-index.html" class="back-link">‚Üê Back to all variations</a>
        <h1>Swipe Day Tiles</h1>
        <p>Edge-to-edge swipeable day tiles showing 3-4 days at a time</p>
    </div>

    <div class="swipe-container">
        <div class="swipe-track" id="swipeTrack">
            <!-- Day tiles will be populated here -->
        </div>
        
        <div class="swipe-indicators" id="indicators"></div>
        
        <div class="swipe-nav">
            <button class="nav-btn" id="prevBtn" onclick="previousDays()">‚Äπ</button>
            <button class="nav-btn" id="nextBtn" onclick="nextDays()">‚Ä∫</button>
        </div>
    </div>

    <div class="event-detail-modal" id="eventModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">√ó</button>
            <div class="modal-header">
                <div class="modal-icon" id="modalIcon">üéâ</div>
                <div class="modal-info">
                    <h3 id="modalTitle">Event Title</h3>
                    <div class="modal-meta" id="modalMeta">Date and venue info</div>
                </div>
            </div>
            <p class="modal-description" id="modalDescription">Event description will appear here.</p>
        </div>
    </div>

    <script>
        // Sample event data organized by day
        const dayEvents = {
            '2025-03-10': [
                {
                    title: "Sunday Beer Bust",
                    time: "3:00 PM",
                    venue: "Growler's Pub",
                    description: "All you can drink beer from 3-8pm. BBQ on the patio starting at 4pm. Live music and great company!",
                    icon: "üç∫"
                }
            ],
            '2025-03-11': [
                {
                    title: "Monday Movie Night",
                    time: "7:00 PM",
                    venue: "The Cave",
                    description: "Screening of classic bear films. Free popcorn and drinks available. BYOB welcome.",
                    icon: "üé¨"
                }
            ],
            '2025-03-12': [
                {
                    title: "Trivia Night",
                    time: "8:00 PM",
                    venue: "Smart Bear Cafe",
                    description: "Test your knowledge and win prizes. Teams of up to 6 people. Free entry with drink purchase.",
                    icon: "üß†"
                }
            ],
            '2025-03-13': [
                {
                    title: "Karaoke Thursdays",
                    time: "9:00 PM",
                    venue: "Honey's Lounge",
                    description: "Show off your vocal skills or just come to cheer. Half price drinks for singers. Prizes for best performances!",
                    icon: "üé§"
                }
            ],
            '2025-03-14': [
                {
                    title: "Leather & Lace Night",
                    time: "10:00 PM",
                    venue: "The Den Bar",
                    description: "Dress code strictly enforced. Prizes for best outfit. Happy hour until 10pm. Photo booth available.",
                    icon: "üé≠"
                }
            ],
            '2025-03-15': [
                {
                    title: "Bear Week Pool Party",
                    time: "2:00 PM",
                    venue: "Wet Bear Pool Club",
                    description: "Join us for the biggest pool party of the season with DJ Thunder spinning all day. Food trucks and vendors on site.",
                    icon: "üèä"
                },
                {
                    title: "Dance Party: Retro Night",
                    time: "10:00 PM",
                    venue: "Club Furr",
                    description: "80s and 90s hits all night long. Costume contest at midnight with cash prizes. Multiple dance floors.",
                    icon: "üï∫"
                }
            ],
            '2025-03-16': [
                {
                    title: "Sunday Brunch",
                    time: "11:00 AM",
                    venue: "Honey's Lounge",
                    description: "Bottomless mimosas and delicious brunch menu. Reservations recommended. Live jazz music.",
                    icon: "üç≥"
                }
            ],
            '2025-03-17': [
                {
                    title: "Monday Funday",
                    time: "6:00 PM",
                    venue: "The Cave",
                    description: "Start your week right with games, drinks, and good company. Board games and card games provided.",
                    icon: "üé≤"
                }
            ],
            '2025-03-18': [
                {
                    title: "Taco Tuesday",
                    time: "7:00 PM",
                    venue: "Growler's Pub",
                    description: "All you can eat tacos and margaritas. Live mariachi band. Reservations required.",
                    icon: "üåÆ"
                }
            ],
            '2025-03-19': [
                {
                    title: "Wine Wednesday",
                    time: "8:00 PM",
                    venue: "Smart Bear Cafe",
                    description: "Wine tasting with local vineyards. Cheese and charcuterie boards available. Educational and fun!",
                    icon: "üç∑"
                }
            ]
        };

        let currentIndex = 0;
        let touchStartX = 0;
        let touchEndX = 0;
        const daysPerView = 3.5;
        const dayKeys = Object.keys(dayEvents).sort();

        function formatDate(dateString) {
            const date = new Date(dateString);
            return {
                dayName: date.toLocaleDateString('en-US', { weekday: 'short' }),
                dayNumber: date.getDate(),
                month: date.toLocaleDateString('en-US', { month: 'short' })
            };
        }

        function createDayTile(dateString, events) {
            const dateInfo = formatDate(dateString);
            const tile = document.createElement('div');
            tile.className = 'day-tile';
            tile.innerHTML = `
                <div class="tile-header">
                    <div class="day-name">${dateInfo.dayName}</div>
                    <div class="day-date">${dateInfo.dayNumber}</div>
                    <div class="day-month">${dateInfo.month}</div>
                </div>
                <div class="tile-content">
                    <div class="event-list">
                        ${events.length > 0 ? 
                            events.map((event, index) => `
                                <div class="event-item" onclick="showEventDetail('${dateString}', ${index})">
                                    <div class="event-time">${event.time}</div>
                                    <div class="event-title">${event.title}</div>
                                    <div class="event-venue">üìç ${event.venue}</div>
                                </div>
                            `).join('') : 
                            '<div class="no-events">No events today</div>'
                        }
                    </div>
                </div>
            `;
            return tile;
        }

        function updateSwipeTrack() {
            const track = document.getElementById('swipeTrack');
            track.innerHTML = '';
            
            dayKeys.forEach(dateString => {
                const events = dayEvents[dateString] || [];
                const tile = createDayTile(dateString, events);
                track.appendChild(tile);
            });
            
            updateIndicators();
            updateNavigation();
        }

        function updateIndicators() {
            const indicatorsContainer = document.getElementById('indicators');
            indicatorsContainer.innerHTML = '';
            
            const totalPages = Math.ceil(dayKeys.length / daysPerView);
            
            for (let i = 0; i < totalPages; i++) {
                const indicator = document.createElement('div');
                indicator.className = 'indicator';
                if (i === currentIndex) indicator.classList.add('active');
                indicator.onclick = () => goToPage(i);
                indicatorsContainer.appendChild(indicator);
            }
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex >= Math.ceil(dayKeys.length / daysPerView) - 1;
        }

        function goToPage(pageIndex) {
            currentIndex = pageIndex;
            const track = document.getElementById('swipeTrack');
            const tileWidth = 100 / daysPerView;
            const offset = -(currentIndex * daysPerView * tileWidth);
            track.style.transform = `translateX(${offset}%)`;
            
            updateIndicators();
            updateNavigation();
        }

        function previousDays() {
            if (currentIndex > 0) {
                goToPage(currentIndex - 1);
            }
        }

        function nextDays() {
            const totalPages = Math.ceil(dayKeys.length / daysPerView);
            if (currentIndex < totalPages - 1) {
                goToPage(currentIndex + 1);
            }
        }

        function showEventDetail(dateString, eventIndex) {
            const event = dayEvents[dateString][eventIndex];
            const modal = document.getElementById('eventModal');
            
            document.getElementById('modalIcon').textContent = event.icon;
            document.getElementById('modalTitle').textContent = event.title;
            document.getElementById('modalMeta').innerHTML = `
                üìÖ ${new Date(dateString).toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })} at ${event.time}<br>
                üìç ${event.venue}
            `;
            document.getElementById('modalDescription').textContent = event.description;
            
            modal.classList.add('show');
        }

        function closeModal() {
            document.getElementById('eventModal').classList.remove('show');
        }

        // Touch/swipe support
        function handleTouchStart(e) {
            touchStartX = e.touches[0].clientX;
        }

        function handleTouchMove(e) {
            touchEndX = e.touches[0].clientX;
        }

        function handleTouchEnd() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // Swiped left - next page
                    nextDays();
                } else {
                    // Swiped right - previous page
                    previousDays();
                }
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            updateSwipeTrack();
            
            const track = document.getElementById('swipeTrack');
            track.addEventListener('touchstart', handleTouchStart);
            track.addEventListener('touchmove', handleTouchMove);
            track.addEventListener('touchend', handleTouchEnd);
            
            // Close modal when clicking outside
            document.getElementById('eventModal').addEventListener('click', (e) => {
                if (e.target.id === 'eventModal') {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>