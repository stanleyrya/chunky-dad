var CS_CONF={"useLambdaBuild":false,"collectionEnabled":true,"useSentry":false,"isSMB":false,"projectId":143336,"status":1,"hostnames":["www.eventbrite.com","eventbrite.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":0,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":0,"validationRate":10,"lastTrackingDraw":1751381409,"trackerDomain":"c.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":0,"jsErrorsEnabled":1,"customErrorsEnabled":1,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":1,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":null,"whitelistedAttributes":null,"replayRecordingUnmaskedUrlRegex":"","replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":"","anonymisationMethod":null,"tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":0,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":1,"pathComputationRules":{},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":1,"collectHierarchy":0,"collectSubmit":0,"collectTargetText":1,"apiErrors":{"collectStandardHeaders":0,"collectionRules":[]},"customErrors":{"consoleMessageLogLevels":[]},"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aus1.contentsquare.net","malkaRecordingDomain":"k-aus1.contentsquare.net","staticResourceManagerDomain":"srm.bf.contentsquare.net","voc":{"siteId":6433701,"enabled":1},"heapEnvironment":{"env_id":"1404198904","heap_tag_status":"heap_sideloads_cs"},"implementations":[{"template":{"name":"ElementUnmasking","args":{"selector":"#search-autocomplete-input"}},"triggers":[{"name":"PageState","args":{"state":"Any"}}]}]};
;
(()=>{var as={};as.d=(s,n)=>{for(var t in n)as.o(n,t)&&!as.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:n[t]})};as.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();as.o=(s,n)=>Object.prototype.hasOwnProperty.call(s,n);as.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var xa={};as.r(xa);as.d(xa,{getRequestParameters:()=>hE});function si(s,n){let t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=s[window.Zone.__symbol__(n)]),t||(t=s[n]),t}var jn=typeof window=="undefined";function Zu(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof as.g!="undefined"?as.g:typeof process!="undefined"?process:Function("return this")()}var It=Zu();var Wl="cs-native-frame",Hs={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};window.csSetTimeout=si(window,"setTimeout");window.csQueueMicrotask=si(window,"queueMicrotask");window.csClearTimeout=si(window,"clearTimeout");window.csSetInterval=si(window,"setInterval");window.csClearInterval=si(window,"clearInterval");window.csFileReader=si(window,"FileReader");(()=>{var s;let n=0;function t(i){return"cs$Symbol_"+i}function e(i){return t(i)+ ++n}e.for=t,window.csSymbol=(s=window.Symbol)!==null&&s!==void 0?s:e})();function td(){let s=document.createElement("iframe");s.id=Wl,s.setAttribute("hidden",""),s.setAttribute("title","Intentionally blank"),s.setAttribute("sandbox","allow-same-origin");let n=document.createElement("cs-native-frame-holder");if(n.setAttribute("hidden",""),document.body.appendChild(n),!!Element.prototype.attachShadow){let e=n.attachShadow({mode:"closed"});return e.innerHTML=s.outerHTML,e.firstElementChild.contentWindow}return n.innerHTML=s.outerHTML,n.firstElementChild.contentWindow}function ed(s,n){let t,e=s;for(;e&&!(t=Object.getOwnPropertyDescriptor(e,n));)e=Object.getPrototypeOf(e);return t}function sd(s,n,t){let e=ed(s,n);if(!e)return function(){return this[n]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function Yl(s){var n,t;Object.keys(Hs.constructors).forEach(e=>{window[Hs.constructors[e]]=s[e]instanceof Function&&s[e].prototype==null?s[e].bind(window):s[e]}),rd(s),("Prototype"in window||nd())&&(window.csMutationObserver=(t=(n=si(window,"MutationObserver"))!==null&&n!==void 0?n:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),ji("csNode",Hs.nodeProperties,s.Node.prototype,"get"),ji("csElement",Hs.elementProperties,s.Element.prototype,"get"),ji("csElement",Hs.elementPropertiesValues,s.Element.prototype,"value",!1),ji("csHTMLImageElement",Hs.imageProperties,s.HTMLImageElement.prototype,"set"),ji("csEvent",Hs.eventProperties,s.Event.prototype,"get"),ji("csNavigator",Hs.navigatorProperties,s.navigator,"value")}function ji(s,n,t,e,i=!0){n.forEach(r=>{let o=typeof r!="string"&&"binding"in r,c=o?r.propertyName:r;(i||c in t)&&(window[`${s+c}`]=sd(t,c,e),o&&(window[`${s+c}`]=window[`${s+c}`].bind(r.binding)))})}function Xl(s,n){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[s]=n}function id(){try{let s=td();return s?(window.CSPureWindow=s,Yl(window.CSPureWindow),!0):!1}catch(s){return Xl("Warning",`failed to copy references from pure iframe: ${s.message}`),!1}}if(!id())try{Yl(It)}catch(s){Xl("Critical",`failed to copy references from window: ${s.message}`)}function nd(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function rd(s){window.csquerySelector={1:s.Element.prototype.querySelector,9:s.Document.prototype.querySelector,11:s.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:s.Element.prototype.querySelectorAll,9:s.Document.prototype.querySelectorAll,11:s.DocumentFragment.prototype.querySelectorAll}}var Pt=(()=>{let s;return function(n){n.ELLIPSIS="\u2026";function t(o){return csString.prototype.replace.call(o,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(o){return csString.prototype.replace.call(o,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}n.escapeInvalidCharacters=e;function i(o,c,u){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(o,c,u);let p=new csRegExp(t(c),"g");return csString.prototype.replace.call(o,p,u)}n.stringReplaceAll=i;function r(o,c,u=""){return o.length<=c?o:csString.prototype.slice.call(o,0,c-u.length)+u}n.truncate=r}(s||(s={})),s})();function ua(s){return Pt.escapeInvalidCharacters(csString.prototype.toLowerCase.call(s.localName))}function od(s){let n=s.getAttribute("id");return n&&Pt.escapeInvalidCharacters(n)}function te(s){return dt(s)&&(typeof s=="number"||s instanceof Number)&&!isNaN(s)}function Wi(s){return s===parseInt(s,10)}function L(s){return dt(s)&&(typeof s=="string"||s instanceof csString)}function Ac(s){return typeof s=="boolean"}function ti(s){return typeof s=="object"}function dt(s){return typeof s!="undefined"}function jt(s){return dt(s)&&s!==null}function ft(s){return typeof s=="object"&&s!==null}function ad(s,n,t){return Wi(s)&&s>=n&&s<=t}function cd(s){for(let n in s)return!1;return!0}function ls(s){return typeof s=="function"}function Cs(s){return s instanceof Element}function ei(s){return s instanceof Error}function ld(s){let n=s.length;for(let t=0;t<n;t++)switch(csString.prototype.charCodeAt.call(s,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}function Dt(s){return s.nodeType===1}function kr(s){return s.nodeType===3}function hd(s){return s.nodeType===8}function Kl(s){return Dt(s)&&s.localName==="link"}function ud(s){return Dt(s)&&s.localName==="source"}function Jl(s){return Dt(s)&&s.localName==="a"}function Ua(s){return Kl(s)&&csString.prototype.indexOf.call(s.rel,"stylesheet")!==-1}function dd(s){return Dt(s)&&s.localName==="img"}function qr(s){return Dt(s)&&s.localName==="style"}function Gr(s){return Dt(s)&&s.localName==="input"}function Va(s){return Dt(s)&&s.localName==="textarea"}function Wr(s){return Dt(s)&&s.localName==="script"}function pd(s){return Dt(s)&&s.localName==="button"}function en(s){return Dt(s)&&"ownerSVGElement"in s}function ja(s){return Dt(s)&&s.localName==="select"}function fd(s){return Dt(s)&&s.localName==="details"}function gd(s){return Dt(s)&&s.localName==="summary"}function md(s){return en(s)&&s.localName==="image"}function yd(s){return en(s)&&s.localName==="use"}function Ed(s){return en(s)&&s.localName==="feImage"}function Sd(s){switch(s.nodeType){case 9:case 11:return!0;default:return!1}}function vd(s){switch(s.nodeType){case 9:case 11:case 1:return!0;default:return!1}}function Dr(s){return s.nodeType===9}function Yi(s){return Sd(s)&&"host"in s&&"mode"in s}function Ql(s){return Dt(s)&&!!csElementshadowRoot.apply(s)&&Yi(csElementshadowRoot.apply(s))}var wd=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];function _d(s){return Dt(s)&&jt(s.tagName)&&csString.prototype.indexOf.call(s.tagName,"-")>0&&csString.prototype.indexOf.call(s.tagName,":")===-1&&csString.prototype.indexOf.call(s.tagName,'"')===-1&&csString.prototype.indexOf.call(s.tagName,",")===-1&&csArray.prototype.indexOf.call(wd,csString.prototype.toLocaleLowerCase.call(s.tagName))<0}var Hn="detached";function Zl(s){let n=s,t=[n];for(;csNodeparentNode.apply(n)!==null;)n=csNodeparentNode.apply(n),csArray.prototype.push.call(t,n);return Lr(n)&&csArray.prototype.push.call(t,Hn),{ancestors:t,selectionRoot:n}}function bd(s){let n=s,t=[n],e=null;for(;csNodeparentNode.apply(n)!==null;)e===null&&Jl(n)&&(e=n),csArray.prototype.push.call(t,csNodeparentNode.apply(n)),n=csNodeparentNode.apply(n);return Lr(n)&&csArray.prototype.push.call(t,Hn),{firstAnchorParent:e,ancestors:t,selectionRoot:n}}function Lr(s){return Ts.isValidElement(s)}var gi=(()=>{var s,n;return(n=(s=It.Element)===null||s===void 0?void 0:s.prototype)!==null&&n!==void 0?n:{}})(),Oe=gi.matches||gi.matchesSelector||gi.mozMatchesSelector||gi.msMatchesSelector||gi.oMatchesSelector||gi.webkitMatchesSelector,Tc=gi.closest,th=9;function Ad(s,n){return n?csArray.prototype.some.call(n,t=>Oe.call(s,t)):!1}function Td(s,n,t){if(s===Hn||s.nodeType===th)return 0;let e=t.dynamicElementNameRegex,i=!!(e!=null&&e.test(n.localName)),r=ua(n),o=0,c=n.previousElementSibling;for(;c;)(ua(c)===r||i&&(e!=null&&e.test(c.localName)))&&!Ad(c,t.reliableSelectors)&&(o+=1),c=c.previousElementSibling;return o}function Rd(s,n,t){if(s===Hn||s.nodeType===th)return 0;let e=0,i=n.previousElementSibling;for(;i;)Oe.call(i,t)&&(e+=1),i=i.previousElementSibling;return e}var Cd=[/\d{4}/,/^ember\d+$/],Id="@",Ha="data-cs-override-id",Pd="data-cs-dynamic-id";function eh(s,n,t,e){let i=e.dynamicIdRegex||null,r=e.dynamicElementNameRegex,o=ua(s);if(r&&r.test(s.localName)&&(o=csString.prototype.replace.call(o,r,`$1${Id}`)),Md(s,t)){let _=Ba(s);return{hasUniqueIdentifier:!0,elementSelector:`${o}[${Ha}="${_}"]`}}let c=jd(s,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UA[${c.attributeName}="${c.attributeValue}"]`};let u=Od(s,t,e);if(u)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UCS[${u}]`};let p=od(s);if(Dd(s,p,t,i))return{hasUniqueIdentifier:!0,elementSelector:`${o}#${p}`};let S=Nd(s,e);if(S){let _=Rd(n,s,S);return{hasUniqueIdentifier:!1,elementSelector:`${o}[${S}](${_})`}}let f=Td(n,s,e);return{hasUniqueIdentifier:!1,elementSelector:`${o}:eq(${f})`}}function Od(s,n,t){if(t.uniqueCssSelectors){for(let e of t.uniqueCssSelectors)if(Oe.call(s,e)&&Vd(e,n))return e}}function Nd(s,n){if(n.reliableSelectors){for(let t of n.reliableSelectors)if(Oe.call(s,t))return t}}function Md(s,n){let t=Ba(s);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&Fa(Ha,t,n)}function kd(s){return Ba(s)!==null}function Ba(s){return s.getAttribute(Ha)}function Dd(s,n,t,e){return n&&!kd(s)&&!Ld(s,n,e)&&Ud(n,t)}function Ld(s,n,t){return s.hasAttribute(Pd)||xd(n,t)}function xd(s,n){let t=!1;return s&&n&&(t=n.test(s)),s&&(csArray.prototype.some.call(Cd,e=>e.test(s))||t)}function Ud(s,n){return s&&Fa("id",s,n)}function Fa(s,n,t){try{return window.csquerySelectorAll[t.nodeType].call(t,`[${s}="${n}"]`).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function Vd(s,n){try{return window.csquerySelectorAll[n.nodeType].call(n,s).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function jd(s,n,t){if(!t.uniqueAttributes)return{success:!1};for(let e of t.uniqueAttributes){let i=s.getAttribute(e);if(i!==null&&Fa(e,i,n))return{attributeName:e,attributeValue:i,success:!0}}return{success:!1}}var da=11;function xr(s,n,t){let e=csArray.prototype.shift.call(s);if(s.length===0)return Rc(e,t);let i=e,r=s[0],{elementSelector:o,hasUniqueIdentifier:c}=eh(i,r,n,t);if(!t.fullPath&&c){let p=s[s.length-1];return`${Rc(p,t)}${o}`}let u=xr(s,n,t);return`${u?`${u}>`:""}${o}`}function Rc(s,n){if(s===Hn)return"|detached|";if(s.host){let{ancestors:t,selectionRoot:e}=Zl(s.host);return`${xr(t,e,n)}|shadow-root|`}return s.nodeType===da?"|fragment|":""}var sh=(()=>{class s{constructor(t){this.options=t,this.done=!1,this.path=null}getPath(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path}isDone(){return this.done}}return s})(),Hd=(()=>{class s extends sh{constructor(){super(...arguments),this.ao=!1,this.co=!1,this.tc=!1}Bm(t,e){return this.ao&&!(e===null&&Lr(t))&&t.nodeType!==da&&!t.host}Fm(t){return!t.localName}serializeElement(t,e,i){var r;if((r=this.path)!==null&&r!==void 0||(this.path=""),this.Bm(t,e))return;let o=!1;e===null&&Lr(t)&&(o=!0,this.done=!0);let c=this.co&&!this.options.fullPath?"":">",u=!!t.host;if(u&&this.path&&(this.path="|shadow-root|"+c+this.path,this.tc=!0,this.ao=!1,this.co=!1),!u&&e===null&&t.nodeType===da){this.path="|fragment|"+c+this.path,this.done=!0;return}if(this.Fm(t))return;let p=e!=null?e:"detached",{elementSelector:S,hasUniqueIdentifier:f}=eh(t,p,i,this.options);f&&(this.co=!0,this.ao=!this.options.fullPath);let _=`${o?`|detached|${c}`:""}${this.ao&&!f?"":S}`,T=!f&&this.co&&!this.options.fullPath?"":this.path&&!this.tc?">":"";this.tc=!1,this.path=`${_}${T}${this.path}`}}return s})();function Pe(s,n=pe.SHOW_ALL){let t=n|pe.SHOW_ELEMENT,e=[document.createTreeWalker(s,t,null,!1)],i=Cc(s);i&&csArray.prototype.push.call(e,document.createTreeWalker(i,t,null,!1));let r=null;return{root:s,nextNode(){if(i){let o=i;return i=null,o}for(;e.length>0;){if(r){let p=r;return r=null,p}let c=e[e.length-1].nextNode();if(!c){csArray.prototype.pop.call(e);continue}let u=Cc(c);if(n&pe.SHOW_DOCUMENT_FRAGMENT&&u&&(r=u),u&&csArray.prototype.push.call(e,document.createTreeWalker(u,t,null,!1)),(Uo[c.nodeType]&n)!==0)return c}return null},visitAll(o){Uo[s.nodeType]&n&&o(s);let c=this.nextNode();for(;c;){if((Uo[c.nodeType]&n)===0){c=this.nextNode();continue}o(c),c=this.nextNode()}},collectAll(o){let c=[];return this.visitAll(u=>csArray.prototype.push.call(c,o?o(u):u)),c}}}function Cc(s){return s&&Ql(s)?s.shadowRoot:null}var xo=(()=>{var s;return(s=It.Node)!==null&&s!==void 0?s:{}})(),pe=(()=>{var s;return(s=It.NodeFilter)!==null&&s!==void 0?s:{}})(),Uo={2:pe.SHOW_ATTRIBUTE,4:pe.SHOW_CDATA_SECTION,8:pe.SHOW_COMMENT,11:pe.SHOW_DOCUMENT_FRAGMENT,9:pe.SHOW_DOCUMENT,10:pe.SHOW_DOCUMENT_TYPE,1:pe.SHOW_ELEMENT,[xo.ENTITY_NODE]:pe.SHOW_ENTITY,[xo.ENTITY_REFERENCE_NODE]:pe.SHOW_ENTITY_REFERENCE,[xo.NOTATION_NODE]:pe.SHOW_NOTATION,7:pe.SHOW_PROCESSING_INSTRUCTION,3:pe.SHOW_TEXT},xt={debug(...s){},warn(...s){},implementation(...s){},error(...s){},critical(...s){},isPerfLoggingActive(){return!1}};function Bd(s){xt=s}var H=s=>(n,t,e)=>{let i=(t==null?void 0:t.toString())||"",r=s||`${n.constructor&&n.constructor.name}.${i}`;if(e){let o=e.value;e.value=function(...c){return Is(r,o.bind(this))(...c)}}};function Is(s,n){return function(...t){try{let e=n.apply(this,t);return dt(window.Promise)&&e instanceof window.Promise?e.then(i=>i,i=>xt.error(ei(i)?i:new Error(i),s)):e}catch(e){try{xt.error(ei(e)?e:new Error(e),s)}catch{}}}}var sn=(()=>{class s{constructor(){this.lo=0}get length(){return this.lo}get isEmpty(){return!this.Os}pushAll(t){for(let e=0;e<t.length;e++)this.push(t[e])}push(t){this.lo++,this.jn?this.jn=this.jn[1]=[t,void 0]:this.jn=this.Os=[t,void 0]}pop(){if(!this.Os)return null;this.lo--;let t=this.Os[0];return this.Os=this.Os[1],this.Os||(this.jn=void 0),t}forEach(t){let e=this.Os;for(;e!=null&&e.length;)t(e[0]),e=e[1]}clear(){this.lo=0,this.Os=this.jn=void 0}}return s})(),ih=50,nh=.1;function Fd(){var s;if(!(!((s=window.performance)===null||s===void 0)&&s.mark))return!1;let n="isPerformanceMeasureSupported",t=`${n}_a`;return performance.mark(t),performance.measure(n,t)!==void 0}var Ur=!1,Cr=new sn;function $d(s=50,n=.1){Ur=xt.isPerfLoggingActive()&&Fd(),Ur&&(ih=s,nh=n)}var pa=[],Vo=[];function rh(s){csArray.prototype.push.call(pa,s),performance.mark(`${s}-start`)}function oh(s){let n=performance.measure(s,`${s}-start`);if(!n)return;let t=n.duration;t>=nh&&csArray.prototype.push.call(Vo,{mName:s,mDuration:+t.toFixed(2)}),csArray.prototype.pop.call(pa),pa.length===0&&(t>ih&&Cr.push(Vo),Vo=[])}function Si(s,n){return function(...t){if(!Ur)return s.apply(this,t);rh(n);let e=s.apply(this,t);return oh(n),e}}var ee=function(s){return function(n,t,e){let i=e.value;e.value=function(){if(!Ur)return e.value=i,i.apply(this,arguments);rh(s);let r=i.apply(this,arguments);return oh(s),r}}};var yi=(()=>{let s;return function(n){function t(){return!!Element.prototype.attachShadow}n.isSupported=t;function e(r){return r&&Ql(r)?r.shadowRoot:null}n.getShadowRoot=e;function i(r){return Pe(r,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(o=>o.host)}n.getAllShadowHosts=Si(i,"getAllShadowHosts")}(s||(s={})),s})(),Kt=(()=>{let s;return function(n){function t(){let f=[i()];return document.documentElement&&csArray.prototype.push.call(f,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(f,document.body.scrollHeight,document.body.offsetHeight),Math.max(...f)}n.documentHeight=t;function e(){return document.documentElement.scrollWidth}n.documentWidth=e;function i(){return window.innerHeight}n.windowHeight=i;function r(){return window.innerWidth}n.windowWidth=r;function o(){let f=window.csScreen.width;return Wi(f)&&f>0?f:window.screen.width}n.screenWidth=o;function c(){let f=window.csScreen.height;return Wi(f)&&f>0?f:window.screen.height}n.screenHeight=c;function u(){return window.pageXOffset}n.windowOffsetX=u;function p(){return window.pageYOffset}n.windowOffsetY=p;function S(){return{dw:`${e()}`,dh:`${t()}`,ww:`${r()}`,wh:`${i()}`,sw:`${o()}`,sh:`${c()}`}}n.getRequestParameters=S}(s||(s={})),s})();function Xi(s){var n;let t=(n=s.length)!==null&&n!==void 0?n:0,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=s[i];return e}function Ye(s,n){let t=s.length,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=n(s[i]);return e}function zd(s,n,t){let e=[],i=0;for(let r=0;r<s.length;r+=1){let o=n(s[r]);for(let c=0;c<o.length;c++)t(o[c],i++)}return e}function $a(s,n){let t=[];return zd(s,n,e=>csArray.prototype.push.call(t,e)),t}function pt(s,n){if(qd(s)){let t=s.length;for(let e=0;e<t;e++)n(s[e],e)}else{let t=0,e=s.next();for(;!e.done;)n(e.value,t++),e=s.next()}}function qd(s){return s.length>=0}function os(s,n){let t=s.length;for(let e=0;e<t;e++)if(n(s[e],e))return s[e]}function Vr(s,n){let t=s.length;for(let e=0;e<t;e++)if(n(s[e],e))return!0;return!1}function za(s,n){let t=s.length;for(let e=0;e<t;e++)if(!n(s[e],e))return!1;return!0}function Ln(s,n){let t=s.length,e=[];for(let i=0;i<t;i+=1){let r=s[i];n(r)&&csArray.prototype.push.call(e,r)}return e}function Gd(s,n,t){let e=s.length+n.length+((t==null?void 0:t.length)||0),i=new csArray(e),r=0;for(let o=0;o<s.length;o++)i[r++]=s[o];for(let o=0;o<n.length;o++)i[r++]=n[o];if(!t)return i;for(let o=0;o<t.length;o++)i[r++]=t[o];return i}function Ic(s,n){for(let t=0;t<s.length;t++)csArray.prototype.push.call(n,s[t])}function ii(s){let n=s instanceof Map,t=[];return s.forEach((e,i)=>csArray.prototype.push.call(t,n?[i,e]:e)),t}var jo=(()=>{var s;return(s=It.Node)!==null&&s!==void 0?s:Object})(),At=(()=>{let s;return function(n){let t="isConnected"in jo.prototype?C=>C.isConnected:C=>!C.ownerDocument||!(C.ownerDocument.compareDocumentPosition(C)&C.DOCUMENT_POSITION_DISCONNECTED);function e(C,B){for(let K=C;K;K=csNodenextSibling.apply(K))B(C)}n.forEachChild=e;function i(C){return t(C)}n.isConnected=i;function r(C,B){let K=[];for(let st of u(C,B))csArray.prototype.push.call(K,st);return K}n.getAncestors=r;let o=(C,B)=>{var K;return(K=csNodeparentNode.apply(C))!==null&&K!==void 0?K:B&&Yi(C)?C.host:null};function c(C,B,K=!1){let st=C;for(;st;){if(B(st))return st;let vt=o(st,K);if(vt&&vt!==st)st=vt;else break}return null}n.findAncestor=c;function*u(C,B=!1){let K=C;for(;K;){yield K;let st=o(K,B);if(st&&st!==K)K=st;else break}}n.walkUp=u;function p(C,B){if(C===B||B.contains(C))return!0;let K=n.getParentElement(C);return K&&K!==C?p(K,B):!1}n.isDescendantOf=p;function S(C){var B;return C.parentElement?C.parentElement:n.getRootNode(C)?(B=n.getRootNode(C))===null||B===void 0?void 0:B.host:null}n.getParentElement=S;function f(C,B=document){let K=Xi(window.csquerySelectorAll[B.nodeType].call(B,C)),st=yi.getAllShadowHosts(B);for(let vt of st){let Nt=yi.getShadowRoot(vt);if(!Nt)continue;let Bt=Xi(window.csquerySelectorAll[Nt.nodeType].call(Nt,C));csArray.prototype.push.call(K,...Bt)}return K}n.findAllElements=f,n.getRootNode=(()=>{if("getRootNode"in jo.prototype)return(K,st)=>K.getRootNode(st);function C(K){let st=B(K);return Yi(st)?C(st.host):st}function B(K){return csNodeparentNode.apply(K)!=null?B(csNodeparentNode.apply(K)):K}return(K,st)=>typeof st=="object"&&!!st.composed?C(K):B(K)})();function _(C){return C==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(C)}function A(C){let B=C.getBoundingClientRect();return B.right+Kt.windowOffsetX()<0||B.bottom+Kt.windowOffsetY()<0}function T(C){var B,K;if(((B=C.checkVisibility)===null||B===void 0?void 0:B.call(C,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!C.offsetParent){if(!C.getBoundingClientRect)return xt.warn(`SUP-11432: Element doesn't have getBoundingClientRect. Node: ${C instanceof jo} Ctor: ${(K=C==null?void 0:C.constructor)===null||K===void 0?void 0:K.name}`),!1;let Nt=C.getBoundingClientRect();if(Nt.width==0&&Nt.height==0)return!0}let st=window.getComputedStyle(C);return st?st.display==="none"||st.visibility==="hidden"||st.visibility==="collapse"||st.opacity==="0"||st.filter==="opacity(0)"||st.width==="0px"&&st.height==="0px"||_(st.color):!0}n.isHiddenByCSS=T;function x(C){if(T(C))return!0;let K=S(C);return K!=null&&x(K)}n.areAncestorsHiddenByCSS=x;function U(C){let B=null,K=C;do if(T(K))B=K;else break;while(K=S(K));return B}n.getTopAncestorHiddenByCSS=U;function N(C){let B=P(C);return B!==null&&!C.contains(B)&&!B.contains(C)}function P(C){let B=C.getBoundingClientRect(),K=B.left+.5*B.width,st=B.top+.5*B.height;return O(document,K,st)}n.getTopElement=P;function Y(C){if(!C.getBoundingClientRect)return null;let B=C.getBoundingClientRect(),K=B.x+B.width/2,st=B.y+B.height/2;return n.getTopElementFromPoint(document,K,st)}n.getElementOnTop=Y;function O(C,B,K){let st=C.elementFromPoint(B,K);if(!st)return null;let vt=yi.getShadowRoot(st);return vt&&vt!=n.getRootNode(document.body)&&vt!==C?O(vt,B,K):st}n.getTopElementFromPoint=O;function X(C){return!A(C)&&!T(C)&&!N(C)}n.isVisibleInDocument=X;function tt(C){return T(C)?!1:nt(C)}n.isVisibleInViewportInForeground=tt;function nt(C){let B=P(C);return B===null?!1:C===B?!0:Lt(C)?C.textContent!==""&&B.contains(C):C.contains(B)}n.isInViewPort=nt;function ut(C,B,K){let st=C.getAttributeNS(B,K);return st===""?C.hasAttributeNS(B,K)?st:null:st}n.getAttributeNS=ut;function Rt(C){return!!(C.hasAttribute("tabIndex")||C.getAttribute("contentEditable")==="true"||Jl(C)&&C.hasAttribute("href")||(ja(C)||Va(C)||Gr(C)||pd(C))&&!C.hasAttribute("disabled")||fd(C)||gd(C))}n.isElementFocusable=Rt;function Lt(C){return C.localName==="span"||C.localName==="a"||C.localName==="b"||C.localName==="i"||C.localName==="button"||C.localName==="input"||C.localName==="label"||C.localName==="cite"||C.localName==="small"||C.localName==="strong"||C.localName==="code"||C.localName==="abbr"||C.localName==="em"||C.localName==="dfn"||C.localName==="time"||C.localName==="output"||C.localName==="object"||C.localName==="sub"}n.isInlineElement=Lt}(s||(s={})),s})(),Wd=(()=>{class s{constructor(t){this.$m=t}run(t){let e=[...this.$m],i=At.getAncestors(t,!1),r=i[i.length-1];for(;e.length>0&&i.length>0;){let o=csArray.prototype.shift.call(i),c=i[0]||null;if(this.zm(e,o,c,r),this.qm(e),e.length===0)break;i.length===0&&o.host&&(i=At.getAncestors(o.host,!1),r=i[i.length-1])}}zm(t,e,i,r){for(let o of t)o.serializeElement(e,i,r)}qm(t){for(let e=0;e<t.length;e++)t[e].isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}}return s})(),Yd=(()=>{class s extends sh{serializeElement(t){var e;if((e=this.path)!==null&&e!==void 0||(this.path=""),(t==="detached"||t.localName==="body")&&(this.done=!0,this.path.length>0))return;let i=this.Gm(t);if(i+=i.length>0?"|":"",this.path.length+i.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=i+this.path}Gm(t){if(!t.localName)return"";let e=`@${t.localName};`;return e+=this.Wm(t.id),t.classList&&(e+=this.Ym(csArray.from(t.classList))),t.attributes&&(e+=this.Xm(t)),e}Wm(t){return t?`#${t};`:""}Ym(t){return t.length>0?`.${csArray.prototype.join.call(csArray.prototype.sort.call(t),";.")};`:""}Km(t,e){var i,r;return((r=(i=this.options).isAttributeSensitive)===null||r===void 0?void 0:r.call(i,t,e))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,e)!==-1||en(t)&&csString.prototype.indexOf.call(e,"data-")===-1&&e!=="aria-label"||Gr(t)&&e==="value"}Jm(t,e){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||e.length>this.options.attrMaxLength}Qm(t){let e={};for(let i of csArray.from(t.attributes))this.Km(t,i.name)||(e[i.name]=i.value);return e}Xm(t){var e,i;if(!((i=(e=this.options).isNodeSensitive)===null||i===void 0)&&i.call(e,t))return"";let r=Object.entries(this.Qm(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(r,([o])=>o.length<this.options.attrMaxLength),([o,c])=>this.Jm(o,c)?`[${o}]`:`[${o}=${c}]`)),";")+(r.length>0?";":"")}}return s})(),Ts=(()=>{let s;return function(n){n.INVALID_ELEMENT="INVALID_ELEMENT";function t(c){return!!c&&"localName"in c&&"getAttribute"in c&&"hasAttribute"in c&&"parentNode"in c}n.isValidElement=t;function e(c,u,p={fullPath:!1,dynamicIdRegex:null}){let S=o(c);if(S===document)return{path:"",hierarchy:""};if(!t(S))return{path:n.INVALID_ELEMENT,hierarchy:n.INVALID_ELEMENT};let f=new Hd(p),_=new Yd(u);return new Wd([f,_]).run(S),{path:f.getPath(),hierarchy:_.getPath()}}n.getElementPathAndHierarchy=e;function i(c,u={fullPath:!1,dynamicIdRegex:null}){let p=o(c);if(p===document)return"";if(!t(p))return n.INVALID_ELEMENT;let{ancestors:S,selectionRoot:f}=Zl(p);return xr(S,f,u)}n.getElementPath=i;function r(c,u={fullPath:!1,dynamicIdRegex:null}){let p=o(c);if(p===document)return{path:"",firstAnchorParent:null};if(!t(p))return{path:n.INVALID_ELEMENT,firstAnchorParent:null};let{firstAnchorParent:S,ancestors:f,selectionRoot:_}=bd(p);return{path:xr(f,_,u),firstAnchorParent:S}}n.getElementPathAndFirstAnchorParent=r;function o(c){return c&&"jquery"in c&&c.length===1?c[0]:c}}(s||(s={})),s})();window.CSPathComputation=window.CSPathComputation||Ts;var Xd=Number.MAX_SAFE_INTEGER||9007199254740991;function Pc(){}function Ps(s,n){return csString.prototype.lastIndexOf.call(s,n,0)===0}function Kd(s,n){return csString.prototype.indexOf.call(s,n,s.length-n.length)!==-1}var qa=34164e6,Ki={percentage(){return Math.floor(Math.random()*1e4)/100},boolean(s){return this.percentage()<s},integer(s=Xd){return Math.floor(Math.random()*s)}},Ho=csSymbol("cachedJson");function Jd(s){if(s[Ho])return s[Ho];if(csArray.isArray(s)){if(s.length===0)return"[]";let n="["+Ji(s[0]);for(let t=1;t<s.length;t++)n+=","+Ji(s[t]);return n+="]"}return s[Ho]=csJSON.stringify(s)}var Ji=typeof window.Symbol!="undefined"?Jd:csJSON.stringify;function ah(s,n){return csArray.prototype.reduce.call(Object.keys(s),(t,e)=>(n(s[e])||(t[e]=s[e]),t),{})}var Mt=(()=>{let s;return function(n){n.debug="debug",n.warn="warn",n.implementation="implementation",n.error="error",n.critical="critical"}(s||(s={})),s})(),ch=["t.contentsquare.net","clicktale"],Qd=s=>{var n;if(typeof s.filename=="string"&&csArray.prototype.some.call(ch,t=>csString.prototype.indexOf.call(s.filename,t)>-1)&&!(csString.prototype.indexOf.call(s.filename,"blob")>-1&&(s.message==null?void 0:csString.prototype.indexOf.call(s.message,"importScripts"))>-1)){let t=new Error(s.message);t.stack=(n=s.error)===null||n===void 0?void 0:n.stack,Q.critical(t)}};window.addEventListener("error",Qd);var Q=(()=>{class s{constructor(){}static whiteListFilename(t){csArray.prototype.push.call(ch,t)}static setStrategy(t){s.Vi=t}static computeIsActive(t){s.Le=Ki.boolean(t),s.Le?s.sc=Ki.boolean(10):s.sc=!1}static isLoggingActive(){return s.Le}static getStrategy(){return s.Vi}static debug(t,e=""){s.Le&&this.Vi.send(t,e,Mt.debug)}static warn(t,e=!0,i=""){var r;s.Le&&e&&this.Vi.send(t,i,Mt.warn),(r=window.UXAnalytics.Console)===null||r===void 0||r.warn(t)}static implementation(t,e=""){s.Le&&this.Vi.send(t,e,Mt.implementation)}static error(t,e=""){var i;s.Le&&this.Vi.send(t,e,Mt.error),(i=window.UXAnalytics.Console)===null||i===void 0||i.error(t)}static critical(t,e=""){this.Vi.send(t,e,Mt.critical)}static tryToExecute(t,e){return function(...i){try{let r=e.apply(this,i);return dt(window.Promise)&&r instanceof window.Promise?r.then(o=>o,o=>s.error(ei(o)?o:new Error(o),t)):r}catch(r){try{s.error(ei(r)?r:new Error(r),t)}catch{}}}}static isPerfLoggingActive(){return s.sc}}return s.Le=!1,s.sc=!1,s})(),Zd=function(){"use strict";var s={d:function(i,r){for(var o in r)s.o(r,o)&&!s.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:r[o]})},o:function(i,r){return Object.prototype.hasOwnProperty.call(i,r)}},n={};s.d(n,{H:function(){return t}});var t=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.tryCatch,o=i.exception,c=i.scriptDomain,u=i.hjHost,p=i.askUrl,S=i.surveysHost,f=i.surveyImagesHost,_=i.surveyImpressionsEndpoint;window.hj=window.hj||function(){(window.hj.q=window.hj.q||[]).push(arguments)},hj.q=window.hj.q||[],window._hjSettings=window._hjSettings||{},hj.isPreview=!!_hjSettings.preview,hj.settings=hj.isPreview||!window.hjSiteSettings?{}:window.hjSiteSettings,hj.scriptDomain=window.hj.scriptDomain||c||"https://script.hotjar.com/",hj.defaults={environment:"live",host:"in.hotjar.com",insightsHost:"insights.hotjar.com",identifyEndpoint:"https://identify.hotjar.com",surveysHost:"surveys.hotjar.com",surveyImagesHost:"survey-images.hotjar.com",surveyImpressionsEndpoint:"https://surveystats.hotjar.io/hit",askUrl:"https://ask.hotjar.io/"},hj.environment=_hjSettings.environment||hj.defaults.environment,hj.host=u||_hjSettings.host||hj.defaults.host,hj.insightsHost=_hjSettings.insightsHost||hj.defaults.insightsHost,hj.surveysHost=S||_hjSettings.surveysHost||hj.defaults.surveysHost,hj.surveyImagesHost=f||hj.defaults.surveyImagesHost,hj.apiUrlBase="https://"+hj.host+"/api/v1",hj.insightsHost=_hjSettings.insightsHost||hj.defaults.insightsHost,hj.identifyEndpoint=_hjSettings.identifyEndpoint||hj.defaults.identifyEndpoint,hj.askUrl=_hjSettings.askUrl||p||hj.defaults.askUrl,hj.surveyImpressionsEndpoint=_||_hjSettings.surveyImpressionsEndpoint||hj.defaults.surveyImpressionsEndpoint,hj.userDeviceType=null,hj.tryCatch=r||window.hj.tryCatch;var A=o&&{log:o};hj.exceptions=A||window.hj.exceptions},e=n.H;return{n:e}}(),tp=Zd.n,ep="https://script.hj.contentsquare.net/",sp="https://ask.hj.contentsquare.net/",ip="in.hj.contentsquare.net",np="surveystats.hj.contentsquare.net",rp="survey-images.hj.contentsquare.net",op="https://surveystats.hj.contentsquare.net/hit",ap={tryCatch:(s,n)=>Q.tryToExecute(n,s),exception:(s,n)=>Q.error(s,n),scriptDomain:ep,hjHost:ip,askUrl:sp,surveysHost:np,surveyImagesHost:rp,surveyImpressionsEndpoint:op};tp(ap);var cp=/^\d+\.\d+(?:\.\d+)?$/,lp=s=>{if(!cp.test(s))return;let[n,t,e]=csArray.prototype.map.call(csString.prototype.split.call(s,"."),Number);return{major:n,minor:t,patch:!e||Number.isNaN(e)?0:e}},hp=(s,n)=>s.major!==n.major?s.major-n.major:s.minor!==n.minor?s.minor-n.minor:s.patch-n.patch,up=(s,n)=>hp(s,n)>=0,dp=1,pp="f553e78fb58e051e51fe8074c4c6e73e",fa=(()=>{let s;return function(n){n[n.Disabled=0]="Disabled",n[n.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",n[n.Enabled=2]="Enabled"}(s||(s={})),s})(),fp=(()=>{class s{constructor(t){var e,i,r,o,c,u,p,S,f,_,A,T;this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||qa,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.mouseMoveHeatmapEnabled=t.mouseMoveHeatmapEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((o=(i=t.collectionEnabled)!==null&&i!==void 0?i:(r=t.smbConfig)===null||r===void 0?void 0:r.record)!==null&&o!==void 0)||o),this.useSentry=!!((c=t.useSentry)!==null&&c!==void 0?c:!((u=t.smbConfig)===null||u===void 0)&&u.useSentry),this.apiErrors={enabled:(p=t.apiErrorsEnabled)!==null&&p!==void 0?p:0,...t.apiErrors},this.customErrors={enabled:(S=t.customErrorsEnabled)!==null&&S!==void 0?S:0,...t.customErrors},this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=this.ic(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=this.ic(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=this.ic(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.malkaQuotaServiceDomain=t.malkaQuotaServiceDomain||null,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions={...t.taskSchedulerOptions,enabled:!!t.taskSchedulerOptions.enabled}),this.uxaDomain=t.uxaDomain,this.environment=((f=t.uxaDomain)===null||f===void 0?void 0:f.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc={...t.voc,enabled:!!t.voc.enabled}),t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(_=t.anonymizeDigits)!==null&&_!==void 0?_:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(A=t.recordTargetingRules)!==null&&A!==void 0?A:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!=!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(T=t.collectTargetText)!==null&&T!==void 0?T:fa.Disabled}getTrackerUri(){return`${this.us()}://${this.trackerDomain}`}getSentryFileUri(){return`${this.us()}://${this.tagDomain}/uxa/smb/errors.js`}getSentryDSNUri(){return`https://${pp}@${this.loggerDomain}/4508608369131520`}getRecordingUri(){return`${this.us()}://${this.malkaRecordingDomain}`}getLegacyQuotaUri(){return`${this.us()}://${this.malkaQuotaServiceDomain}`}getLoggerUri(){return`${this.us()}://${this.loggerDomain}`}getMetricsUri(){return`${this.us()}://${this.loggerDomain}/metrics`}getStaticResourceManagerUri(){return`${this.us()}://${this.staticResourceManagerDomain}`}getSettingsFileUri(){return this.settingsFileUri?this.settingsFileUri:`${this.us()}://${this.dynamicConfDomain}/${this.projectId}.json`}isQuotaEnabled(){return this.isSMB&&!!this.dynamicConfDomain}getPaProxyDomainUri(){return`${this.us()}://${this.paProxyDomainUri}`}us(){return this.useHttps?"https":"http"}isProjectActive(){return this.status===dp}processOptionOverrides(t){t&&t.forEach&&t.forEach(([e,...i])=>{if(e==="setOption"){let[r,o]=i;this.Zm(r,o)}})}Zm(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="malkaQuotaServiceDomain"&&(this.malkaQuotaServiceDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e),t==="paProxyDomainUri"&&(this.paProxyDomainUri=e)}ic(t){return t?this.ty(t):null}getRequestParameters(){return{pid:`${this.projectId}`}}updateDynamicFields(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)}ty(t){try{let e=/^\/(.*)\/([gim]*)$/.exec(t);if(e){let[,i,r]=e;return new csRegExp(`^${i}$`,r)}return new csRegExp(`^${t}$`)}catch{return null}}isHeaderCollectionActive(){var t,e;return this.apiErrors.collectStandardHeaders||!!(!((t=this.apiErrors.validCustomHeaders)===null||t===void 0)&&t.length)||!!(!((e=this.apiErrors.plainCustomHeaders)===null||e===void 0)&&e.length)}isCsSideloadingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent}isHeapSideloadsCs(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"}isHeapSideloadsCsV5(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.Bu()}isHeapSideloadsStartDataCollection(){if(this.isHeapSideloadsCs()){if(this.Bu())return!0;let t=lp(this.getHeapVersion()||"");if(t&&t.major===4&&up(t,{major:4,minor:23,patch:5}))return!0}return!1}Bu(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"}getHeapVersion(){var t,e,i,r,o,c;return typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((r=(i=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||i===void 0?void 0:i.sdk)===null||r===void 0?void 0:r.version)||((c=(o=window.heap)===null||o===void 0?void 0:o.version)===null||c===void 0?void 0:c.heapJsVersion)||void 0}isCsCrosswritingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"}getHeapStorageLocation(){var t,e;return(e=(t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_storage_location)!==null&&e!==void 0?e:null}isCollectTargetTextEnabled(){return this.isSMB||this.collectTargetText!==fa.Disabled}isNetworkDetailsEnabled(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1}hasTargetingRules(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)}}return s})(),gp=(()=>{class s{constructor(t,e){this.ho=t,this.Fu=e}init(){this.$u=this.ho!==this.ho.top,this.zu=this.Fu.isWebView&&this.ho===this.ho.top,this.Fu.iframesTracking&&this.$u||this.zu?this.qu=!1:this.qu=!0}isInIframeContext(){return this.$u}isTopWindowTracker(){return this.qu}isInWebViewContext(){return this.zu}}return s})(),xn=(()=>{let s;return function(n){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`),"&")}n.toQuery=t}(s||(s={})),s})(),lh=(()=>{class s{constructor(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}setRequestParametersProviders(...t){this.requestParametersProviders=t}before(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)}after(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)}retrieveParameters(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,t=>t.getRequestParameters()),(t,e)=>({...t,...e})):{}}}return s})(),Qi=(()=>{class s extends lh{constructor(t,e){super(t,e)}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,i=>i());let t=this.retrieveParameters();this.nc(t);let e=xn.toQuery(t);this.ey(e),csArray.prototype.forEach.call(this.afterRequestCallbacks,i=>i())}ey(t){let e=new window.Image(1,1);e.onload=Pc,e.onerror=Pc,csHTMLImageElementsrc.call(e,`${this.domainUri}${this.path?`/${this.path}`:""}?${t}`)}nc(t){t.r=csString.prototype.slice.call(`${Math.random()}`,2,8)}}return s})(),mp=(()=>{class s{constructor(t,e){this.Ns=t,this.sy=e}init(){this.ds=new Qi(this.Ns.getLoggerUri()),this.ds.setRequestParametersProviders(this,this.sy)}send(t){this.uo=t,this.ds.send()}getRequestParameters(){return{a:this.uo.app,l:this.uo.level,m:this.uo.message,s:this.uo.stacktrace}}}return s})();function Et(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(r=(i<3?o(r):i>3?o(n,t,r):o(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}var ga=(()=>{class s{static setGlobalService(t){s.globalService=t}constructor(t){this.name=t}_get(){return this._values}_reset(){this._values={}}aggregate(){if(!s.globalService)return;let t=this._get(),e=Object.keys(t);e.length&&(s.globalService.push(csArray.prototype.map.call(e,i=>({name:this.name,parameter:i,value:t[i]}))),this._reset())}}return s.globalService=null,Et([H("Metric.aggregate")],s.prototype,"aggregate",null),s})(),Ee=(()=>{class s extends ga{constructor(t,e=100){super(t),this.iy=e,this.Ie=null,this._values={}}count(t,e=1){this._values[t]=(this._values[t]||0)+e,this._debounce()}_debounce(){ga.globalService&&(this.Ie&&window.csClearTimeout(this.Ie),this.Ie=window.csSetTimeout(()=>{this.aggregate(),this.Ie=null},this.iy))}}return s})();var Ot={counters:{commandsFromIntegrations:new Ee("commands-from-integrations"),commandsFromCSTC:new Ee("commands-from-cstc"),commandsFromIframe:new Ee("commands-from-iframe"),commandApplied:new Ee("command-applied"),commandError:new Ee("command-error"),commandMisuse:new Ee("command-misuse"),CSTCSnippetUsed:new Ee("cstc-snippet-used"),redactedPII:new Ee("redacted-pii"),pageAnonymisation:new Ee("page-anonymisation"),patchedNativeFunctions:new Ee("patched-native-functions"),pureWindowState:new Ee("pure-window-state"),sensitiveElements:new Ee("sensitive-elements"),cspErrors:new Ee("csp-errors"),networkRequests:new Ee("network-requests")},setService(s){ga.setGlobalService(s)}},yp=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,Ep=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,Sp="CS_ANONYMIZED_EMAIL",Bo="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",vp=new csRegExp(`(ey${Bo}\\.ey${Bo}\\.${Bo})`,"g"),wp="CS_ANONYMIZED_JWT",_p=/[0-9]{4}/,bp=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Ap="CS_ANONYMIZED_PII",Tp="\u2022",Rp=/\d/g,Cp=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,Ip=/(?:\d{1,3}\.){3}\d{1,3}/,Pp=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,Ge=(()=>{let s;return function(n){function t(S){return csString.prototype.replace.call(S,yp,Sp)}n.replaceEmail=t;function e(S){return csString.prototype.replace.call(S,vp,wp)}n.replaceJWT=e;function i(S,f){return csString.prototype.replace.call(S,bp,f)}n.replaceCreditCardNumber=i;function r(S){return csString.prototype.replace.call(S,Rp,Tp)}n.replaceDigits=r;function o(S){return Ip.test(S)||Pp.test(S)}n.mayHaveIPAddress=o;function c(S){return Cp.test(S)}n.mayHaveNumberSequence=c;function u(S){return _p.test(S)}n.mayHaveCreditCardNumber=u;function p(S){return Ep.test(S)}n.mayHaveEmail=p}(s||(s={})),s})(),nn=(()=>{class s{hasPII(t,e){let i=this.checkAndAnonymizePII(t,e);return t!==i}checkAndAnonymizePII(t,e=null){let i=this.ny(this.rc(t));return e===!0?i=this.ry(i):e===!1&&(i=this.oy(i)),i}anonymizePII(t){return this.rc(t)}anonymizeJwt(t){return Ge.replaceJWT(t)}anonymizeFields(t,e){return csArray.prototype.forEach.call(e,i=>{t[i]=this.rc(t[i])}),t}rc(t){if(Ge.mayHaveEmail(t)){let e=Ge.replaceEmail(t);return e!==t&&Ot.counters.redactedPII.count("email"),e}return t}ry(t){return Ge.replaceDigits(t)}oy(t){return Ge.mayHaveNumberSequence(t)?Ge.replaceDigits(t):t}ny(t){return Ge.mayHaveCreditCardNumber(t)?Ge.replaceCreditCardNumber(t,(e,i,r,o,c)=>{if(csString.prototype.indexOf.call(r,"*")===-1){let p=o.length?csArray.prototype.join.call(csString.prototype.split.call(r,o),""):r;if(!this.ay(p))return e;Ot.counters.redactedPII.count("cc")}else Ot.counters.redactedPII.count("cc-partial");return`${i}${Ap}${c}`}):t}ay(t){let e=parseInt(t[t.length-1]),i=0;for(let r=t.length-2;r>=0;r--){let o=parseInt(t[r]);r%2===0&&(o*=2),i+=Math.floor(o/10)+o%10}return 10-i%10===e}}return s})(),hh="15.111.0";function Ga(){return{v:hh}}function Wa(s){let n=new ArrayBuffer(s.length),t=new Uint8Array(n);for(let e=0,i=s.length;e<i;e+=1)t[e]=csString.prototype.charCodeAt.call(s,e);return n}function Oc(s){let n=new Uint8Array(s),t="";for(let e=0;e<n.byteLength;e+=1)t+=csString.fromCodePoint(n[e]);return t}function uh(s){let n=self.atob(s);return Wa(n)}function ma(s){let n=csArray.from(new Uint8Array(s));return csArray.prototype.join.call(csArray.prototype.map.call(n,t=>csString.prototype.padStart.call(t.toString(16),2,"0")),"")}function Nc(s){let n=csString.prototype.indexOf.call(s,";base64,")!==-1,t=csString.prototype.indexOf.call(s,","),e=n?[csString.prototype.substring.call(s,0,t-7),csString.prototype.substring.call(s,t+1)]:[csString.prototype.substring.call(s,0,t),csString.prototype.substring.call(s,t+1)];if(!n&&/^%3Csvg/i.test(e[1]))try{e[1]=decodeURIComponent(e[1])}catch(o){xt.warn(`${o}, calling decodeURIComponent on: ${e[1]}`)}let r=n?uh(e[1]):Wa(e[1]);return new Blob([r],{type:csString.prototype.replace.call(e[0],"data:","")})}var dh=typeof performance!="undefined"&&!!performance.now,Mc=dh?()=>performance.now():csDate.now,Op=(()=>{var s,n;return dh?(n=(s=performance.timing)===null||s===void 0?void 0:s.navigationStart)!==null&&n!==void 0?n:Math.floor(performance.timeOrigin):0})(),z={now(){return Math.round(Mc()+Op)},elapsed(){return Mc()}};function kc(){return Math.floor(z.now()/1e3)}function ph(){return typeof window.Promise=="function"}function Np(){var s;return typeof crypto!="undefined"&&ls((s=crypto.subtle)===null||s===void 0?void 0:s.digest)}function Dc(){var s,n;return typeof((s=window.navigation)===null||s===void 0?void 0:s.addEventListener)=="function"&&typeof((n=window.navigation)===null||n===void 0?void 0:n.removeEventListener)=="function"}function Ne(s,n){return csString.prototype.lastIndexOf.call(s,n,0)===0}function rn(s,n){return csString.prototype.indexOf.call(s,n,s.length-n.length)!==-1}var fh=(()=>{class s{constructor(t,e){this.h=t,this.I=e}getRequestParameters(){return{d:`${z.now()}`,p:this.I.anonymizePII(window.location.href),...this.h.getRequestParameters(),...Ga()}}}return s})(),Mp="uxa",Lc=5,kp="No stacktrace",gh="snippet-",mh="implementation-snippet-",xc=(()=>{let s;return function(n){n.IMPLEMENTATION="implementation",n.DYNAMIC="dynamic"}(s||(s={})),s})(),Fo={[Mt.debug]:0,[Mt.warn]:1,[Mt.implementation]:1,[Mt.error]:2,[Mt.critical]:3},Dp=(()=>{class s{constructor(t,e,i){this.ps=e,this.I=new nn,this.Gu=Fo[Mt.warn],this.Gu=Fo[t.minLogLevel||Mt.warn],this.ds=i||new mp(t,new fh(t,this.I)),this.Wu={[Mt.debug]:[],[Mt.warn]:[],[Mt.implementation]:[],[Mt.error]:[],[Mt.critical]:[]},this.po={implementation:{},dynamic:{}},this.ds.init()}send(t,e="",i=Mt.warn){if(!this.cy(i,e))return;csArray.prototype.push.call(this.Wu[i],e||"");let r={message:this.ly(t,e),stacktrace:this.hy(t),app:Mp,level:i};this.ds.send(r)}ly(t,e){let i=ei(t)?this.I.anonymizePII(t.message||t.toString()):t;return e&&(i+=` ErrorCode: ${e}`),i}hy(t){return ei(t)?`${t.stack||kp} ${this.fo()}`:this.fo()}fo(){let t=this.ps.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";let i=this.ps.getSessionService(),r=i&&i.getSession(),o={userId:e.id,sessionNumber:e.visitsCount,pageNumber:r&&r.pageNumber};return csJSON.stringify(o)}cy(t,e){if(Fo[t]<this.Gu)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,mh,0))===0)return this.Yu(e,xc.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,gh,0))===0)return this.Yu(e,xc.DYNAMIC);let i=this.Wu[t];return!(i.length>=Lc||e&&csArray.prototype.some.call(i,r=>r===e))}Yu(t,e){return t in this.po[e]?this.po[e][t]>=Lc?!1:(this.po[e][t]+=1,!0):(this.po[e][t]=1,!0)}}return s})(),ne=!jn&&document.createElement("a"),Lp=/(:443|:80)$/;function cs(s){return ne?(ne.href=s,ne.href):""}function xp(s,n){return new csURL(s,n).href}function yh(s){let n=Xa(s);return n===null?"":decodeURIComponent(n.hostname)}function Ya(s,n){return csArray.prototype.some.call(n,t=>rn(s,`.${t}`)||s===t||t==="")}function Up(s){return s[0]==="/"?s:`/${s}`}function Uc(s){return csString.prototype.replace.call(s,Lp,"")}function Xa(s){return!ne||!Ne(s,"http://")&&!Ne(s,"https://")?null:(ne.href=s,{hash:ne.hash,host:Uc(ne.host),hostname:ne.hostname,href:ne.href,origin:ne.origin?ne.origin:Uc(`${ne.protocol}//${ne.host}`),pathname:Up(ne.pathname),port:ne.port,protocol:ne.protocol,search:ne.search})}var Vc="CS_IFRAME_MESSAGE",Vp=(()=>{let s;return function(n){n.AfterPageView="afterPageView",n.GetSessionKey="getSessionKey"}(s||(s={})),s})(),is=(()=>{let s;return function(n){n.Parent="parent",n.Child="child"}(s||(s={})),s})(),yt=(()=>{let s;return function(n){n.Discovery="discovery",n.Stop="stop",n.RecordingContext="recordingContext",n.SensitiveStatus="sensitiveStatus",n.RecordingEvent="recordingEvent",n.EndOfBufferedMessages="endOfBufferedMessages",n.ChildLogMessage="childLogMessage",n.AnalysisEvent="analysisEvent",n.JavascriptError="javascriptError",n.ApiError="apiError",n.Assets="assets",n.DetailedApiError="detailedApiError",n.EmerchandisingMessage="emerchandisingMessage",n.Commands="commands",n.IntegrationCallback="integrationCallback",n.StaticResource="staticResource",n.TrackingContextResultMessage="trackingContextResultMessage",n.TrackingContextRequestMessage="trackingContextRequestMessage",n.CustomError="customError"}(s||(s={})),s})(),Yt=(()=>{let s;return function(n){function t(u,p,S,f){let _={type:u,from:p,pid:S,signature:Vc};return f!==void 0&&f>=0&&(_.id=f),_}n.buildBaseMessage=t;function e(u,p,S,f){let _=yh(u.origin);return!!u.data&&!!u.data.type&&u.data.signature===Vc&&u.data.from===p&&u.data.pid===S&&Ya(_,f)}n.isMessageValid=e;function i(u,p,S,f){f?u.postMessage(S,p,f):u.postMessage(S,p)}n.sendPostMessage=i;function r(){return new MessageChannel}n.getNewChannelMessage=r;function o(u,p){u.postMessage(p)}n.sendChannelMessage=o;function c(u){u.close()}n.closeChannelPort=c}(s||(s={})),s})(),jp=(()=>{class s{constructor(t){this.h=t}send(t,e="",i=Mt.warn){let r={message:t,errorCode:e,level:i},o=Yt.buildBaseMessage(yt.ChildLogMessage,is.Child,this.h.projectId);o.content=r,Yt.sendPostMessage(window.parent,"*",o)}}return s})(),Hp=(()=>{class s{setContext(t,e){this.C=t,this.w=e}getVisitorService(){return this.C}getSessionService(){return this.w}}return s})();function Bp(s){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",s,{once:!0});return}s()}function Z(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(r=(i<3?o(r):i>3?o(n,t,r):o(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}function Fp(){let s=new MutationObserver(n=>{n.forEach(t=>{pt(t.removedNodes,e=>{e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(Ot.counters.pureWindowState.count("iframe-deletion"),xt.warn("<cs-native-frame-holder> deleted"),s.disconnect())})})});s.observe(document.body,{childList:!0})}function jc(s){return typeof s!="function"?!1:s.toString().indexOf("[native code]")!==-1}function $p(){(!jc(MutationObserver)||!jc(MutationObserver.prototype.observe))&&Ot.counters.patchedNativeFunctions.count("MutationObserver")}function zp(){try{window.CSPureWindow&&Fp(),$p()}catch{}}var Ft=(()=>{let s;return function(n){n.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(u){let S=new csRegExp(`(^|;)[ ]*${u}=([^;]*)`).exec(document.cookie);return S?decodeURIComponent(S[2]):null}n.get=t;function e(u,p,S,f,_,A){let T=encodeURIComponent(`${p}`),x=S===n.CURRENT_DOMAIN?void 0:S,U=i(f),N=U?`;expires=${U.toUTCString()}`:"",P=";path=/",Y=jt(x)?`;domain=${x}`:"",O=`${u}=${T}${N}${P}${Y}`;return dt(_)&&_!==Ys.NotSet&&(O=`${O};SameSite=${_}`),dt(A)&&A===_s.Yes&&(O=`${O};Secure`),document.cookie=O,!0}n.set=e;function i(u){return te(u)?new csDate(z.now()+u):u}n.toExpireDate=i;function r(u,p){t(u)&&e(u,"",p,new csDate(0)),t(u)&&e(u,"",p,new csDate(0),Ys.None,_s.Yes)}n.remove=r;function o(){return document.cookie.length>0}n.isCookiePresent=o;function c(u,p){let S="_cs_root-domain",f=t(S);if(f!==null&&f!=="1")return f;let _=csString.prototype.split.call(window.location.hostname,"."),A=csArray.prototype.pop.call(_);for(;_.length&&(f===null||f==="1");)A=csArray.prototype.join.call([csArray.prototype.pop.call(_),A],"."),e(S,A,A,void 0,u,p),f=t(S);return r(S,A),A}n.getRootDomain=c}(s||(s={})),s})(),qp=(()=>{let s;return function(n){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}n.browserIsSafariV12=t}(s||(s={})),s})(),Ys=(()=>{let s;return function(n){n.None="None",n.Lax="Lax",n.NotSet="X"}(s||(s={})),s})(),_s=(()=>{let s;return function(n){n[n.Yes=1]="Yes",n[n.No=0]="No"}(s||(s={})),s})(),Bn=(()=>{class s{constructor(t,e,i){this.h=t,this.A=e,this.Ge=i,this.oc=!1,this.Xu=Ys.NotSet,this.ac=_s.No}getSameSiteFlag(){return this.Xu}getSecureFlag(){return this.ac}getDomain(){return this.cc}getRootDomain(){return this.Ku}init(){if(this.h.cookielessTrackingEnabled)return;let t=this.uy(),e=this.dy();this.oc=this.py(t,e),this.oc?(this.Xu=t,this.ac=e):this.h.secureCookiesEnabled&&this.A.getUrlProtocol()==="https:"&&(this.ac=_s.Yes),this.Ku=this.fy(),this.cc=this.gy(this.Ku)}py(t,e){return qp.browserIsSafariV12()?!1:(Ft.set(s.COOKIE_TEST_FOR_SAME_SITE,"Test same site",s.CURRENT_DOMAIN,void 0,t,e),Ft.get(s.COOKIE_TEST_FOR_SAME_SITE)?(Ft.remove(s.COOKIE_TEST_FOR_SAME_SITE,s.CURRENT_DOMAIN),!0):!1)}uy(){return this.A.getUrlProtocol()==="http:"?Ys.Lax:this.Ge.isSameSiteNoneSecureNeeded()||this.h.crossDomainTracking?Ys.None:Ys.Lax}dy(){return this.A.getUrlProtocol()==="http:"?_s.No:this.h.secureCookiesEnabled||this.h.crossDomainTracking||this.Ge.isSameSiteNoneSecureNeeded()?_s.Yes:_s.No}isSameSiteSupported(){return this.oc}set(t,e,i){let r=Ft.toExpireDate(i);Ft.set(t,e,this.cc,r,this.getSameSiteFlag(),this.getSecureFlag())}get(t){let i=new csRegExp(`(^|;)[ ]*${t}=([^;]*)`).exec(document.cookie);return i?decodeURIComponent(i[2]):null}delete(t,e){let i=e||this.cc;Ft.remove(t,i)}fy(){let t=this.Ge.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?Ys.None:void 0,i=t?_s.Yes:void 0;return Ft.getRootDomain(e,i)}gy(t){return this.h.allowSubdomains?t:Ft.CURRENT_DOMAIN}}return s.CURRENT_DOMAIN="CURRENT_DOMAIN",s.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",s})(),Hi="_cs_t",Hc="1",Gp=(()=>{class s{constructor(t,e){this.mt=t,this.h=e,this.go=!1,this.mo=!1}init(){if(!this.h.cookielessTrackingEnabled&&this.mt.isTopWindowTracker()&&"cookie"in document){if(!this.mt.isInIframeContext()&&Ft.isCookiePresent()){this.go=!0,this.mo=!1;return}if(Ft.set(Hi,Hc,Ft.CURRENT_DOMAIN),Ft.get(Hi)!==null){this.go=!0,this.mo=!1,Ft.remove(Hi,Ft.CURRENT_DOMAIN);return}Ft.set(Hi,Hc,Ft.CURRENT_DOMAIN,void 0,Ys.None,_s.Yes),Ft.get(Hi)!==null&&(this.go=!0,this.mo=!0,Ft.remove(Hi,Ft.CURRENT_DOMAIN))}}areCookiesEnabled(){return this.go}isSameSiteNoneSecureNeeded(){return this.mo}}return s})();function Wp(){let s="CSSessionStorageTest";try{return sessionStorage.setItem(s,s),sessionStorage.getItem(s)!==s?!1:(sessionStorage.removeItem(s),!0)}catch{return!1}}var Yp=(()=>{class s{constructor(t,e){this.h=t,this.Ge=e}canTrack(){return this.h.isProjectActive()&&this.my()&&this.Ju()&&this.yy()}canTrackInChild(){return this.h.isProjectActive()&&this.Ey()&&(this.Ju()||this.Sy())}yy(){return this.h.cookielessTrackingEnabled?Wp():this.Ge.areCookiesEnabled()}Ju(){return Ya(window.location.hostname,this.h.hostnames)}my(){return!this.Qu()&&this.vy()}Ey(){return!this.Qu()&&this.wy()}Sy(){return window.location.protocol==="about:"&&window.location.hostname===""}Qu(){return"visibilityState"in document&&document.visibilityState==="prerender"}vy(){return this.Zu()&&this._y()}wy(){return this.Zu()}_y(){try{return!!window.localStorage}catch{return!1}}Zu(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window}}return s})(),Xp=(()=>{class s{constructor(t,e){this.lc=!1,this.td=new Map,this.sd=new Map,this.nd=new Map,this.rd="CS_WORKER_SIGNATURE";let i=`
    const algorithm = ${t.algorithm};
    const compressor = (${t.getCompressorSourceCode()})();
    (()=>{"use strict";var e;!function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(e||(e={}));let t={debug(...e){},warn(...e){},implementation(...e){},error(...e){},critical(...e){},isPerfLoggingActive:()=>!1};class s{constructor(e){var t;this.queryParams={},this.headers={},this.handleRecoveredRequests=e=>{for(const t of e){const{metadata:e,events:s}=t;this.send(s,e)}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.mandatoryParameters=null!==(t=e.mandatoryParameters)&&void 0!==t?t:[],this.worker=!!e.worker,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}setQueryParams(e){Object.keys(e).forEach(t=>{this.queryParams[t]=e[t]})}removeQueryParams(e){e?e.forEach(e=>{delete this.queryParams[e]}):this.queryParams={}}send(s,r){const a=r||{...this.queryParams},o=!("ct"in a),i="string"!=typeof s&&!this.isArrayBuffer(s);"ct"in a||(this.compressionOpts&&o?a.ct=this.compressionOpts.compressionType:a.ct=e.UNCOMPRESSED);const n=i?JSON.stringify(s):s,h=Object.keys(a).map(e=>\`\${encodeURIComponent(e)}=\${encodeURIComponent(a[e])}\`).join("&"),c=\`\${this.endpoint}?\${h}\`;!function(e,t){const s=e.length;for(let r=0;r<s;r++)if(t(e[r],r))return!0;return!1}(this.mandatoryParameters,e=>null==a[e])?this.compressionOpts&&o&&"string"==typeof n?this.compressionOpts.compressor(n,this.compressionOpts.compressionOutputType,e=>this.doSend(c,a,e)):this.doSend(c,a,n):t.warn(\`[\${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on \${c}\`)}onLoad(e){this.onLoadCallback=e}onError(e){this.onErrorCallback=e}onTimeout(e,t){this.onTimeoutCallback=e,this.timeout=t}abort(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()}setRequestHeader(e,t){this.headers[e]=t}getQueryParams(){return this.queryParams}isArrayBuffer(e){return e&&void 0!==e.byteLength}doSend(e,t,s){const r=new XMLHttpRequest,a=Object.keys(t).map(e=>\`\${encodeURIComponent(e)}=\${encodeURIComponent(t[e])}\`).join("&");r.open("POST",e),r.onload=()=>{if(this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests),this.onLoadCallback){const e={params:t,responseText:r.responseText,status:r.status};this.onLoadCallback(e)}},r.onerror=()=>{this.recoveryStorage&&this.recoveryStorage.save({key:a,metadata:t,events:s}),this.onErrorCallback&&this.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(r.timeout=this.timeout,r.ontimeout=()=>{this.onTimeoutCallback()}),this.abortCurrentXhrCall=()=>r.abort(),Object.keys(this.headers).forEach(e=>{r.setRequestHeader(e,this.headers[e])}),r.send(s)}}class r{constructor(e){this.maxStoredBytes=e,this.storageBytesUsed=0}addString(e){this.storageBytesUsed+=2*e.length}addArrayBuffer(e){this.storageBytesUsed+=e.byteLength}isThresholdReached(){return this.storageBytesUsed>this.maxStoredBytes}reset(){this.storageBytesUsed=0}}class a{constructor(e){this.ramStorage={},this.byteSizeCounter=new r(e)}save({key:e,metadata:t,events:s}){this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(e),"string"==typeof s?this.byteSizeCounter.addString(s):this.byteSizeCounter.addArrayBuffer(s),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[e]={metadata:t,events:s}))}recover(e){const t=[];this.getStorageKeys().forEach(e=>{const s=this.ramStorage[e];void 0!==s&&(delete s.metadata.datatype,t.push(s),this.removeItem(e))}),0!==t.length&&(e(t),this.byteSizeCounter.reset())}getStorageKeys(){return Object.keys(this.ramStorage)}removeItem(e){delete this.ramStorage[e]}}var o;!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(o||(o={}));class i{constructor(e,t,s){this.storageName=e,this.onOpenError=s,this.cacheState=o.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new r(t),this.init()}async init(){await this.openCache(),this.cacheState===o.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer)}flushToBeSavedBuffer(){this.toBeSavedBuffer.forEach(e=>{this.save(e)}),this.toBeSavedBuffer=[]}async save(e){try{if(this.cacheState===o.OPEN_IN_PROGRESS)return void this.toBeSavedBuffer.push(e);if(this.cacheState!==o.READY)return;if(this.byteSizeCounter.isThresholdReached())return;const{key:t,metadata:s,events:r}=e;if(this.byteSizeCounter.addString(t),"string"==typeof r?this.byteSizeCounter.addString(r):this.byteSizeCounter.addArrayBuffer(r),this.byteSizeCounter.isThresholdReached())return;await this.cache.put(\`\${this.origin}/\${t}\`,new Response(r,{headers:s}))}catch{}}async recover(e){(this.cache||(await this.openCache(),this.cacheState===o.READY))&&this.doRecover(e)}async openCache(){try{this.cacheState=o.OPEN_IN_PROGRESS,this.cache=await self.caches.open(\`\${this.context}\${this.storageName}\`),this.cacheState=o.READY}catch{this.cacheState=o.OPEN_FAILED}}async doRecover(e){try{if(this.recoveryInProgress++,this.recoveryInProgress>1)return;const t=await this.cache.keys();if(0===t.length)return;const s=(await this.cache.matchAll()).map(e=>{const t={};e.headers.forEach((e,s)=>{t[s]=e}),delete t["content-type"];const s=t.datatype;return delete t.datatype,"json"===s||"base64"===s?e.text().then(e=>({metadata:t,events:e})):e.arrayBuffer().then(e=>({metadata:t,events:e}))}),r=await Promise.all(s);await Promise.all(t.map(e=>this.cache.delete(e))),e(r),this.byteSizeCounter.reset()}catch{}finally{this.recoveryInProgress--}}}class n{constructor(e){try{this.initializeStorageStrategy(e)}catch(e){this.setRamStorageStrategy()}}initializeStorageStrategy(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()}save(e){this.storageStrategy.save(e)}recover(e){this.storageStrategy.recover(e)}setCachesStrategy(e){this.storageStrategy=new i(e,n.MAX_SIZE,e=>{this.setRamStorageStrategy(e)})}setRamStorageStrategy(e){this.storageStrategy=new a(n.MAX_SIZE),e&&e.forEach(e=>{this.storageStrategy.save(e)})}}n.MAX_SIZE=16777216,function(){const e="CS_WORKER_SIGNATURE",t=new Map,r=new n("csPersisted");function a(a){var o;if((o=a)&&o.WORKER_SIGNATURE===e)switch(a.type){case"CreatePostRequest":{const{endpoint:o,compressionOutputType:i,useRetry:n,mandatoryParameters:h}=a,c={endpoint:o,mandatoryParameters:h,worker:!0};i&&(c.compressionOpts={compressor,compressionOutputType:i,compressionType:algorithm}),n&&(c.recoveryStorage=r);const d=new s(c);t.set(o,d),d.onLoad(t=>{const s={type:"onLoad",endpoint:o,response:t,WORKER_SIGNATURE:e};self.postMessage(s)}),d.onError(t=>{const s={type:"onError",endpoint:o,response:t,WORKER_SIGNATURE:e};self.postMessage(s)})}break;case"SetQueryParams":{const{endpoint:e,queryParams:s}=a,r=t.get(e);r&&r.setQueryParams(s)}break;case"RemoveQueryParams":{const{endpoint:e,queryParams:s}=a,r=t.get(e);r&&r.removeQueryParams(s)}break;case"Send":{const{endpoint:e,payload:s,queryParams:r}=a,o=t.get(e);o&&o.send(s,r)}break;case"Abort":{const{endpoint:e}=a,s=t.get(e);s&&s.abort()}break;case"SetHeader":{const{endpoint:e,headerName:s,headerValue:r}=a,o=t.get(e);o&&o.setRequestHeader(s,r)}break;case"SetTimeout":{const{endpoint:s,timeout:r}=a,o=t.get(s);o&&o.onTimeout(()=>{const t={type:"onTimeout",endpoint:s,WORKER_SIGNATURE:e};self.postMessage(t)},r)}break;default:throw new Error(JSON.stringify(a))}}self.addEventListener("message",function(e){e.data.getReader?async function(e,t){const s=e.getReader();for(;;){const{done:e,value:r}=await s.read();if(e)break;t(r)}}(e.data,a):a(e.data)})}()})();`;try{this.fs=this.by(e||i),this.lc=!0,s.isTransferableStreamSupported()&&(this.od=new ReadableStream({start:r=>{this.hc=r},cancel:()=>{this.hc=null}}),this.fs.postMessage(this.od,[this.od]))}catch(r){r.name==="SecurityError"&&Ot.counters.cspErrors.count("network-worker"),this.lc=!1}}postMessage(t){t.WORKER_SIGNATURE=this.rd,this.hc?this.hc.enqueue(t):this.fs.postMessage(t)}by(t){let e=window.csURL||window.webkitURL,i=window.Blob,r=window.Worker,o=new i([t],{type:"application/javascript"}),c=e.createObjectURL(o);Q.whiteListFilename(c);let u=new r(c);return u.onmessage=p=>{let{type:S,endpoint:f,WORKER_SIGNATURE:_}=p.data;if(_===this.rd){if(S==="onLoad"){let{response:A}=p.data,T=this.td.get(f);T&&T(A)}else if(S==="onError"){let{response:A}=p.data,T=this.sd.get(f);T&&T(A)}else if(S==="onTimeout"){let A=this.nd.get(f);A&&A()}}},u}registerOnLoadCallback(t,e){this.td.set(t,e)}registerOnErrorCallback(t,e){this.sd.set(t,e)}registerOnTimeoutCallback(t,e){this.nd.set(t,e)}isSupported(){return this.lc}static isTransferableStreamSupported(){try{let t=new ReadableStream;return structuredClone(t,{transfer:[t]}),!0}catch{return!1}}}return s})(),Kp=(()=>{class s{constructor(t){var e;this.Gt={},this.Wt=t.endpoint,this.Ee=t.networkWorker,this.Ay=t.compressionOutputType,this.Ty=t.useRetry,this.Ee.postMessage({type:"CreatePostRequest",endpoint:this.Wt,compressionOutputType:this.Ay,useRetry:this.Ty,mandatoryParameters:(e=t.mandatoryParameters)!==null&&e!==void 0?e:[]})}setQueryParams(t){this.Ee.postMessage({type:"SetQueryParams",endpoint:this.Wt,queryParams:t}),csArray.prototype.forEach.call(Object.keys(t),e=>{this.Gt[e]=t[e]})}getQueryParams(){return this.Gt}removeQueryParams(t){this.Ee.postMessage({type:"RemoveQueryParams",endpoint:this.Wt,queryParams:t}),t&&csArray.prototype.forEach.call(t,e=>{delete this.Gt[e]})}send(t,e){this.Ee.postMessage({type:"Send",endpoint:this.Wt,payload:t,queryParams:e})}abort(){this.Ee.postMessage({type:"Abort",endpoint:this.Wt})}onLoad(t){this.Ee.registerOnLoadCallback(this.Wt,t)}onError(t){this.Ee.registerOnErrorCallback(this.Wt,t)}setRequestHeader(t,e){this.Ee.postMessage({type:"SetHeader",endpoint:this.Wt,headerName:t,headerValue:e})}onTimeout(t,e){this.Ee.registerOnTimeoutCallback(this.Wt,t),this.Ee.postMessage({type:"SetTimeout",endpoint:this.Wt,timeout:e})}}return s})(),Yr=(()=>{let s;return function(n){n.UNCOMPRESSED="0",n.GZIP="2"}(s||(s={})),s})(),Eh=(()=>{class s{constructor(t){this.onError=t}}return s})(),Jp=(()=>{class s{constructor(t){var e;this.Gt={},this.pc={},this.ad=i=>{for(let r of i){let{metadata:o,events:c}=r;this.send(c,o)}},this.Wt=t.endpoint,this.Hn=t.compressionOpts,this.Yt=t.recoveryStorage,this.mandatoryParameters=(e=t.mandatoryParameters)!==null&&e!==void 0?e:[],this.worker=!!t.worker,this.Yt&&this.Yt.recover(this.ad)}setQueryParams(t){Object.keys(t).forEach(e=>{this.Gt[e]=t[e]})}removeQueryParams(t){t?t.forEach(e=>{delete this.Gt[e]}):this.Gt={}}send(t,e){let i=e||{...this.Gt},r=!("ct"in i),o=typeof t!="string"&&!this.Ry(t);"ct"in i||(!this.Hn||!r?i.ct=Yr.UNCOMPRESSED:i.ct=this.Hn.compressionType);let c=o?JSON.stringify(t):t,u=Object.keys(i).map(S=>`${encodeURIComponent(S)}=${encodeURIComponent(i[S])}`).join("&"),p=`${this.Wt}?${u}`;if(Vr(this.mandatoryParameters,S=>i[S]==null)){xt.warn(`[${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on ${p}`);return}this.Hn&&r&&typeof c=="string"?this.Hn.compressor(c,this.Hn.compressionOutputType,S=>this.cd(p,i,S)):this.cd(p,i,c)}onLoad(t){this.ji=t}onError(t){this.Bn=t}onTimeout(t,e){this.ai=t,this.Fn=e}abort(){this.ld&&this.ld()}setRequestHeader(t,e){this.pc[t]=e}getQueryParams(){return this.Gt}Ry(t){return t&&t.byteLength!==void 0}cd(t,e,i){let r=new XMLHttpRequest,o=Object.keys(e).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(e[c])}`).join("&");r.open("POST",t),r.onload=()=>{if(this.Yt&&this.Yt.recover(this.ad),this.ji){let c={params:e,responseText:r.responseText,status:r.status};this.ji(c)}},r.onerror=()=>{this.Yt&&this.Yt.save({key:o,metadata:e,events:i}),this.Bn&&this.Bn({params:e})},this.Fn&&this.ai&&(r.timeout=this.Fn,r.ontimeout=()=>{this.ai()}),this.ld=()=>r.abort(),Object.keys(this.pc).forEach(c=>{r.setRequestHeader(c,this.pc[c])}),r.send(i)}}return s})(),Sh=(()=>{class s{constructor(t){this.fc=t,this.Ee=new Xp(this.fc)}create(t,e,i,r,o=[]){if(this.Ee.isSupported()&&e)return new Kp({networkWorker:this.Ee,endpoint:t,compressionOutputType:i,useRetry:!!r,mandatoryParameters:o});{let c=i?{compressor:this.fc.compress,compressionOutputType:i,compressionType:this.fc.algorithm}:void 0;return new Jp({endpoint:t,compressionOpts:c,recoveryStorage:r})}}}return s})(),Qp=(()=>{class s{constructor(t,e,i,r,o){this.C=t,this.w=e,this.We=i,this.wt=r,this.h=o}get(){return{exclusion:this.We.getAppliedTrackingDraw(),visitor:this.C.getVisitor(),session:this.w.getSession(),cvars:this.wt.getCustomVariablesSession()}}apply(t){t&&(t.exclusion?this.exclude():this.include(t))}exclude(){this.We.exclude(this.h),this.C.removeVisitor(),this.w.removeSession(),this.wt.removeCustomVariablesSession()}include(t){this.We.removeExclusion(),this.C.setVisitor(t.visitor),t.session?this.w.setSession(t.session):this.w.removeSession(),t.cvars?this.wt.setCustomVariableSession(t.cvars):this.wt.removeCustomVariablesSession()}}return s})(),jr=".",Ka="__DOT__",Zp=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,vh="x";function tf(s){let[n,t,e,i,r,o,c,u,p]=of(s);return{id:n,creationTimestamp:Number(t),visitsCount:Number(e),hitTimestamp:Number(i),lastVisitTimestamp:Number(r),appliedTrackingDraw:Number(o),expires:Number(c),allowSubdomains:u===void 0?void 0:!!Number(u),identityPrint:p===void 0||p===vh?null:p}}function ef(s){var n;return csArray.prototype.join.call(csArray.prototype.map.call(csArray.prototype.map.call([s.id,s.creationTimestamp,s.visitsCount,s.hitTimestamp,s.lastVisitTimestamp,s.appliedTrackingDraw,s.expires,s.allowSubdomains?1:0,(n=s.identityPrint)!==null&&n!==void 0?n:vh],csString),nf),jr)}function sf(s){return Zp.test(s)}function nf(s){return csString.prototype.replace.call(s,/\./g,Ka)}function rf(s){return csString.prototype.replace.call(s,new csRegExp(Ka,"g"),jr)}function of(s){return csString.prototype.indexOf.call(s,Ka)!==-1?csArray.prototype.map.call(csString.prototype.split.call(s,jr),rf):csString.prototype.split.call(s,jr)}var af=(()=>{let s;return function(n){n.ETR_OFF="0",n.ETR_ON="1"}(s||(s={})),s})();var cf=(()=>{let s;return function(n){n.ETR_DISABLED="0",n.ETR_PENDING="1",n.ETR_SAVED_PAGE="2",n.ETR_SAVED_SESSION="3",n.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),wh=/^(\d+\.[01356789TBWX](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,_h=".";function lf(s){return csArray.prototype.join.call([s.pageNumber,s.collectState,s.etrState,s.etrStatus],_h)}function hf(s){if(!Ja(s))return null;let n=ya(s);return n!==null?bh(n):null}function bh(s){var n,t;let[e,i,r,o]=csString.prototype.split.call(s,_h);return{collectState:i,etrState:(n=r)!==null&&n!==void 0?n:af.ETR_OFF,etrStatus:(t=o)!==null&&t!==void 0?t:cf.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}}function Ja(s){return wh.test(s)}function ya(s){if(!s)return null;let n=(()=>{var t;return(t=csString.prototype.match.call(s,wh))===null||t===void 0?void 0:t[1]})();return n!=null?n:null}var vs="_cs_ex",Bc=2592e6,uf=/^[0-9]+$/,df=(()=>{class s{constructor(t,e,i){this.h=t,this.M=e,this.Xt=i}onCookieToSet(t){this.ci=t}onCookieToRemove(t){this.li=t}get(){return this.h.cookielessTrackingEnabled?Number(this.Xt.getItem(vs)):Number(this.M.get(vs))}set(t){var e;this.h.cookielessTrackingEnabled?this.Xt.setItem(vs,t):(this.M.set(vs,t,Bc),(e=this.ci)===null||e===void 0||e.call(this,vs,t,Bc))}remove(){var t;this.h.cookielessTrackingEnabled?this.Xt.removeItem(vs):(this.M.delete(vs),(t=this.li)===null||t===void 0||t.call(this,vs))}static isValidExclusionString(t){return uf.test(t)}}return s})(),Bs="_cs_cvars",pf=(()=>{class s{constructor(t,e,i){this.h=t,this.M=e,this.Xt=i}onCookieToSet(t){this.ci=t}onCookieToRemove(t){this.li=t}get(){return this.h.cookielessTrackingEnabled?this.Xt.getItem(Bs):this.M.get(Bs)}set(t){var e;this.h.cookielessTrackingEnabled?this.Xt.setItem(Bs,t):(this.M.set(Bs,t),(e=this.ci)===null||e===void 0||e.call(this,Bs,t))}remove(){var t;this.h.cookielessTrackingEnabled?this.Xt.removeItem(Bs):(this.M.delete(Bs),(t=this.li)===null||t===void 0||t.call(this,Bs))}static isValidCustomVarString(t){return typeof t=="string"}}return s})();var ff="spki",Fc="RSA-OAEP",gf="SHA-256",$c="AES-CTR",mf="SHA-1",zc=190,Cn=(()=>{let s;return function(n){var t;let e=!1,i=null,r,o=typeof TextEncoder!="undefined"?new TextEncoder:null,c;n.crypto=(t=It.crypto)===null||t===void 0?void 0:t.subtle,n.MAX_DIGEST_INPUT_SIZE=100;function u(){return!e}n.isKeyImported=u;function p(){return i}n.getCryptoKey=p;function S(){var O,X;return((X=(O=It.self.crypto)===null||O===void 0?void 0:O.subtle)===null||X===void 0?void 0:X.encrypt)!=null&&It.self.CryptoKey!=null}n.isSupported=S;async function f(O){r=n.crypto.importKey(ff,uh(O),{name:Fc,hash:gf},!1,["encrypt"]).catch(()=>(e=!0,null)),i=await r,r=void 0,i||xt.warn(`Fail to import public key '${O}'`)}n.importKey=f;async function _(O){if(!S()||e)return null;await r;let X=Wa(O);X.byteLength>zc&&(X=X.slice(0,zc));try{let tt=await n.crypto.encrypt({name:Fc},i,X);return Oc(tt)}catch{return null}}n.asymmetricEncrypt=_;async function A(O,X){if(!S()||e)return null;let tt={counter:X.initializationVector,name:$c,length:64},nt=o.encode(O);try{let ut=await n.crypto.encrypt(tt,X.cryptoKey,nt);return Oc(ut)}catch{return null}}n.symmetricEncrypt=A;async function T(O){let X=await x(O);if(!X)throw new Error("Export secret failed");let tt=await _(X);if(!tt)throw new Error("Encrypt secret failed");return tt}n.encryptSecret=T;async function x(O){var X;if(!S())return null;try{return(X=(await n.crypto.exportKey("jwk",O)).k)!==null&&X!==void 0?X:null}catch{return null}}async function U(){if(!S()||e)return null;try{return{cryptoKey:await n.crypto.generateKey({name:$c,length:128},!0,["encrypt","decrypt"]),initializationVector:It.crypto.getRandomValues(new Uint8Array(16))}}catch{return null}}n.generateSymmetricKey=U;function N(O){c=O}n.setDigestSalt=N;async function P(O){O=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(O)),c&&(O=`${O}:${c}`);let X=o.encode(O);try{let tt=await n.crypto.digest(mf,X);return ma(tt)}catch{return null}}n.digest=P;function Y(){return It.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}n.generateKeyPair=Y}(s||(s={})),s})();function yf(){let s=new Error,n=s.stack?csArray.prototype.filter.call(csString.prototype.split.call(s.stack,`
`),e=>e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1):[];if(n.length===0)return"";let t=Sf(n);return t===""||(n=vf(n,t),n.length===0)?"":Ah(n[0])}function Ef(s){return csString.prototype.indexOf.call(s,"@")!==-1}function Sf(s){return s.length>0?Ah(s[0]):""}function vf(s,n){return csArray.prototype.filter.call(s,t=>csString.prototype.indexOf.call(t,n)===-1)}function Ah(s){let n="",t;Ef(s)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");let e=t.exec(s);return e&&(n=e[1]),n}var wf=s=>s;function _f(s,n,t,e){let i=csSymbol.for("propertyProxy");Object.defineProperty(s,n,{get(){var r;if(this[i])return this[i];let o=(r=t.get)===null||r===void 0?void 0:r.apply(this);return typeof o!="object"?o:(typeof Proxy=="function"?this[i]=new Proxy(o,{get(c,u){let p=Reflect.get(c,u);return typeof p=="function"?p.bind(c):p},set:(c,u,p)=>{let S=c[u],f=Reflect.set(c,u,p);return e.forEach(_=>_(this,p,S,"subproperty")),f}}):this[i]=o,this[i])},set(){var r;let o=arguments,c=this[n],u=(r=t.set)===null||r===void 0?void 0:r.apply(this,o);delete this[i];try{e.forEach(p=>p(this,o[0],c,"property"))}catch(p){xt.error(p)}return u}})}function bf(s,n,t){let e=Af(s,n);if(!e)return null;let i=(r,o,c,u)=>t(r,o,c,u);return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function Af(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,n);return i?i.configurable?(s[t]=e,_f(s,n,i,e),e):(xt.warn(`Cannot intercept non configurable property '${csString(n)}' of object '${s}'`),null):(xt.warn(`Cannot intercept property '${csString(n)}' because it does not exist directly on the target object '${s}'`),null)}function Tf(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=Object.getOwnPropertyDescriptor(s,n);if(!(e!=null&&e.writable)&&!(e!=null&&e.set))return xt.warn(`Cannot intercept read only function '${csString(n)}' of object '${s}'`),null;let i=new Set;s[t]=i;let r=s[n];if(typeof r=="function"){let o=function(){let c=arguments,u=[];try{u=csArray.prototype.map.call(ii(i),S=>S(c))}catch(S){xt.error(S)}let p=r.apply(this,c);try{for(let S=0;S<u.length;S++)u[S]({result:p,context:this,args:c})}catch(S){xt.error(S)}return p};Cf(o,r),s[n]=o}return i}function Ce({target:s,methodName:n,hook:t,hookPrepareArgs:e=wf,options:i}){let r=Tf(s,n);if(!r)return null;let o=c=>{let u=e(c),p=i!=null&&i.withCallerName?{callerName:yf()}:{};return S=>t({...S,...p,args:u})};return{activate:()=>{r.add(o)},deactivate:()=>{r.delete(o)}}}function Rf(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,n);return i?i.configurable?(s[t]=e,Object.defineProperty(s,n,{set(){var r;let o=arguments,c=this[n],u=(r=i.set)===null||r===void 0?void 0:r.apply(this,o);try{e.forEach(p=>p(this,o[0],c,"property"))}catch(p){xt.error(p)}return u}}),e):(xt.warn(`Cannot intercept read only property '${csString(n)}' of object '${s}'`),null):e}function Hr(s,n,t){let e=Rf(s,n);if(!e)return null;let i=(r,o,c)=>t(r,o,c,"property");return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function Cf(s,n){s.prototype=n.prototype,Object.defineProperty(s,"toString",{value:()=>n.toString()})}var on=(()=>{var s;class n{static Oy(e){this.Ms.forEach(i=>{e(i,"initial")})}static $n(e){if(this.P||(this.P=new csMutationObserver(i=>{for(let r of i)r.target.isConnected&&pt(r.addedNodes,this.Ny),pt(r.removedNodes,this.My)})),csArray.prototype.push.call(this.ve,e),!this.F){this.F=!0,this.P.observe(document,this.zn);for(let i of yi.getAllShadowHosts(document)){let r=csElementshadowRoot.apply(i);this.Ms.add(r),this.P.observe(r,this.zn)}this.Sc||(this.Sc=Ce({target:Element.prototype,methodName:"attachShadow",hook:i=>i.result.isConnected&&this.pd(i.result)})),this.Sc.activate()}this.Oy(e)}static qn(e){var i,r;this.ve=csArray.prototype.filter.call(this.ve,o=>o!==e),this.ve.length===0&&(this.ve=[],this.F=!1,(i=this.P)===null||i===void 0||i.disconnect(),(r=this.Sc)===null||r===void 0||r.deactivate(),this.Ms.clear())}constructor(e){this.S=e,this.S=Is("DocumentShadowRootObserver:callback",(i,r)=>e(i,r))}get shadowRoots(){return ii(s.Ms)}takeRecords(){var e,i;return(i=(e=s.P)===null||e===void 0?void 0:e.takeRecords())!==null&&i!==void 0?i:[]}observe(){yi.isSupported()&&s.$n(this.S)}disconnect(){yi.isSupported()&&s.qn(this.S)}}return s=n,n.ve=[],n.Ms=new Set,n.F=!1,n.zn={childList:!0,subtree:!0},n.pd=t=>{s.Ms.has(t)||(s.P.observe(t,s.zn),s.Ms.add(t),pt(s.ve,e=>e(t,"added")))},n.Ny=t=>{Pe(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(s.pd)},n.My=t=>{t.isConnected||Pe(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(e=>{s.Ms.has(e)&&(s.Ms.delete(e),pt(s.ve,i=>i(e,"removed")))})},Et([H()],n.prototype,"observe",null),Et([H()],n.prototype,"disconnect",null),n})(),Th=!0;function Ut(s,n=Th){s.boundElement.addEventListener(s.type,s.listener,n)}function Vt(s,n=Th){s.boundElement.removeEventListener(s.type,s.listener,n)}function Se(s,n=0){let t=Math.pow(10,n);return Math.round(s*t)/t}var qc=!1;function kt(){return(s,n,t)=>{if(t){let e=t.value;t.value=function(i,r){(i==null?void 0:i.isTrusted)===!1&&qc||e.call(this,i,r)}}else{let e=s[n];if(typeof e!="function")return;s[n]=function(i,...r){(i==null?void 0:i.isTrusted)===!1&&qc||e.call(this,i,r)}}}}function Xr(s,n){typeof n=="number"&&(n={wait:n});let t=n.wait,e=n.mode||"leading",i,r=[],o=null,c=0,u,p=()=>{c=z.now(),o=null,u=s.apply(i,r),r=[],i=null},S=function(...f){if(i=this!==null&&this!==void 0?this:It,r=[...f],e==="trailing")return o||(o=It.csSetTimeout(p,t)),u;let _=z.now(),A=t-(_-c);return A<=0||A>t?(c=_,u=s.apply(i,r),o?(It.csClearTimeout(o),o=null):r=[]):o||(o=It.csSetTimeout(p,A)),u};return S.cancel=()=>{o&&(It.csClearTimeout(o),c=0,o=null,r=[])},S.flushPending=()=>{o&&(It.csClearTimeout(o),p())},S}var Kr=s=>(n,t,e)=>{e.value=Xr(e.value,s)};function If(s){return s.nodeType===1}function Zt(s){let n=csEventtarget.apply(s);return n&&If(n)&&csElementshadowRoot.apply(n)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:n}function Pf(s){return s.composedPath&&Object.defineProperty(s,"__csOriginalTarget",{value:s.composedPath()[0],writable:!1,enumerable:!1}),s}function Of(){return(s,n,t)=>{let e=t.value;return e&&(t.value=function(i){if(Zt(i)===csEventtarget.apply(i))return e.call(this,i)}),t}}function Nf(s){if(!L(s))return null;let t=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(s);return t?Number(t[2]):null}var Mf=!!window.chrome,Gc="data-cs-scroll-container";function kf(s){try{if(jt(csEventtarget.apply(s)))return!0}catch{}return!1}var qi=(()=>{let s;return function(n){function t(i){return!!(jt(i)&&kf(i)&&Cs(csEventtarget.apply(i))&&csEventtarget.apply(i).getAttribute(Gc)!==null)}n.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,`[${Gc}]`)}n.getScrollContainer=e}(s||(s={})),s})();function Df(){let s=csSymbol.for("propStore");return{getStore(n){return n[s]},get(n,t){let e=n[s];return e==null?void 0:e[t]},set(n,t,e){let i=n[s];i||(i={},n[s]=i),i[t]=e}}}var Ir=Df(),ot=(()=>{let s;return function(n){function t(u,p,S){var f;u instanceof Node?Ir.set(u,p,S):((f=u.props)!==null&&f!==void 0||(u.props={}),u.props[p]=S)}n.setProperty=t;function e(u,p){var S;return u instanceof Node?Ir.get(u,p):(S=u.props)===null||S===void 0?void 0:S[p]}n.getProperty=e;function i(u){return u instanceof Node?Ir.getStore(u):u.props}n.getProperties=i;function r(u,p){let S=null;return o(u,(f,_,A)=>p(f)&&(S=f)&&!!A()),S}n.findDescendant=r;function o(u,p){c(u,void 0,p)}n.traverse=o;function c(u,p,S){let f=!1;if(S(u,p,()=>f=!0),f)return;let A=u.shadowRoot;A&&c(A,u,S);let T=u.children;if(T!=null&&T.length){for(let x of T)if(x&&(c(x,u,S),f))break}}}(s||(s={})),s})(),Rh=1,In=csSymbol("nodeIdentifier");function Lf(s=!1){s&&(Rh=1),In=csSymbol("nodeIdentifier")}function xf(s){return ot.getProperty(s,In)}function bt(s){let n=ot.getProperty(s,In);return n!=null?n:(ot.setProperty(s,In,Rh++),ot.getProperty(s,In))}var $o;function oe(s){if($o||($o=document.createElement("div")),!(!!s&&L(s)))return xt.warn(`isValidSelector: invalid selector provided '${s}'`),!1;try{return Oe.call($o,s),!0}catch{return xt.warn(`isValidSelector: invalid selector provided '${s}'`),!1}}function Zi(s,n){if(Tc)return Tc.call(s,n);let t=s;do{if(Oe.call(t,n))return t;t=t==null?void 0:t.parentElement}while(t!==null&&t.nodeType===1);return null}var G=(()=>{let s;return function(n){let t;(function(N){N[N.NotMasked=0]="NotMasked",N[N.Parent=1]="Parent",N[N.Child=2]="Child"})(t=n.MaskedElementState||(n.MaskedElementState={})),n.maskedProp="masked",n.maskedAttributeProp="maskedAttribute";function e(N){return ti(N)&&"Attributes"in N&&"PIISelectors"in N?N.Attributes instanceof Array&&N.PIISelectors instanceof Array:!1}n.isSelectorUserInput=e;function i(N){if(!ti(N)||N===null)throw new Error("Command misuse: setPIISelectors");return"Attributes"in N||(N.Attributes=[]),"PIISelectors"in N||(N.PIISelectors=[]),N}n.sanitizeSelectorUserInput=i;function r(N){var P;return(P=ot.getProperty(N,n.maskedProp))!==null&&P!==void 0?P:{state:t.NotMasked}}n.getMaskedElementDetails=r;function o(N){var P;return(P=ot.getProperty(N,n.maskedAttributeProp))!==null&&P!==void 0?P:{attributes:[]}}n.getMaskedAttributeDetails=o;function c(N){let P=ot.getProperty(N,n.maskedProp);return(P==null?void 0:P.state)===t.Parent}n.isMaskedElement=c;function u(N){let P=ot.getProperty(N,n.maskedProp);return(P==null?void 0:P.state)===t.Child}n.isMaskedElementChild=u;function p(N,P){let Y=ot.getProperty(N,n.maskedAttributeProp);return((Y==null?void 0:Y.attributes)==null?void 0:csArray.prototype.indexOf.call(Y==null?void 0:Y.attributes,P))>-1}n.isMaskedAttribute=p;function S(N,P){ot.setProperty(N,n.maskedProp,P)}n.setMaskedElementProperty=S;function f(N){ot.setProperty(N,n.maskedProp,void 0)}n.unsetMaskedElementProperty=f;function _(N,P){ot.setProperty(N,n.maskedAttributeProp,P)}n.setMaskedAttributeProperty=_;function A(N,P){let Y=csArray.prototype.filter.call(N.PIISelectors,tt=>oe(tt));P.elementSelector.length>0&&csArray.prototype.push.call(Y,...csString.prototype.split.call(P.elementSelector,","));let O=U([...Y]),X={elementSelector:csArray.prototype.join.call(O,","),attrSelector:P.attrSelector,attrSelectors:P.attrSelectors};return csArray.prototype.forEach.call(N.Attributes,tt=>{tt!=null&&tt.attrName&&(tt!=null&&tt.selector)&&oe(tt.selector)&&!T(X.attrSelectors,tt)&&csArray.prototype.push.call(X.attrSelectors,tt)}),X.attrSelector=x(X.attrSelectors),X}n.getComputedSelectorSettings=A;function T(N,P){return csArray.prototype.some.call(N,Y=>Y.selector===P.selector&&Y.attrName===P.attrName)}function x(N){let P="";return csArray.prototype.forEach.call(N,Y=>{let O=csString.prototype.split.call(Y.selector,",");csArray.prototype.forEach.call(O,X=>{oe(X)&&(P&&(P+=","),P+=X)})}),P}function U(N){if(N.length<=1)return N;let P=[];for(let Y of N){let O=csString.prototype.split.call(Y,",");for(let X of O)csArray.prototype.indexOf.call(P,X)===-1&&csArray.prototype.push.call(P,X)}return P}}(s||(s={})),s})(),J=(()=>{let s;return function(n){n[n.MUTATION_INSERT=1]="MUTATION_INSERT",n[n.MUTATION_REMOVE=2]="MUTATION_REMOVE",n[n.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",n[n.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",n[n.INITIAL_DOM=5]="INITIAL_DOM",n[n.SCROLL=6]="SCROLL",n[n.CLICK=8]="CLICK",n[n.RESIZE=9]="RESIZE",n[n.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",n[n.INPUT_SELECT=11]="INPUT_SELECT",n[n.INPUT_TEXT=12]="INPUT_TEXT",n[n.HASH_CHANGE=13]="HASH_CHANGE",n[n.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",n[n.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",n[n.MOUSE_OVER=16]="MOUSE_OVER",n[n.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",n[n.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",n[n.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",n[n.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",n[n.ATTACH_SHADOW=22]="ATTACH_SHADOW",n[n.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",n[n.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",n[n.PAGE_EVENT=27]="PAGE_EVENT",n[n.API_ERROR=28]="API_ERROR",n[n.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",n[n.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",n[n.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",n[n.KEY_DOWN=32]="KEY_DOWN",n[n.KEY_UP=33]="KEY_UP",n[n.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",n[n.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",n[n.USER_IDENTIFIER=38]="USER_IDENTIFIER",n[n.TOUCH_START=41]="TOUCH_START",n[n.TOUCH_MOVE=42]="TOUCH_MOVE",n[n.TOUCH_END=43]="TOUCH_END",n[n.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",n[n.POINTER_DOWN=47]="POINTER_DOWN",n[n.POINTER_MOVE=48]="POINTER_MOVE",n[n.POINTER_UP=49]="POINTER_UP",n[n.CUSTOM_ERROR=50]="CUSTOM_ERROR",n[n.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",n[n.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",n[n.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",n[n.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",n[n.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",n[n.SCREEN_RESIZE=65]="SCREEN_RESIZE",n[n.RESOURCE_HASHES=66]="RESOURCE_HASHES",n[n.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",n[n.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",n[n.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",n[n.TEXT_REF=73]="TEXT_REF",n[n.TOUCH_CANCEL=74]="TOUCH_CANCEL",n[n.MUTATION_MOVE=75]="MUTATION_MOVE",n[n.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",n[n.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",n[n.VIDEO_PLAY=78]="VIDEO_PLAY",n[n.VIDEO_PAUSE=79]="VIDEO_PAUSE",n[n.VIDEO_SEEK=80]="VIDEO_SEEK",n[n.ADOPTED_STYLESHEET_DISABLED=98]="ADOPTED_STYLESHEET_DISABLED",n[n.STYLESHEET_DISABLED=99]="STYLESHEET_DISABLED",n[n.DEBUG=999]="DEBUG"}(s||(s={})),s})();var wn=(()=>{let s;return function(n){n[n.SWIPE=0]="SWIPE",n[n.PINCH_IN=1]="PINCH_IN",n[n.PINCH_OUT=2]="PINCH_OUT",n[n.LONG_PRESS=3]="LONG_PRESS",n[n.TAP=4]="TAP",n[n.DOUBLE_TAP=5]="DOUBLE_TAP"}(s||(s={})),s})(),Gi=(()=>{let s;return function(n){n[n.COPY=0]="COPY",n[n.CUT=1]="CUT",n[n.PASTE=2]="PASTE"}(s||(s={})),s})(),ht=(()=>{let s;return function(n){n[n.SPACE=0]="SPACE",n[n.ENTER=1]="ENTER",n[n.BACKSPACE=2]="BACKSPACE",n[n.DELETE=3]="DELETE",n[n.ARROWUP=4]="ARROWUP",n[n.ARROWDOWN=5]="ARROWDOWN",n[n.ARROWLEFT=6]="ARROWLEFT",n[n.ARROWRIGHT=7]="ARROWRIGHT",n[n.CAPSLOCK=8]="CAPSLOCK",n[n.SHIFT=9]="SHIFT",n[n.TAB=10]="TAB",n[n.ALPHANUMERICAL=11]="ALPHANUMERICAL",n[n.ESCAPE=12]="ESCAPE",n[n.END=13]="END",n[n.ALT=14]="ALT",n[n.CTRL=15]="CTRL",n[n.META=16]="META"}(s||(s={})),s})(),Uf=33,Vf=(()=>{class s{constructor(){this.eventType="user",this.vc=[],this.ky=[{type:"pointerup",listener:e=>this.pointerUpListener(e),boundElement:document},{type:"pointermove",listener:e=>this.pointerMoveListener(e),boundElement:document},{type:"pointerdown",listener:e=>this.pointerDownListener(e),boundElement:document}],this.Dy=[{type:"touchstart",listener:e=>this.touchStartListener(e),boundElement:document},{type:"touchmove",listener:e=>this.touchMoveListener(e),boundElement:document},{type:"touchend",listener:e=>this.touchEndCancelListener(e),boundElement:document},{type:"touchcancel",listener:e=>this.touchEndCancelListener(e),boundElement:document}],this.yo=[{type:"click",listener:e=>this.clickListener(e),boundElement:document},{type:"keyup",listener:e=>this.keyUpListener(e),boundElement:document},{type:"keydown",listener:e=>this.keyDownListener(e),boundElement:document},{type:"copy",listener:e=>this.copyListener(e),boundElement:document},{type:"cut",listener:e=>this.cutListener(e),boundElement:document},{type:"paste",listener:e=>this.pasteListener(e),boundElement:document},{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e)),boundElement:document},{type:"mouseover",listener:e=>this.mouseOverListener(e),boundElement:document}],this.wc=[{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e))}];let t=Nf(window.navigator.userAgent);(t===null||t&&t>=16)&&csArray.prototype.push.call(this.wc,{type:"mouseover",listener:e=>this.mouseOverListener(e)}),this.ne=new on((e,i)=>{switch(i){case"initial":case"added":this.hi(e);break;case"removed":this.pi(e);break}})}init(){this.Ly(),this.xy(),this._c()}onEvent(t){csArray.prototype.push.call(this.vc,t)}Kt(t,e=!1){csArray.prototype.forEach.call(this.vc,i=>i(t,e))}start(){this.bc(),this.hi(document),this.ne.observe()}stop(){this.pi(document),this.ne.disconnect(),this.vc=[]}xy(){this.Uy()&&csArray.prototype.push.call(this.yo,...this.ky)}Ly(){this.Vy()&&csArray.prototype.push.call(this.yo,...this.Dy)}hi(t){Dr(t)?csArray.prototype.forEach.call(this.yo,e=>Ut(e)):csArray.prototype.forEach.call(this.wc,e=>{let i={type:e.type,listener:e.listener,boundElement:t};Ut(i)})}pi(t){Dr(t)?csArray.prototype.forEach.call(this.yo,e=>Vt(e)):csArray.prototype.forEach.call(this.wc,e=>{let i={type:e.type,listener:e.listener,boundElement:t};Vt(i)})}Uy(){return"PointerEvent"in window&&typeof window.PointerEvent=="function"}Vy(){return"TouchEvent"in window&&typeof window.TouchEvent=="function"}bc(){this.jy()}jy(){let t=qi.getScrollContainer()||document,e=bt(t),i=this.gd(t);if(i.top!==0||i.left!==0){let r={type:J.SCROLL,args:[e,i.left,i.top],date:z.now()};this.Kt(r,!0)}}gd(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}}scrollListener(t){if(G.isMaskedElement(t)||G.isMaskedElementChild(t))return;let e=bt(t),i=this.gd(t),r={type:J.SCROLL,args:[e,i.left,i.top],date:z.now()};this.Kt(r)}mouseOverListener(t){if(G.isMaskedElementChild(t.target))return;let e=bt(t.target),i={type:J.MOUSE_OVER,args:[e],date:z.now()};this.Kt(i)}clickListener(t){let e=Zt(t);if(G.isMaskedElementChild(e))return;let i=bt(e),r={type:J.CLICK,args:[i],date:z.now()};this.Kt(r)}keyUpListener(t){let e=Zt(t);if(G.isMaskedElementChild(e))return;let i=bt(e),r=this.D[t.key];if(r===void 0)return;let o={type:J.KEY_UP,args:[i,r],date:z.now()};this.Kt(o)}keyDownListener(t){let e=Zt(t);if(G.isMaskedElementChild(e))return;let i=bt(e),r=this.D[t.key];if(r===void 0)return;let o={type:J.KEY_DOWN,args:[i,r],date:z.now()};this.Kt(o)}copyListener(t){let e=Zt(t);if(G.isMaskedElementChild(e))return;let i=bt(e),r={type:J.CLIPBOARD_COMMAND,args:[i,Gi.COPY],date:z.now()};this.Kt(r)}cutListener(t){let e=Zt(t);if(G.isMaskedElementChild(e))return;let i=bt(e),r={type:J.CLIPBOARD_COMMAND,args:[i,Gi.CUT],date:z.now()};this.Kt(r)}pasteListener(t){let e=Zt(t);if(G.isMaskedElementChild(e))return;let i=bt(e),r={type:J.CLIPBOARD_COMMAND,args:[i,Gi.PASTE],date:z.now()};this.Kt(r)}pointerUpListener(t){let e=Zt(t);if(G.isMaskedElementChild(e))return;let i=bt(e),r={type:J.POINTER_UP,args:[t.pointerId,t.pointerType,Se(t.clientX,1),Se(t.clientY,1),i,t.button],date:z.now()};this.Kt(r)}pointerMoveListener(t){let e={type:J.POINTER_MOVE,args:[t.pointerId,t.pointerType,Se(t.clientX,1),Se(t.clientY,1)],date:z.now()};this.Kt(e)}pointerDownListener(t){let e=Zt(t);if(G.isMaskedElementChild(e))return;let i=bt(e),r={type:J.POINTER_DOWN,args:[t.pointerId,t.pointerType,Se(t.clientX,1),Se(t.clientY,1),i,t.button,{pageX:Se(t.pageX,1),pageY:Se(t.pageY,1)}],date:z.now()};this.Kt(r)}touchStartListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],o={type:J.TOUCH_START,args:[r.identifier,Se(r.clientX,1),Se(r.clientY,1)],date:z.now()};this.Kt(o)}}touchMoveListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],o={type:J.TOUCH_MOVE,args:[r.identifier,Se(r.clientX,1),Se(r.clientY,1)],date:z.now()};this.Kt(o)}}touchEndCancelListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],o={type:t.type==="touchend"?J.TOUCH_END:J.TOUCH_CANCEL,args:[r.identifier,Se(r.clientX,1),Se(r.clientY,1)],date:z.now()};this.Kt(o)}}_c(){this.D={},this.D[" "]=ht.SPACE,this.D.Spacebar=ht.SPACE,this.D.Backspace=ht.BACKSPACE,this.D.Enter=ht.ENTER,this.D.Delete=ht.DELETE,this.D.ArrowUp=ht.ARROWUP,this.D.ArrowDown=ht.ARROWDOWN,this.D.ArrowLeft=ht.ARROWLEFT,this.D.ArrowRight=ht.ARROWRIGHT,this.D.Up=ht.ARROWUP,this.D.Down=ht.ARROWDOWN,this.D.Left=ht.ARROWLEFT,this.D.Right=ht.ARROWRIGHT,this.D.CapsLock=ht.CAPSLOCK,this.D.Shift=ht.SHIFT,this.D.Tab=ht.TAB,this.D.Escape=ht.ESCAPE,this.D.Esc=ht.ESCAPE,this.D.End=ht.END,this.D.Alt=ht.ALT,this.D.Control=ht.CTRL,this.D.Meta=ht.META}}return Z([ee("RecordingPageEvents.start")],s.prototype,"start",null),Z([H("scroll")],s.prototype,"scrollListener",null),Z([H("mouseOver"),kt(),Of()],s.prototype,"mouseOverListener",null),Z([H("click"),kt()],s.prototype,"clickListener",null),Z([H("Event handler type: keyup")],s.prototype,"keyUpListener",null),Z([H("Event handler type: keydown")],s.prototype,"keyDownListener",null),Z([H("Event handler type: copy")],s.prototype,"copyListener",null),Z([H("Event handler type: cut")],s.prototype,"cutListener",null),Z([H("Event handler type: paste")],s.prototype,"pasteListener",null),Z([H("Event handler type: pointerup"),kt()],s.prototype,"pointerUpListener",null),Z([H("Event handler type: pointermove"),kt(),Kr({wait:Uf})],s.prototype,"pointerMoveListener",null),Z([H("Event handler type: pointerdown"),kt()],s.prototype,"pointerDownListener",null),Z([H("Event handler type: touchstart"),kt()],s.prototype,"touchStartListener",null),Z([H("Event handler type: touchmove"),kt()],s.prototype,"touchMoveListener",null),Z([H("Event handler type: touchend-cancel"),kt()],s.prototype,"touchEndCancelListener",null),s})(),jf=2,Qa=(()=>{class s{constructor(t){this.Hy=t,this.Eo=0}addString(t){this.Eo+=t.length*jf}addArrayBuffer(t){this.Eo+=t.byteLength}isThresholdReached(){return this.Eo>this.Hy}reset(){this.Eo=0}}return s})(),Hf=2*1e3*1024,Bf=200,Ff=(()=>{class s{constructor(t=[],e=Hf){this.Nt=t,this.Ac=new Qa(e)}addEvent(t){this.Ac.addString(Ji(t)),csArray.prototype.push.call(this.Nt,t)}addEventByTimestamp(t){let e=0;for(;e<this.Nt.length&&!(this.Nt[e].date>=t.date);e+=1);csArray.prototype.splice.call(this.Nt,e,0,t)}eventsCount(){return this.Nt.length}clearEvents(){this.Ac.reset(),this.Nt=[]}isFull(){return this.eventsCount()>=Bf}isThresholdReached(){return this.Ac.isThresholdReached()}getEvents(){return this.Nt}extractEvents(...t){let e=[],i=[];return csArray.prototype.forEach.call(this.Nt,r=>{csArray.prototype.indexOf.call(t,r.type)!==-1?csArray.prototype.push.call(e,r):csArray.prototype.push.call(i,r)}),this.Nt=i,e}stringifyEvents(){return Ji(this.Nt)}pC(t){t.type===J.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)}}return Z([ee("RecordingBatch.addEvent")],s.prototype,"addEvent",null),s})(),$f=(()=>{class s{constructor(){this.So=1}getCurrentIndex(){return this.So}increment(){this.So+=1}reset(){this.So=1}getRequestParameters(){return{ri:`${this.So}`}}}return s})(),Ch=(()=>{class s{emit(t,e,i,r=document){let c=`${i!==void 0?`${i}`:`${s.By}`}${t}`,u=s.createEvent(c,{detail:e});u!==null&&r.dispatchEvent(u)}static createEvent(t,e={}){if(typeof CustomEvent=="function")return new CustomEvent(t,e);let i=this.Fy();if(i===null)return null;let{bubbles:r=!1,cancelable:o=!1,detail:c}=e;return i.initCustomEvent(t,r,o,c),i}static Fy(){try{return document.createEvent("CustomEvent")}catch{return null}}}return s.By="cs.tracking.",s})(),ae=(()=>{class s{constructor(){this._isStarted=!1}get isStarted(){return this._isStarted}start(...t){this._isStarted||(this._isStarted=!0,this.onStart(...t))}stop(){this._isStarted&&(this._isStarted=!1,this.onStop())}restart(){this.stop(),this.start()}}return s})(),Pr="null",Xs=null,Ih=[],zf=()=>{var s;return jn||!!(!((s=document.body)===null||s===void 0)&&s.getAttribute("data-cs-tag-extension"))};!jn&&zf()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],Xs=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",s=>{Ea({type:"UXA_EVENT",event:s.detail})}),Xs.addEventListener("message",s=>{if(s.data.type==="CONNECT"){if(s.data.sessionId===Pr)return;Pr=s.data.sessionId,csArray.prototype.forEach.call(Ih,n=>n()),Xs==null||Xs.postMessage({type:"CONNECTED",sessionId:Pr})}}));function qf(s){jn||(Pr!==null&&csSetTimeout(s),csSetTimeout(()=>csArray.prototype.push.call(Ih,s)))}function Ea(s){Xs==null||Xs.postMessage(s)}var Jr=(()=>{class s{constructor(t,e=""){this.name=t,this.format=e}}return s})(),pi=(()=>{class s extends Jr{constructor(t){super(t,"Value: {count}"),this.count=0}increase(t=1){this.count+=t}decrease(){this.count>0&&this.count--}clear(){this.count=0}getData(){return{count:this.count}}}return s})();var Wc=(()=>{class s extends Jr{constructor(t){super(t,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}"),this.added=0,this.removed=0}get value(){return this.added-this.removed}increase(){this.added++}decrease(){this.removed++}getData(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}}}return s})(),zo=(()=>{class s extends Jr{constructor(t){super(t,"Count: {count}<br/>Average: {average}ms<br/>Total: {total}ms"),this.total=0,this.count=0}get average(){return this.count?this.total/this.count:0}measure(t){let e=z.elapsed();t(),this.count++,this.total+=z.elapsed()-e}asyncMeasure(){let t=z.elapsed();return()=>{this.count++,this.total+=z.elapsed()-t}}getData(){return{total:this.total,count:this.count,average:this.average}}}return s})(),re={general:{category:"General",nbEvents:new pi("Nb of Events"),pendingTasks:new pi("Pending Tasks"),pendingEvents:new pi("Pending Tasks"),nbOfMutationObservers:new Wc("Nb of Mutation Observers")},mutations:{category:"Mutations",initialDOM:new zo("Initial DOM"),pendingMutations:new pi("Nb of Mutations scheduled"),serializedMutations:new zo("Serialized Mutations"),count:new pi("Mutation Count"),elementMutationObserved:new Wc("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new zo("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new pi("Nb of Hidden Elements "),nbElements:new pi("Nb of  Elements")}},Yc=null;qf(()=>{let s=i=>Object.keys(i),n=csArray.prototype.map.call(s(re),i=>re[i]),t=csArray.prototype.map.call(n,i=>csArray.prototype.filter.call(csArray.prototype.map.call(s(i),r=>i[r]),r=>r instanceof Jr));Ea({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:csArray.prototype.map.call(n,(i,r)=>({category:i.category,performanceCounters:csArray.prototype.map.call(t[r],o=>({name:o.name,format:o.format}))}))}),!Yc&&(Yc=csSetInterval(()=>{let i=$a(Ye(t,r=>Ye(r,o=>o.getData())),r=>r);Ea({type:"UXA_PERFORMANCE_COUNTER",event:i})},1e3))});var q=(()=>{let s;return function(n){n.QUOTA_REACHED="X",n.RECORDING_RULES_TARGETING="8",n.ANALYTICS_ONLY_RULES_TARGETING="9",n.ANALYTICS_ONLY="0",n.RECORDING_GLOBAL_SAMPLING="5",n.RECORDING_TEMPORARILY="T",n.RECORDING_URL_SAMPLING="6",n.RECORDING_ETR_SAMPLING="7",n.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",n.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(s||(s={})),s})(),fe=(()=>{let s;return function(n){n.ETR_OFF="0",n.ETR_ON="1"}(s||(s={})),s})(),Qs=(()=>{let s;return function(n){n.ETR_LEGACY="0",n.ETR_SESSION="1",n.ETR_PAGE="2"}(s||(s={})),s})(),de=(()=>{let s;return function(n){n.ETR_DISABLED="0",n.ETR_PENDING="1",n.ETR_SAVED_PAGE="2",n.ETR_SAVED_SESSION="3",n.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})();function Os(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(r=(i<3?o(r):i>3?o(n,t,r):o(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}function Ue(s){return Ne(s,"data:")}function Gf(s){return Ne(s,"#")}function Wf(s){return!!s&&(rn(s,".css")||Ne(s,"https://fonts.googleapis.com/css"))}var Xc=/\bhttps?:\/\/[^\s<>"')\]]*[^\s<>"'),.;:\])]/gi;function Yf(s){Xc.lastIndex=0;let n,t=0,e=[];for(;(n=Xc.exec(s))!==null;){let i=n.index,r=n.index+n[0].length;if(i>t){let c=csString.prototype.slice.call(s,t,i);csArray.prototype.push.call(e,{content:c,isUrl:!1})}let o=csString.prototype.slice.call(s,i,r);csArray.prototype.push.call(e,{content:o,isUrl:!0}),t=r}if(t<s.length){let i=csString.prototype.slice.call(s,t);csArray.prototype.push.call(e,{content:i,isUrl:!1})}return e}function Za(s){let n=csString.prototype.trim.call(s);if(s==="")return[];let[t,e]=Xf(n);return e?(rn(t,",")||(e=Kf(e)),[Kc(t),...Za(e)]):[Kc(t)]}function Xf(s){return csString.prototype.split.call(s,/\s(.+)/)}function Kc(s){return csString.prototype.split.call(s,/,$/)[0]}function Kf(s){return csString.prototype.split.call(s,/,(.+)/)[1]||""}var Jf=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;function Qf(s,n){return csString.prototype.replace.call(s,Jf,(...e)=>{let i=e[3]||e[4],r=e[9]||e[10]||e[11],o=tg((i||r).trim()),c=i?"@import ":"",u=n(o)||o;return`${c}url(${Zf(u)})`})}function Zf(s){return csString.prototype.indexOf.call(s,'"')===-1?`"${s}"`:csString.prototype.indexOf.call(s,"'")===-1?`'${s}'`:s}function Pn(s){let n=new Set;return Qf(s,t=>{var e,i;return n.add((i=(e=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))===null||e===void 0?void 0:e[1])!==null&&i!==void 0?i:t),t}),ii(n)}function tg(s){let n=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return csString.prototype.replace.call(s,n,(t,e,i,r)=>{if(e==="\\")return csString.prototype.slice.call(t,1);if(r)return r;let o=parseInt(i,16);return 55296<=o&&o<=57343||o===0||o>1114111?"\uFFFD":csString.fromCodePoint(o)})}var Jc=new Map,qo=!jn&&document.implementation.createHTMLDocument("");function Ph(s){var n,t;return(t=(n=s.sheet)===null||n===void 0?void 0:n.href)!==null&&t!==void 0?t:s.getAttribute("href")}function eg(s){if(!qr(s))return null;let n=Oh(s);if(n===null||n.length===0)return null;let t="";if(ld(s.textContent))pt(n,e=>t+=e.cssText);else{let e=sg(s);if(e===n.length||e>n.length)return null;let i=new csArray(n.length-e);for(let r=e,o=0;r<n.length;r+=1,o+=1)i[o]=n[r];pt(i,r=>t+=r.cssText)}return t}function sg(s){if(!qo)return 0;let n=Jc.get(s.textContent);if(n)return n;let t=s.cloneNode(!0);t.textContent=s.textContent,qo.head.appendChild(t);let e=Oh(t);return n=e?e.length:0,Jc.set(s.textContent,n),qo.head.removeChild(t),n}function Oh(s){try{if(s.disabled)return null;let n=s.sheet;return n?n.cssRules||n.rules:null}catch(n){if(n.name!=="SecurityError"&&n.name!=="InvalidAccessError")throw n;return null}}var An=s=>s instanceof HTMLFormElement?"form":s.localName;var vi=(()=>{class s{constructor(t){this.csId=bt(t),this.props=Ir.getStore(t)}}return s})(),Nh=(()=>{class s extends vi{constructor(t){super(t),this.nodeType=3,this.data=t.data}}return s})(),Zs=(()=>{class s extends vi{constructor(t){var e,i,r;super(t),this.attributes=[],this.nodeType=1,this.localName=An(t),this.namespaceURI=(e=t.namespaceURI)!==null&&e!==void 0?e:void 0,this.children=[];let o=eg(t);if(o){this.children=new csArray(csNodechildNodes.apply(t).length);let c=document.createTextNode(o),u=new Nh(c);csArray.prototype.push.call(this.children,u)}en(t)&&ot.setProperty(this,"SVG",!0),(qr(t)||Ua(t))&&(this.disabledSheet=(r=(i=t.sheet)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:!1)}static isElement(t){return t.nodeType===1}static getAttribute(t,e){return os(t.attributes,i=>i.name===e)}static getAttributeValue(t,e){var i;return(i=this.getAttribute(t,e))===null||i===void 0?void 0:i.value}}return s})(),tc=(()=>{class s{constructor(t){this.type="asyncEvent",this.Tc=!1,t&&t(e=>this.resolve(e))}resolve(t){if(this.Tc)throw new Error("AsyncEvent already resolve.");t.timestamp==null&&(t={...t,timestamp:this.timestamp}),this.ks=t,this.Tc=!0,this.S&&this.S(this.ks)}complete(t){this.Tc&&t(this.ks),this.S=t}wait(){return new Promise(t=>this.complete(t))}}return s})();function ig(s,n){let t=!1,e=function(){if(!t)return s.apply(n,arguments)};return e.cancel=()=>t=!0,e}var Sa=csQueueMicrotask||csSetTimeout,mr=new sn,_n=new sn,Qc=1;function we(s,n="high"){let t=Qc;mr.isEmpty&&_n.isEmpty&&Mh(()=>{if(Qc!==t)return;let r=Si(()=>{for(;!_n.isEmpty;)_n.pop()();for(;!mr.isEmpty;)mr.pop()();_n.isEmpty||r()},"groupMicrotask.run");r()});let e=s.name||s.toString(),i=Is(`groupMicrotask:${n}:${e}`,s);n==="high"?_n.push(i):mr.push(i)}function Mh(s,n=10){Sa(n===0?s:()=>Mh(s,n-1))}async function kh(s=1){for(let n=0;n<s;n++)await new Promise(t=>we(t))}var Qr=(()=>{class s{constructor(){this.set=new Set}add(t){this.set.add(t),this.set.size===1&&csSetTimeout(()=>{this.set.clear()})}has(t){return this.set.has(t)}del(t){this.set.delete(t)}clear(){this.set.clear()}values(){return ii(this.set)}get count(){return this.set.size}}return s})(),ng=(()=>{class s extends Qr{constructor(t="high"){super(),this.$y=t}add(t){this.set.add(t),this.set.size===1&&we(()=>{this.set.clear()},this.$y)}}return s})();function Zr(s,n=!1){let t=new Qr;return{push(e){t.count===0&&(n?we:csSetTimeout)(()=>{s(t.values()),t.clear()}),t.add(e)}}}var bs=csSymbol(),ec=(()=>{class s{constructor(t){var e,i,r,o,c,u,p,S,f,_,A,T,x;this.S=t,this.Rc=null,this.Cc=null,this.Ic=null,this.Pc=null,this.Oc=null,this.zy=Zr(U=>this.processUpdateRulesInATick(U)),this.Nc=null,this.Mc=null,this.kc=null,this.S=U=>we(()=>t(U)),typeof((i=(e=window.CSSStyleSheet)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i.insertRule)=="function"&&(this.Rc=Ce({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:({context:U,args:N})=>{this.processInsertRule(U,N)}})),typeof((o=(r=window.CSSStyleSheet)===null||r===void 0?void 0:r.prototype)===null||o===void 0?void 0:o.deleteRule)=="function"&&(this.Cc=Ce({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:({context:U,args:N})=>{this.processDeleteRule(U,N)}})),typeof((u=(c=window.CSSGroupingRule)===null||c===void 0?void 0:c.prototype)===null||u===void 0?void 0:u.insertRule)=="function"&&(this.Ic=Ce({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:({context:U})=>this.processUpdateRule(U)})),typeof((S=(p=window.CSSGroupingRule)===null||p===void 0?void 0:p.prototype)===null||S===void 0?void 0:S.deleteRule)=="function"&&(this.Pc=Ce({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:({context:U})=>this.processUpdateRule(U)})),!((f=window.StyleSheet)===null||f===void 0)&&f.prototype&&"disabled"in window.StyleSheet.prototype&&(this.Oc=Hr(window.StyleSheet.prototype,"disabled",(U,N,P)=>{N!==P&&this.qy(U,N)})),typeof((A=(_=window.CSSStyleDeclaration)===null||_===void 0?void 0:_.prototype)===null||A===void 0?void 0:A.setProperty)=="function"&&(this.Nc=Ce({target:window.CSSStyleDeclaration.prototype,methodName:"setProperty",hook:({context:U})=>{let N=U.parentRule;N instanceof CSSStyleRule&&this.processUpdateRule(N)}})),typeof((x=(T=window.CSSStyleDeclaration)===null||T===void 0?void 0:T.prototype)===null||x===void 0?void 0:x.removeProperty)=="function"&&(this.Mc=Ce({target:window.CSSStyleDeclaration.prototype,methodName:"removeProperty",hook:({context:U})=>{let N=U.parentRule;N instanceof CSSStyleRule&&this.processUpdateRule(N)}})),Object.getOwnPropertyDescriptor(window.CSSStyleRule.prototype,"style")&&(this.kc=bf(window.CSSStyleRule.prototype,"style",U=>{this.processUpdateRule(U)}))}observe(){var t,e,i,r,o,c,u,p;(t=this.Rc)===null||t===void 0||t.activate(),(e=this.Cc)===null||e===void 0||e.activate(),(i=this.Ic)===null||i===void 0||i.activate(),(r=this.Pc)===null||r===void 0||r.activate(),(o=this.Oc)===null||o===void 0||o.activate(),(c=this.Nc)===null||c===void 0||c.activate(),(u=this.Mc)===null||u===void 0||u.activate(),(p=this.kc)===null||p===void 0||p.activate()}disconnect(){var t,e,i,r,o,c,u,p;(t=this.Rc)===null||t===void 0||t.deactivate(),(e=this.Cc)===null||e===void 0||e.deactivate(),(i=this.Ic)===null||i===void 0||i.deactivate(),(r=this.Pc)===null||r===void 0||r.deactivate(),(o=this.Oc)===null||o===void 0||o.deactivate(),(c=this.Nc)===null||c===void 0||c.deactivate(),(u=this.Mc)===null||u===void 0||u.deactivate(),(p=this.kc)===null||p===void 0||p.deactivate()}processInsertRule(t,[e,i]){if(t[bs]==null&&!t.ownerNode)return;let r={type:"cssRuleInserted",sheet:t,rule:e,index:i};this.S(r)}processUpdateRule(t){let e=t;for(;e.parentRule!==null;)e=e.parentRule;e.parentStyleSheet!==null&&this.zy.push(e)}processUpdateRulesInATick(t){for(let e of t){if(e.parentStyleSheet===null)return;let i=e.parentStyleSheet,r=csArray.prototype.indexOf.call(Xi(i.cssRules),e);if(r===-1)return;let o={type:"cssRuleUpdated",sheet:i,rule:e.cssText,index:r};this.S(o)}}processDeleteRule(t,[e]){if(t[bs]==null&&!t.ownerNode)return;let i={type:"cssRuleDeleted",sheet:t,index:e};this.S(i)}qy(t,e){if(t[bs]==null&&!t.ownerNode)return;let i={type:"cssStyleSheetDisabled",sheet:t,disabled:e};this.S(i)}}return Et([H()],s.prototype,"observe",null),Et([H()],s.prototype,"disconnect",null),Et([H()],s.prototype,"processInsertRule",null),Et([H()],s.prototype,"processUpdateRule",null),Et([H()],s.prototype,"processUpdateRulesInATick",null),Et([H()],s.prototype,"processDeleteRule",null),s})(),rg=(()=>{class s{constructor(t){this.Gy=1,this.vo=new Set,this.Dc=null,this.Lc=null,this.xc=(e,i)=>{(i==="initial"||i==="added")&&this.setStyleSheets(e,e.adoptedStyleSheets)},this.Wy=e=>{let i=e.sheet;if(this.vo.has(i)){if(e.type==="cssRuleInserted"){let r={type:"adoptedStyleSheetRuleInserted",sheetId:i[bs],rule:e.rule,index:e.index};this.S(r)}else if(e.type==="cssRuleDeleted"){let r={type:"adoptedStyleSheetRuleDeleted",sheetId:i[bs],index:e.index};this.S(r)}else if(e.type==="cssRuleUpdated"){let r={type:"adoptedStyleSheetRuleUpdated",sheetId:i[bs],rule:e.rule,index:e.index};this.S(r)}else if(e.type==="cssStyleSheetDisabled"){let r={type:"adoptedStyleSheetDisabled",sheetId:i[bs],disabled:e.disabled};this.S(r)}}},this.S=e=>we(async()=>{await kh(2),t(e)}),this.ne=new on(this.xc),"adoptedStyleSheets"in Document.prototype&&(this.Dc=Hr(window.Document.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.Lc=Hr(window.ShadowRoot.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),this.md=new ec(this.Wy)}observe(){var t,e;this.setStyleSheets(document,document.adoptedStyleSheets),this.ne.observe(),(t=this.Dc)===null||t===void 0||t.activate(),(e=this.Lc)===null||e===void 0||e.activate(),this.md.observe()}disconnect(){var t,e;this.vo.clear(),this.ne.disconnect(),(t=this.Dc)===null||t===void 0||t.deactivate(),(e=this.Lc)===null||e===void 0||e.deactivate(),this.md.disconnect()}setStyleSheets(t,e){if(!e.length)return;this.Yy(e);let i=Ye(e,o=>o[bs]),r={type:"adoptedStyleSheetsSet",target:t,sheetsIds:i};this.S(r)}Yy(t){pt(t,e=>{if(this.vo.has(e))return;let i=this.Gy++;e[bs]=i,this.vo.add(e);let r=this.Xy(e),o={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:r,disabled:e==null?void 0:e.disabled};this.S(o)})}Xy(t){let e=[];try{e=Ye(t.cssRules,i=>i.cssText)}catch{}return e}}return Et([H()],s.prototype,"observe",null),Et([H()],s.prototype,"disconnect",null),Et([H()],s.prototype,"setStyleSheets",null),s})(),og=Si(hg,"optimizeMutations"),ag=csSymbol.for("ignoreNextSerialization");function cg(){let s=new Set,n=new Set,t=new Set,e=new Set,i=new Map,r=new Map,o=new Map,c=new Set,u=new Set,p=new Map,S=new Set;return{isMovedNode(f){return s.has(f)},markAsMovedNode(f){S.delete(f),s.add(f)},isDetachedMove(f){return!!At.findAncestor(f,_=>S.has(_),!0)},isAddedNode(f){let _=At.findAncestor(f,A=>n.has(A)||u.has(A)||s.has(A),!0);return!!_&&!s.has(_)},isMovedNodeIntoAddedNode(f){return s.has(f)&&!!At.findAncestor(f,_=>n.has(_)||u.has(_),!0)},markAsAddedNode(f){S.delete(f),u.delete(f),n.add(f)},markAsPendingInsert(f){u.add(f)},isPendingInsert(f){return u.has(f)},isRemovedNode(f){return!!At.findAncestor(f,_=>t.has(_),!0)},markAsRemovedNode(f){t.add(f)},isUselessNode(f){return e.has(f)},markAsUselessNode(f){e.add(f)},getPlaceholder(f,_){let A=_==="previous"?r:i;return f&&A.has(f)?A.get(f)||null:f},getSiblings(f){let _=f.addedNodes.length,A=this.getPlaceholder(f.previousSibling,"previous"),T=this.getPlaceholder(f.nextSibling,"next");if(_){let x=A,U=T,N=f.previousSibling!==A,P=f.nextSibling!==T;for(let Y=0;Y<_;Y++){let O=f.addedNodes[Y],X=f.addedNodes[_-Y-1];this.isLatestNodeMutation(O,f)?(r.delete(O),f.previousSibling&&N&&(i.set(f.previousSibling,O),N=!1),x=O):r.set(O,x),this.isLatestNodeMutation(X,f)?(i.delete(X),f.nextSibling&&P&&(r.set(f.nextSibling,X),P=!1),U=X):i.set(X,U)}}else f.previousSibling&&f.previousSibling!==A&&i.set(f.previousSibling,T),f.nextSibling&&f.nextSibling!==T&&r.set(f.nextSibling,A);return{previousSibling:A,nextSibling:T}},setAttributeMutation(f,_){let A=o.get(f)||new Set;A.add(_),o.set(f,A)},isAttributeMutated(f,_){var A;return!!(!((A=o.get(f))===null||A===void 0)&&A.has(_))},setLatestNodeMutation(f,_){p.set(f,_)},isLatestNodeMutation(f,_){return p.get(f)===_},markAsFutureAddedNode(f){p.has(f)||S.add(f)},isTextMutated(f){return c.has(f)},setTextMutated(f){return c.add(f)}}}function lg(s,n){for(let t=0;t<s.addedNodes.length;t++){let e=s.addedNodes[t];n.markAsFutureAddedNode(e),n.setLatestNodeMutation(e,s)}for(let t=0;t<s.removedNodes.length;t++){let e=s.removedNodes[t];n.setLatestNodeMutation(e,s)}}function hg(s){let n=cg(),t=[];for(let e of s)e.type==="childList"&&lg(e,n);for(let e of s)switch(e.type){case"attributes":dg(e,n,t);break;case"characterData":ug(e,n,t);break;case"childList":gg(e,n,t);break}return t}function ug(s,n,t=[]){let e=s.target;return At.isConnected(e)&&!n.isTextMutated(e)&&!n.isAddedNode(e)&&!fg(e,"characterData")&&(n.setTextMutated(e),csArray.prototype.push.call(t,s)),t}function dg(s,n,t=[]){let e=s.target,i=`${s.attributeNamespace}/${s.attributeName}`;return At.isConnected(e)&&!n.isAttributeMutated(e,i)&&!n.isAddedNode(e)&&(n.setAttributeMutation(e,i),csArray.prototype.push.call(t,s)),t}var pg=30;function fg(s,n,t){let e=csSymbol.for(t?`${n}:${t}`:n),i=z.now(),r=s[e];return r&&i<r?!0:(s[e]=i+pg,!1)}function gg(s,n,t=[]){let e=At.isConnected(s.target),i=!e&&n.isRemovedNode(s.target),r=e&&n.isAddedNode(s.target),o=n.getSiblings(s),c=o.nextSibling,u=o.previousSibling,p=null,S=()=>{if(p){let{childListType:A,movedNodes:T,...x}=p;csArray.prototype.push.call(t,A==="added"?x:{...x,movedNodes:T}),p=null}},f=A=>A===(p==null?void 0:p.childListType)?p:(S(),{childListType:A,type:"childList",target:s.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:u,nextSibling:c});if(e){for(let A=0;A<s.addedNodes.length;A++){let T=s.addedNodes[A];n.isLatestNodeMutation(T,s)?(n.isMovedNode(T)?(p=f("moved"),csArray.prototype.push.call(p.movedNodes,T)):(n.markAsAddedNode(T),r||(p=f("added"),csArray.prototype.push.call(p.addedNodes,T))),u=T):At.isConnected(T)?n.isMovedNode(T)||n.markAsPendingInsert(T):n.markAsUselessNode(T)}S()}let _=Ln(s.removedNodes,A=>{if(At.isConnected(A)){if(!i&&!n.isPendingInsert(A)){if(n.isDetachedMove(A))return!0;n.markAsMovedNode(A),n.isMovedNodeIntoAddedNode(A)&&(A[ag]=!0)}return!1}return n.isUselessNode(A)?!1:(n.markAsRemovedNode(A),!0)});return _.length&&csArray.prototype.push.call(t,{type:"childList",removedNodes:_,addedNodes:[],movedNodes:[],target:s.target,nextSibling:c,previousSibling:u}),t}var Zc={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},hs=(()=>{var s;class n{static setShadowRootFilter(e){csArray.prototype.push.call(s.shadowRootFilters,e)}static Uc(e){if(s.shadowRootFilters.length>0&&Yi(e))for(let i=0;i<s.shadowRootFilters.length;i++){let r=s.shadowRootFilters[i];if(r(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,Zc)}static disconnectShadowRoot(e){this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,we(()=>{this.isRefreshing=!1;let i=this.mutationObserver.takeRecords();i.length&&s.mutationCallback(i),this.mutationObserver.disconnect(),this.observedTargets.forEach(r=>{this.mutationObserver.observe(r,Zc)})})))}static observe(e,i){csArray.prototype.push.call(this.callbacks,e),i&&csArray.prototype.push.call(this.shadowRootCallbacks,i),this.started?i&&csArray.prototype.forEach.call(yi.getAllShadowHosts(document),r=>i(csElementshadowRoot.apply(r),"initial")):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.Uc(document),this.shadowRootObserver=new on(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,pt(this.shadowRootObserver.shadowRoots,r=>{this.Uc(r)}))}static disconnect(e,i){var r,o;this.callbacks=csArray.prototype.filter.call(this.callbacks,c=>c!==e),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,c=>c!==i)),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],s.shadowRootFilters=[],(r=this.shadowRootObserver)===null||r===void 0||r.disconnect(),(o=this.mutationObserver)===null||o===void 0||o.disconnect(),this.observedTargets.clear(),this.started=!1)}constructor(e,i){this.S=e,this.yd=i;let r=Zr(o=>e(o,this),!0);this.S=Is("DocumentMutationObserver:callback",o=>{pt(o,c=>r.push(c))})}get shadowRoots(){var e,i;return(i=(e=s.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&i!==void 0?i:[]}takeRecords(){var e;let i=(e=s.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),r=s.shadowRootObserver.takeRecords();return i!=null&&i.length&&r.length?Gd(i,r):i!=null?i:r}observe(){s.observe(this.S,this.yd)}disconnect(){s.disconnect(this.S,this.yd)}}return s=n,n.callbacks=[],n.shadowRootCallbacks=[],n.started=!1,n.observedTargets=new Set,n.shadowRootFilters=[],n.mutationCallback=t=>{re.mutations.count.increase(t.length),csArray.prototype.forEach.call(s.callbacks,e=>e(t,s.mutationObserver))},n.onShadowRoot=(t,e)=>{pt(s.shadowRootCallbacks,i=>i(t,e)),e!=="removed"?s.Uc(t):s.disconnectShadowRoot(t)},n.isRefreshing=!1,Et([H()],n.prototype,"observe",null),Et([H()],n.prototype,"disconnect",null),n})(),mg=(()=>{class s{constructor(t){this.S=t,this.Ky=e=>{e.sheet.ownerNode&&(e.type==="cssRuleInserted"?this.S({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssRuleDeleted"?this.S({type:e.type,target:e.sheet.ownerNode,index:e.index}):e.type==="cssRuleUpdated"?this.S({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssStyleSheetDisabled"&&this.S({type:e.type,target:e.sheet.ownerNode,disabled:e.disabled}))},this.S=e=>we(()=>t(e)),this.Ed=new ec(e=>we(async()=>{await kh(),this.Ky(e)})),"adoptedStyleSheets"in Document.prototype&&(this.Sd=new rg(t))}observe(){var t;this.P=new hs(e=>this.Jy(e),(e,i)=>{i==="added"&&this.Qy(e)}),this.P.observe(),this.Ed.observe(),(t=this.Sd)===null||t===void 0||t.observe()}disconnect(){var t,e;(t=this.P)===null||t===void 0||t.disconnect(),this.Ed.disconnect(),(e=this.Sd)===null||e===void 0||e.disconnect()}Jy(t){let e=og(t);for(let i=0;i<e.length;i++){let r=e[i];if(!r){xt.error("processRawMutations: empty record");continue}switch(r.type){case"attributes":this.processAttributeChanged(r);break;case"characterData":this.processCharacterDataChanged(r);break;case"childList":this.processChildListChanged(r);break;default:xt.error(`processRawMutations: unknown record type '${r.type}'`);break}}}processAttributeChanged(t){let e={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:At.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.S(e)}processCharacterDataChanged(t){let e={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.S(e)}processChildListChanged(t){var e,i,r;if(!((e=t.movedNodes)===null||e===void 0)&&e.length){let o={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.S(o)}if(!((i=t.addedNodes)===null||i===void 0)&&i.length){let o={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:Xi(t.addedNodes)};this.S(o)}if(!((r=t.removedNodes)===null||r===void 0)&&r.length){let o={type:"nodesRemoved",target:t.target,nodes:Ye(t.removedNodes,c=>c)};this.S(o)}}Qy(t){let e={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.S(e)}}return Et([H()],s.prototype,"processAttributeChanged",null),Et([H()],s.prototype,"processCharacterDataChanged",null),Et([H()],s.prototype,"processChildListChanged",null),s})(),yg=(()=>{class s extends vi{constructor(t){super(t),this.nodeType=4,this.data=t.data}}return s})(),Eg=(()=>{class s extends vi{constructor(t){super(t),this.nodeType=8,this.data=t.data}}return s})(),Sg=(()=>{class s extends vi{constructor(t){super(t),this.nodeType=10,this.name=t.name,this.publicId=t.publicId,this.systemId=t.systemId}}return s})(),vg=(()=>{class s extends vi{constructor(t){super(t),this.nodeType=9,this.baseURI=s.getBaseURI(t),this.children=[]}static getBaseURI(t){let e=t.baseURI;if(e==null){let i=t.getElementsByTagName("base");e=i.length!==0?i[0].href:t.URL}return e}}return s})(),wg=(()=>{class s extends vi{constructor(t){super(t),this.nodeType=11,this.mode=t.mode,this.children=[]}}return s})(),_g=(()=>{class s{constructor(t,e,i){var r;typeof t=="string"?(this.name=t,this.value=e,this.namespaceURI=i!=null?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=(r=t.namespaceURI)!==null&&r!==void 0?r:"")}static create(t){let e=t.attributes,i=new csArray(e.length);for(let r=0;r<i.length;r++){let o=e[r];i[r]=new s(o.name,o.value,o.namespaceURI),o.name==="href"&&Ua(t)&&(i[r].value=Ph(t))}return i}}return s})(),tl={workTime:40,async:!0,initialDOM:!0},bg={serialize:Lh()},On=csSymbol("InitialDom"),el=csSymbol.for("ignoreNextSerialization");function Dh(s){return s[el]?(delete s[el],!0):!1}function Lh(s=tl){return function(t,e){var i;(i=s.workTime)!==null&&i!==void 0||(s.workTime=tl.workTime);let r=Is("serialize:callback",_=>e(_)),o=new sn,c=(_,A)=>{_.hasChildNodes()&&o.push({node:_,serializedNode:A});let T=_ instanceof Element&&csElementshadowRoot.apply(_);if(T){let x=A.shadowRoot=Nn(T);s.async&&s.initialDOM&&ot.setProperty(T,On,!0),c(T,x)}},u,p=!0,S=8,f=Is("work",()=>{var _;if(p)u=Nn(t),s.async&&s.initialDOM&&ot.setProperty(t,On,!0),c(t,u),p=!1;else if(o.isEmpty)return;let A=Rg(100);for(;!o.isEmpty;){if(s.async&&A.elapsed()>=s.workTime){--S<=0&&csSetTimeout(f);return}let{node:T,serializedNode:x}=o.pop(),U=(_=x.children)!==null&&_!==void 0?_:[];if(Wr(T))continue;let N=0;for(let P=csNodefirstChild.apply(T);P;P=csNodenextSibling.apply(P)){if(Dh(P))continue;let Y=Nn(P);s.async&&s.initialDOM&&ot.setProperty(P,On,!0),U[N++]=Y,c(P,Y)}}s.async?csSetTimeout(()=>r(u)):e(u)});if(!s.async)s.workTime=1/0,f();else for(let _=0;_<S;_++)csSetTimeout(f,1)}}function Ag(s){let n=Nn(s),t=n;if(Wr(s))return n;let e=0;for(let r=csNodefirstChild.apply(s);r;r=csNodenextSibling.apply(r))Dh(r)||(t.children[e++]=va(r));let i=s.shadowRoot;return i&&(t.shadowRoot=va(i)),n}var va=Si(Ag,"serializeSync");function Nn(s){let n,t;switch(s.nodeType){case 1:t=n=new Zs(s),n.attributes=Cg(s);break;case 3:t=new Nh(s);break;case 4:t=new yg(s);break;case 8:t=new Eg(s);break;case 10:t=new Sg(s);break;case 9:t=new vg(s);break;case 11:t=new wg(s);break;default:throw new Error("Node type not supported: "+s.nodeType)}return t}function Tg(){On=csSymbol("InitialDom")}function Rg(s){if(s<1)throw new Error("Precision should be >= 1");let n=0,t=performance.now();return{started:t,elapsed(){return++n%s===0&&(t=performance.now()),t-this.started}}}function Cg(s){return Wr(s)?[]:_g.create(s)}var us=(()=>{class s{constructor(){this.re=[],this.isStarted=!1}produceEvent(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:z.now(),t.timestamp==null&&(t.timestamp=z.now()),csArray.prototype.forEach.call(this.re,i=>i(t)))}onStop(){}start(){this.isStarted||(this.isStarted=!0,this.onStart())}stop(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.re=[])}stopForInactivity(){this.isStarted&&(this.isStarted=!1,this.onStop())}subscribe(t){return csArray.prototype.push.call(this.re,t),()=>{let e=csArray.prototype.indexOf.call(this.re,t);csArray.prototype.splice.call(this.re,e,1)}}}return s})(),Ig=Lh(),Pg=(()=>{class s extends us{constructor(){super(...arguments),this.wo=!1}onStart(){this.wo=!0,this.S=ig(this.Zy,this),this.z=new mg(this.S),this.z.observe();let t=re.mutations.initialDOM.asyncMeasure(),e=()=>{this.wo=!1,Tg(),t()};this.produceEvent(new tc(i=>Ig(document,r=>{e(),i({type:"DomEvent",domEvent:"initialDOM",initialDOM:r})})))}onStop(){var t,e;this.wo=!1,(t=this.S)===null||t===void 0||t.cancel(),(e=this.z)===null||e===void 0||e.disconnect()}Ut(t,e){let i={type:"DomEvent",domEvent:e.type,target:0,targetProps:{}};return"target"in e&&(i.target=bt(e.target),i.targetProps=ot.getProperties(e.target)),[e,i]}Zy(t){if(!this.tE(t))switch(t.type){case"attributeChanged":{let[e,i]=this.Ut(t.type,t);i.attribute=e.attribute,i.isSvg=en(e.target),i.namespace=e.namespace,i.newValue=e.newValue,i.oldValue=e.oldValue,i.localName=An(e.target),i.linkRel=Kl(e.target)?e.target.rel:null,i.parentLocalName=e.target.parentElement?An(e.target.parentElement):void 0,i.localName==="input"&&(i.inputType=e.target.getAttribute("type")),this.produceEvent(i)}break;case"characterDataChanged":{let[e,i]=this.Ut(t.type,t);i.newValue=e.newValue,i.oldValue=e.oldValue,i.targetNodeType=e.target.nodeType,i.parentLocalName=e.target.parentElement?An(e.target.parentElement):null,i.parentProps=e.target.parentElement?ot.getProperties(e.target.parentElement):void 0,this.produceEvent(i)}break;case"nodesAdded":{let[e,i]=this.Ut(t.type,t);i.targetLocalName=Dt(e.target)?An(e.target):null,i.nextSibling=e.nextSibling?bt(e.nextSibling):null,i.previousSibling=e.previousSibling?bt(e.previousSibling):null,re.mutations.serializedMutations.measure(()=>{i.nodes=Ye(e.nodes,va)}),this.produceEvent(i);break}case"nodesMoved":{let[e,i]=this.Ut(t.type,t);i.previousSibling=e.previousSibling?bt(e.previousSibling):null,i.nextSibling=e.nextSibling?bt(e.nextSibling):null,i.nodesIds=Ye(e.nodes,bt),this.produceEvent(i);break}case"nodesRemoved":{let[e,i]=this.Ut(t.type,t);i.nodesIds=Ye(e.nodes,bt),this.produceEvent(i);break}case"shadowRootAttached":{let[e,i]=this.Ut(t.type,t);i.shadowRoot=Nn(e.shadowRoot),this.produceEvent(i);break}case"cssRuleInserted":{let[e,i]=this.Ut(t.type,t);i.index=e.index,i.rule=e.rule,this.produceEvent(i);break}case"cssRuleDeleted":{let[e,i]=this.Ut(t.type,t);i.index=e.index,this.produceEvent(i);break}case"cssRuleUpdated":{let[e,i]=this.Ut(t.type,t);i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"cssStyleSheetDisabled":{let[e,i]=this.Ut(t.type,t);i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetRegistered":{let[e,i]=this.Ut(t.type,t);i.sheetId=e.sheetId,i.cssRules=e.cssRules,i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetsSet":{let[e,i]=this.Ut(t.type,t);i.sheetsIds=e.sheetsIds,this.produceEvent(i);break}case"adoptedStyleSheetRuleInserted":{let[e,i]=this.Ut(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleDeleted":{let[e,i]=this.Ut(t.type,t);i.sheetId=e.sheetId,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleUpdated":{let[e,i]=this.Ut(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetDisabled":{let[e,i]=this.Ut(t.type,t);i.sheetId=e.sheetId,i.disabled=e.disabled,this.produceEvent(i);break}}}_o(t){return this.wo&&!ot.getProperty(t,On)}tE(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this._o(t.target)||G.isMaskedElement(t.target)||G.isMaskedElementChild(t.target);case"characterDataChanged":{let e=t.target.parentElement;return e!==null&&(this._o(e)||G.isMaskedElement(e)||G.isMaskedElementChild(e))}case"attributeChanged":return this._o(t.target)||G.isMaskedElementChild(t.target)||G.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":case"cssStyleSheetDisabled":return this._o(t.target)||G.isMaskedElementChild(t.target);default:return!1}}}return s})(),Fn=(()=>{let s;return function(n){function t(e){return e.type==="DomEvent"}n.isDOMEvent=t}(s||(s={})),s})(),an=(()=>{class s{constructor(){this.re=[]}start(){}stop(){this.re.length=0,this.re=[]}pushEvent(t){if(s.pendingEvents++,this.isListening(t)){let e=this.re;csSetTimeout(()=>{let r=Is("Processor:processEvent",o=>this.processEvent(o))(t);r!=null&&csArray.prototype.forEach.call(e,o=>o(r)),s.pendingEvents--})}else csSetTimeout(()=>{csArray.prototype.forEach.call(this.re,e=>e(t))})}subscribe(t){return csArray.prototype.push.call(this.re,t),()=>{this.re=csArray.prototype.filter.call(this.re,e=>e!==t)}}emitEvent(t){we(()=>csArray.prototype.forEach.call(this.re,e=>e(t)))}}return s.pendingEvents=0,s})(),sl=(()=>{class s{static async toStaticResourceEvent(t,e,i){let r=await s.eE(t);if(!r)return null;let o=await s.vd(r),c=Ue(t)?void 0:t,u={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:o,data:r}};return c&&(u.originalResourceName=c),u}static async toCSSStaticResourceEvent(t,e,i,r){let o=await s.sE(t,r),c=cs(t),u=o.get(c);if(!u)return null;let p={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:u.hash,data:u.data}};return o.delete(c),o.size&&(p.nestedResources=[],o.forEach(S=>{S&&csArray.prototype.push.call(p.nestedResources,{hash:S.hash,data:S.data})})),p}static async vd(t){let e=await t.arrayBuffer(),i=await crypto.subtle.digest(this.Gn,e);return ma(i)}static async eE(t){let e;if(!Ue(t))e=await(await window.fetch(t)).blob();else{let i=Nc(t);if(!i)return null;e=i}return e}static async sE(t,e){let i=new Map,r=cs(t),c=[{resourceRawPath:t,resourceAbsolutePath:r}];for(;c.length>0;){let u=csArray.prototype.pop.call(c);if(!e&&u.resourceAbsolutePath!==null&&!Ue(u.resourceAbsolutePath)){i.set(u.resourceAbsolutePath,null);continue}if(i.get(u.resourceAbsolutePath)===void 0)try{if(u.resourceRawPath===null||csString.prototype.indexOf.call(u.resourceRawPath,".css")>0){if(!u.data){let A=await fetch(u.resourceAbsolutePath);u.data=await A.text()}u.nestedResources||(u.nestedResources=Pn(u.data));let f=!1,_=!1;for(let A of u.nestedResources){let T=Ue(A)?A:u.resourceAbsolutePath?xp(A,u.resourceAbsolutePath):cs(A),x=i.get(T);if(x!==void 0){if(x!==null){let N=s.iE(x,A);u.data=Pt.stringReplaceAll(u.data,A,N)}continue}os(c,N=>N.resourceAbsolutePath===T)!==void 0||(f=!0,_||(csArray.prototype.push.call(c,u),_=!0),csArray.prototype.push.call(c,{resourceRawPath:A,resourceAbsolutePath:T}))}if(!f){let A=await s.nE(u.data);i.set(u.resourceAbsolutePath,{hash:A.hash,data:A.data})}}else{let f;if(!Ue(u.resourceAbsolutePath))f=await(await fetch(u.resourceAbsolutePath)).blob();else{let A=Nc(u.resourceAbsolutePath);if(!A){i.set(u.resourceAbsolutePath,null);continue}f=A}let _=await s.vd(f);i.set(u.resourceAbsolutePath,{hash:_,data:f})}}catch{i.set(u.resourceAbsolutePath,null)}}return i}static iE(t,e){let i=`cs://resources/${t.hash}`;return Ue(e)||(i+=`?${s.Vc}=${e}`),i}static async nE(t){let e=new Blob([t],{type:"text/css"}),i=await e.arrayBuffer(),r=await crypto.subtle.digest(s.Gn,i);return{data:e,hash:ma(r)}}}return s.Gn="SHA-256",s.Vc="original-resource-name",s})(),wa=(()=>{class s extends an{constructor(){super(),this.bo="cssrm://",this.oe=0,this.gs=!1}isListening(t){return!s.isSupported()||!Fn.isDOMEvent(t)?!1:t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged"}processEvent(t){switch(t.domEvent){case"initialDOM":case"nodesAdded":this.rE(t);break;case"attributeChanged":this.oE(t);break;case"characterDataChanged":this.aE(t);break}return t}disableOnlineAssets(){this.gs=!1}enableOnlineAssets(){this.gs=!0}isOnlineAssetsActivated(){return this.gs}rE(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let i of e)ot.traverse(i,(r,o)=>{if(r.nodeType===3&&o){this.cE(r,o.localName);return}if(!Zs.isElement(r))return;let c=os(r.attributes,u=>u.name==="style");if(c&&(c.value=this.Ao(c.value)),this.lE(r)||this.hE(r,o)){let u=os(r.attributes,S=>S.name==="src");u&&u.value&&(u.value=this.wd(u.value));let p=os(r.attributes,S=>S.name==="srcset");if(p){p.value=this._d(p.value);return}}if(this.uE(r)&&this.gs){let u=os(r.attributes,p=>p.name==="href");if(!u||!u.value)return;this.oe++,this.Hi(cs(u.value),this.oe,!0),this.dE(r,u,this.oe)}})}dE(t,e,i){csArray.prototype.push.call(t.attributes,{name:"data-cs-original-href",namespaceURI:"",value:e.value}),e.value=this.bo+i}cE(t,e){if(!t||e!=="style")return;let i=this.Ao(t.data);i!==null&&(t.data=i)}aE(t){if(t.parentLocalName!=="style"||!t.newValue)return;let e=this.Ao(t.newValue);e!==null&&(t.newValue=e)}oE(t){if(!t.newValue||t.newValue===t.oldValue)return;let e=t.attribute==="src",i=t.attribute==="srcset";if(t.attribute==="style"){t.newValue=this.Ao(t.newValue);return}if(!e&&!i)return;let o=t.localName==="img",c=t.localName==="source"&&t.parentLocalName&&t.parentLocalName==="picture";!o&&!c||(e&&(t.newValue=this.wd(t.newValue)),i&&(t.newValue=this._d(t.newValue)))}wd(t){return Ue(t)||this.gs?(this.oe++,this.Hi(t,this.oe,!1,z.now()),this.bo+this.oe):t}_d(t){if(!this.gs)return t;let e=t,i=Za(t),r=z.now();for(let o of i)this.oe++,this.Hi(cs(o),this.oe,!1,r),e=csString.prototype.replace.call(e,o,this.bo+this.oe);return e}Ao(t){let e=Pn(t),i=t,r=z.now();for(let o of e){let c=Ue(o);if(!(c||this.gs)||this.pE(o))continue;this.oe++,i=csString.prototype.replace.call(i,o,this.bo+this.oe);let u=Wf(o);c?this.Hi(o,this.oe,!1,r):this.gs&&(u?this.Hi(o,this.oe,!0,r):this.Hi(cs(o),this.oe,!1,r))}return i}Hi(t,e,i,r=z.now()){let o=i?sl.toCSSStaticResourceEvent:sl.toStaticResourceEvent,c=new tc(async u=>{try{let p=await o(t,e,r,this.gs);u(p||{type:"warning",message:`Failed to process static resource: ${t}`})}catch(p){u({type:"warning",message:p})}});this.emitEvent(c)}lE(t){return t.localName==="img"}hE(t,e){return t.localName==="source"&&!!e&&e.localName==="picture"}uE(t){return t.localName==="link"&&csArray.prototype.some.call(t.attributes,e=>e.name==="rel"&&e.value==="stylesheet")}static isSupported(){return ph()&&Np()&&!!csArray.from}pE(t){return csString.prototype.replace.call(t,/['"]+/g,"").length===0}}return Os([ee("StaticResourceManagerProcessor.processEvent")],s.prototype,"processEvent",null),s})(),Ve=(()=>{let s;return function(n){n.Visible="visible",n.Hidden="hidden",n.Blur="blur",n.PagehideVisible="pagehideVisible",n.PagehideHidden="pagehideHidden",n.ExitPageByNavigate="exitPageByNavigate"}(s||(s={})),s})(),xh=(()=>{class s{constructor(){this.N=!1,this.Ds=t=>{try{switch(t.type){case"visibilitychange":return document.visibilityState==="hidden"?this.Jt(Ve.Hidden):this.Jt(Ve.Visible);case"pagehide":return document.visibilityState==="hidden"?this.Jt(Ve.PagehideHidden):this.Jt(Ve.PagehideVisible);case"blur":return this.Jt(Ve.Blur);case"navigate":return this.fE(t)?this.Jt(Ve.ExitPageByNavigate):void 0;default:return}}catch{}}}start(){this.N||(this.N=!0,this.jc(),this.gE(),this.mE(),Dc()&&this.yE())}stop(){this.N&&(this.N=!1,this.Hc(),this.EE(),this.SE(),Dc()&&this.vE())}onEvent(t){this.Jt=t}yE(){window.navigation.addEventListener("navigate",this.Ds)}vE(){window.navigation.removeEventListener("navigate",this.Ds)}jc(){document.addEventListener("visibilitychange",this.Ds)}Hc(){document.removeEventListener("visibilitychange",this.Ds)}gE(){window.addEventListener("pagehide",this.Ds)}EE(){window.removeEventListener("pagehide",this.Ds)}mE(){window.addEventListener("blur",this.Ds)}SE(){window.removeEventListener("blur",this.Ds)}fE(t){return t instanceof NavigateEvent?!t.downloadRequest&&!t.formData:!1}}return s})(),le=(()=>{let s;return function(n){n[n.Active=0]="Active",n[n.Paused=1]="Paused",n[n.Stopped=2]="Stopped"}(s||(s={})),s})(),Og=(()=>{class s{constructor(t,e,i=[]){this.Bi=t,this.Bc=e,this.wE=i,this.To=null,this._t=le.Active,this.Z=[]}reset(){this.To=null,this.Z=[],this._t=le.Active}disconnect(){this._t=le.Stopped}_E(){this.Bc(le.Paused),this._t=le.Paused,csSetTimeout(()=>{this._t===le.Paused&&this.Fc()},s.STOP_TIMEOUT)}bE(){this.Bc(le.Active),this._t=le.Active,pt(this.Z,this.Bi),this.Z=[]}Fc(){this.Z=[],this.Bc(le.Stopped),this._t=le.Stopped}pushEvent(t,e){if(e.isUserEvent&&(this.To=t.date,this._t!==le.Active)){this.bE(),this.Bi(t);return}if(this.AE(t)){this.Bi(t);return}switch(this._t){case le.Active:if(this.TE(t,e)){this._E(),csArray.prototype.push.call(this.Z,t);return}this.Bi(t);break;case le.Paused:csArray.prototype.push.call(this.Z,t);break;case le.Stopped:break}}TE(t,e){return!e.isUserEvent&&this.To!==null&&t.date-this.To>s.INACTIVITY_TIMEOUT}AE(t){return csArray.prototype.indexOf.call(this.wE,t.type)>-1}}return s.INACTIVITY_TIMEOUT=5e3,s.STOP_TIMEOUT=5e3,s})(),Ng=2e3,Mg=(()=>{class s extends ae{constructor(t,e,i,r,o,c,u,p,S,f,_,A,T,x,U=[],N,P,Y,O,X){super(),this.h=t,this.j=e,this.RE=i,this.xe=r,this.X=o,this.w=c,this.ae=u,this.at=p,this.ce=S,this.tt=f,this.U=_,this.Ct=A,this.yt=T,this.Pe=x,this.Oe=U,this.bd=N,this.Vt=P,this.Fi=Y,this.Ye=O,this.Xe=X,this.Ls=0,this.xs=new Ch,this.$i={allowFromQuotaService:!0,allowFromSerialization:!0},this.Ad=Xr(()=>{this.j.eventsCount()>0&&this.Td()},Ng),this.ms=tt=>this.processBrowserEvent(tt),this.Wn=tt=>this.It(tt),this.Rd=0,this.Ro=0,this.Ue=new xh,this.$c=!1,this.Cd=50*1024,this.fi=!1,this.Yn=!1,this.gi=[],this.Co=new Og(tt=>this.G(tt),tt=>{switch(tt){case le.Active:this.CE();break;case le.Stopped:this.IE();break}},[J.RESOURCE_HASHES,J.TEXT_VISIBILITY,J.API_ERROR,J.JAVASCRIPT_ERROR]),this.Id=tt=>{this.Ct.removeBatchInProgress(`${tt.params.sn}.${tt.params.pn}.${tt.params.ri}`)}}init(){this.zc(),this.U.onLoad(this.Id),this.U.onError(this.Id)}CE(){csArray.prototype.forEach.call(this.bd,t=>t.start())}IE(){csArray.prototype.forEach.call(this.bd,t=>t.stopForInactivity())}zc(){var t,e,i;this.Pe.onEvent(this.ms,this.Wn),(t=this.tt)===null||t===void 0||t.onInputNodeToEncrypt(this.Wn),(e=this.tt)===null||e===void 0||e.onApiErrorToEncrypt(r=>{this.Pd(r)}),(i=this.tt)===null||i===void 0||i.onUserIdentifierToEncrypt(this.ms),this.Ue.onEvent(r=>{if(csSetTimeout(()=>this.mi("page-state",r)),r!==Ve.Visible){if(r===Ve.Blur)return this.Od();if(!this.$c)return this.$c=!0,csSetTimeout(()=>{this.$c=!1}),r===Ve.Hidden?this.Od():this.PE()}})}isRecording(){return this.w.hasValidSession()&&this.isStarted}Od(){if(!this.canSendEvents())return;this.Pe.flush(),this.Ct.saveBatchesInProgress(),pt(this.Oe,o=>{var c,u;return pt((u=(c=o.getPendingEvents)===null||c===void 0?void 0:c.call(o))!==null&&u!==void 0?u:[],p=>this.j.addEvent(p))});let t=this.j.getEvents();if(t.length===0)return;this.mi("pending-events",this.Pe.pendingEvents);let e=this.U.getQueryParams();e.rst=this.getRecordingStartTimestamp(),e.let=this.getRecordingLastEventTimestamp();let i=this.xe.getCurrentIndex();e.ri=i.toString(),this.yt.removeQueryParams(),this.yt.setQueryParams(e),this.Ro=t[t.length-1].date;let r=this.j.stringifyEvents();if(r.length>this.Cd){let o=this.Nd();if(o.length>0){let c=Ji(o);this.yt.send(c)||this.Ct.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:c}),this.xe.increment()}if(this.j.eventsCount()>0){e.ri=this.xe.getCurrentIndex().toString();let c=this.j.stringifyEvents();this.Ct.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:c}),this.xe.increment()}}else this.yt.send(r)||this.Ct.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:r}),this.xe.increment();this.yt.removeQueryParams(),this.j.clearEvents()}PE(){if(!this.canSendEvents())return;this.Pe.flush();let t=this.U.getQueryParams();this.Ct.saveBatchesInProgress(),t.rst=this.getRecordingStartTimestamp(),delete t.ri,t.hlm="true",this.yt.removeQueryParams(),pt(this.Oe,r=>{var o,c;return pt((c=(o=r.getPendingEvents)===null||o===void 0?void 0:o.call(r))!==null&&c!==void 0?c:[],u=>this.j.addEvent(u))});let e=this.j.getEvents();if(e.length===0){delete t.let,delete t.rst,this.yt.setQueryParams(t),this.yt.send(),this.yt.removeQueryParams();return}this.mi("pending-events",this.Pe.pendingEvents),this.Ro=e[e.length-1].date,t.let=this.getRecordingLastEventTimestamp(),this.yt.setQueryParams(t);let i=this.j.stringifyEvents();if(i.length>this.Cd){let r=this.Nd();if(r.length>0){let o=Ji(r);this.yt.send(o)||this.Ct.save({key:`${t.sn}.${t.pn}.last`,metadata:{...t,datatype:"json"},events:o})}else delete t.let,delete t.rst,delete t.ri,this.yt.removeQueryParams(),this.yt.setQueryParams(t),this.yt.send(),this.yt.removeQueryParams();if(this.j.eventsCount()>0){t.rst=this.getRecordingStartTimestamp(),t.let=this.getRecordingLastEventTimestamp();let o=this.xe.getCurrentIndex();t.ri=o.toString();let c=this.j.stringifyEvents();this.Ct.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:c}),this.xe.increment()}}else this.yt.send(i)||(this.Ct.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:i}),this.xe.increment());this.yt.removeQueryParams(),this.j.clearEvents()}blockSendingEventsFromQuotaService(){this.$i.allowFromQuotaService=!1}allowSendingEventsFromQuotaService(){this.$i.allowFromQuotaService=!0}blockSendingEventsFromSerialization(){this.$i.allowFromSerialization=!1}allowSendingEventsFromSerialization(){this.$i.allowFromSerialization=!0}canSendEvents(){return this.$i.allowFromQuotaService&&this.$i.allowFromSerialization}onIframeJavascriptError(t){var e;if(this.ae&&this.Ye){(e=this.ae)===null||e===void 0||e.anonymize(t);let i=this.Ye.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:z.now(),type:"JSError"});i&&this.ms(i)}}onIframeCustomError(t){if(this.Xe){let e=this.Xe.translate({...t,timestamp:z.now(),type:"CustomError"});e&&this.ms(e)}}onIframeDetailedApiError(t){this.Md(t)}onIframeRecordingUserEvent(t){for(let e of t)this.It(e)}onIframeRecordingBrowserEvent(t){if(this.isStarted)for(let e of t)this.processBrowserEvent(e)}processBrowserEvent(t){this.X.isCurrentPageviewValid()&&this.Co.pushEvent(t,{isUserEvent:!1})}It(t){this.X.refreshSession(),this.X.isSessionValid()&&this.Co.pushEvent(t,{isUserEvent:!0})}G(t){re.general.nbEvents.increase(),this.j.addEvent(t),this.j.isThresholdReached()?this.pushEvents():this.j.isFull()&&this.Ad(),this.kd(t)}kd(t){this.h.emitDebugEvents&&this.xs.emit("recordingEvent",{...t,typeName:J[t.type]})}onStart(){var t;this.mi("tag-version","15.111.0"),this.mi("page-state",document.visibilityState),this.Co.reset(),this.Ue.start(),this.initStates(),this.Pe.start(),this.at&&this.ce&&this.at.subscribe(s.Mt,e=>this.Md(e),{detailedEvent:!0}),this.h.emitDebugEvents&&this.xs.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.gi,e=>this.Dd(e)),this.gi=[],this.fi&&((t=this.Vt)===null||t===void 0||t.enableOnlineAssets(),this.fi=!1)}onStop(){var t;this.Ue.stop(),this.at&&this.at.unsubscribe(s.Mt),this.Pe.stop(),this.Co.disconnect(),(t=this.Vt)===null||t===void 0||t.disableOnlineAssets()}clearStates(){this.Pe.flush(),this.Ad.cancel(),this.pushEvents(),this.U.removeQueryParams()}initStates(){this.Rd=z.now(),this.xe.reset(),this.Ls=0,this.U.setQueryParams(this.RE.getRequestParameters())}pushEvents(){pt(this.Oe,t=>{var e;return(e=t.flushEvents)===null||e===void 0?void 0:e.call(t)}),this.j.eventsCount()>0&&(this.isStarted?this.Td():this.j.clearEvents())}Td(){if(!this.canSendEvents())return;let t=this.j.getEvents();this.Ro=t[t.length-1].date;let e=this.xe.getCurrentIndex();this.U.setQueryParams({ri:e.toString(),rst:this.getRecordingStartTimestamp(),let:this.getRecordingLastEventTimestamp()});let i=this.U.getQueryParams();this.Ct.addBatchInProgress(`${i.sn}.${i.pn}.${e}`,this.U.getQueryParams(),t),this.U.send(t),this.xe.increment(),this.j.clearEvents(),this.Ld&&this.Ld()}addInitialDom(t){this.j.addEventByTimestamp(t),this.kd(t)}Md(t){if(this.Fi&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.Fi.truncate(t),this.tt){this.tt.registerApiErrorToEncrypt(t);return}t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.Pd(t)}Pd(t){if(this.Ls<s.OE){let e={type:J.API_ERROR,date:z.now(),args:[this.ce.anonymize(t)]};this.ms(e),this.Ls=this.Ls+1,Ot.counters.networkRequests.count("collected")}}NE(t){t===Qs.ETR_SESSION?this.U.setQueryParams({[s.ME]:s.xd}):t===Qs.ETR_PAGE&&this.U.setQueryParams({[s.kE]:s.xd})}clearEvents(){this.j.clearEvents()}onCustomJavaScriptErrorEvent(t){var e;let i=(e=this.Ye)===null||e===void 0?void 0:e.translate({type:"JSError",timestamp:z.now(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.ms(i)}onCustomErrorEvent(t){var e;let i=(e=this.Xe)===null||e===void 0?void 0:e.translate({type:"CustomError",timestamp:z.now(),message:t.message,attributes:t.attributes});i&&this.ms(i)}onPageEvent(t){this.Ud(t)}onUserIdentifierEvent(t){var e;let i={userIdentifier:t,date:z.now(),keyId:this.h.encryptionPublicKeyId};(e=this.tt)===null||e===void 0||e.registerUserIdentifierToEncrypt(i)}onEventTriggerRecording(t,e){this.isStarted?this.Dd({eventName:t,eventType:e}):csArray.prototype.push.call(this.gi,{eventName:t,eventType:e})}Dd(t){this.NE(t.eventType),this.Ud(t.eventName),this.pushEvents()}Ud(t){let e={type:J.PAGE_EVENT,date:z.now(),args:[{eventName:csString.prototype.slice.call(t,0,s.DE)}]};this.j.addEvent(e)}triggerUnanonymizationConsentGranted(){let t={date:z.now(),type:J.UNANONYMIZED_CONSENT_GRANTED};this.j.addEvent(t)}triggerUnanonymizationConsentWithdrawn(){let t={date:z.now(),type:J.UNANONYMIZED_CONSENT_WITHDRAWN};this.j.addEvent(t)}triggerRecordingForSessionGranted(){this.mi("consent-granted")}triggerRecordingForSessionWithdrawn(){this.mi("consent-withdrawn")}activateOnlineAssetsOnNextPageview(){this.Yn=!0}getStaticResourceManagerStatus(){return this.Vt?{isStarted:this.h.useStaticResourceManager&&wa.isSupported(),onlineAssets:{activated:this.Vt.isOnlineAssetsActivated(),enabledOnNextPageview:this.Yn}}:null}resetOnlineAssetsOnPageview(){this.fi=!1,this.Yn=!1}updateOnlineAssetsOnPageview(){this.Vt&&this.Yn&&(this.fi=!0,this.Yn=!1)}onRecordingRequestSent(t){this.Ld=t}getRecordingStartTimestamp(){return this.Rd.toString()}getRecordingLastEventTimestamp(){return this.Ro.toString()}onOptOut(){pt(this.Oe,t=>{var e;return(e=t.releaseResources)===null||e===void 0?void 0:e.call(t)})}mi(t,e){if(!this.h.emitRecordInfoEvents)return;let i={date:z.now(),type:J.RECORDING_INFO_EVENT,args:e==null?[t]:[t,e]};this.j.addEvent(i)}Nd(){return this.j.extractEvents(J.API_ERROR,J.JAVASCRIPT_ERROR,J.CUSTOM_ERROR,J.TEXT_VISIBILITY,J.POINTER_DOWN)}}return s.Mt="RecordingService",s.DE=255,s.OE=20,s.kE="etrp",s.ME="etrs",s.xd="1",Z([ee("addInitialDom")],s.prototype,"addInitialDom",null),s})(),kg=(()=>{class s extends ae{constructor(t,e,i){super(),this.Yt=t,this.yt=e,this.U=i,this.qc=!1,this.Xn={},this.LE=r=>{if(r.length!==0)for(let o of r){let{metadata:c,events:u}=o;this.xE(c.rt)&&this.U.send(u,c)}},window.addEventListener("focus",()=>{this.recover()})}onStart(){this.Xn={}}onStop(){}recover(){this.Yt.recover(this.LE)}addBatchInProgress(t,e,i){this.Xn[t]={metadata:{...e},events:i}}removeBatchInProgress(t){delete this.Xn[t]}blockSendingLastMessage(){this.qc=!1}allowSendingLastMessage(){this.qc=!0}sendLastMessageBeacon(){if(this.qc){let{ri:t,rst:e,let:i,...r}=this.U.getQueryParams();r.hlm="true",this.yt.setQueryParams(r),this.yt.send()}}xE(t){return!!t&&csString.prototype.indexOf.call(t,q.RECORDING_TEMPORARILY)===-1}saveBatchesInProgress(){csArray.prototype.forEach.call(Object.keys(this.Xn),t=>{let{metadata:e,events:i}=this.Xn[t];this.Yt.save({key:`${e.sn}.${e.pn}.${e.ri}`,metadata:{...e,datatype:"json"},events:csJSON.stringify(i)})})}save(t){this.Yt.save(t)}}return Z([H("RecordingRecovery")],s.prototype,"recover",null),s})(),Un=(()=>{class s{constructor(...t){this.Vd=t}addProvider(t){csArray.prototype.push.call(this.Vd,t)}getRequestParameters(){return csArray.prototype.reduce.call(this.Vd,(t,e)=>({...e.getRequestParameters(),...t}),{})}}return s})(),Dg=(()=>{class s{constructor(t,e){this.Rt=t,this.I=e,this.Us=[{boundElement:window,type:"hashchange",listener:()=>this.hashChangeListener()},{boundElement:document,type:"visibilitychange",listener:()=>this.visibilityChangeListener()}]}onEvent(t){this.O=t}start(){this.hi(),this.triggerInitialEvents()}stop(){this.pi()}hi(){csArray.prototype.forEach.call(this.Us,t=>Ut(t))}pi(){csArray.prototype.forEach.call(this.Us,t=>Vt(t))}triggerInitialEvents(){this.hashChangeListener()}hashChangeListener(){let t={type:J.HASH_CHANGE,args:[this.I.anonymizePII(this.Rt.href)],date:z.now()};this.O(t)}visibilityChangeListener(){let t={type:J.VISIBILITY_CHANGE,args:[document.visibilityState],date:z.now()};this.O(t)}}return Z([H("hashChange")],s.prototype,"hashChangeListener",null),Z([H("visibilityChange")],s.prototype,"visibilityChangeListener",null),s})(),Lg=(()=>{class s{constructor(){}onScannedAsset(t){this.Io=t}scanCssString(t){this.Gc(Pn(t))}scanElement(t,e){G.getMaskedElementDetails(t).state!==G.MaskedElementState.NotMasked||e&&G.isMaskedAttribute(t,e)||(qr(t)?this.UE(t):Ua(t)?this.VE(t,e):(this.jE(t,e),this.HE(t,e),this.BE(t,e)))}VE(t,e){var i;if((!e||e==="href")&&t.href){let o={assetId:((i=t.sheet)===null||i===void 0?void 0:i.href)||t.href,assetBasePath:window.location.href,assetRawPath:Ph(t)};this.Io({type:"stylesheet",asset:o})}}UE(t){var e;let i=new Set;if(t.textContent)for(let o of Pn(t.textContent))i.add(o);let r;try{r=(e=t.sheet)===null||e===void 0?void 0:e.cssRules}catch(o){o.name==="SecurityError"||o.name==="InvalidAccessError"||Q.error(o.message)}if(r)for(let o=0;o<r.length;o++){let c=r.item(o).cssText;for(let u of Pn(c))i.add(u)}this.Gc(ii(i))}Wc(t){return!this.FE(t)&&!Ue(t)&&!Gf(t)}jE(t,e){if(dd(t)||ud(t)){if(!e||e==="src"){let i=t.getAttribute("src");if(i&&this.Wc(i)){let r={assetId:t.src,assetRawPath:i,assetBasePath:window.location.href};this.Io({type:"asset",asset:r})}}(!e||e==="srcset")&&t.srcset&&this.$E(t.srcset)}}HE(t,e){if(t.nodeType!==1){xt.warn(`StaticResourceUrlTracker: Wrong element nodeType: ${t==null?void 0:t.nodeName}/${t.nodeType}`);return}if(t.hasAttribute&&(!e||e==="style")&&t.hasAttribute("style")){let i=t.getAttribute("style");if(typeof i=="string")this.scanCssString(i);else throw new Error("Unexpected style: "+t.outerHTML)}}$E(t){this.Gc(Za(t))}BE(t,e){if((md(t)||yd(t)||Ed(t))&&(!e||e==="href"||e==="xlink:href")){let i=t.getAttribute("href")||t.getAttribute("xlink:href");if(i&&this.Wc(i)){let r={assetId:cs(i),assetRawPath:i,assetBasePath:window.location.href};this.Io({type:"asset",asset:r})}}}Gc(t){return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,e=>this.Wc(e)),e=>({rawUrl:e,absoluteUrl:cs(e)})),e=>{let i={assetId:e.absoluteUrl,assetBasePath:window.location.href,assetRawPath:e.rawUrl};this.Io({type:"asset",asset:i})})}FE(t){return/^https:\/\/\w+:\w+@/.test(t)}}return s})(),xg=(()=>{class s{constructor(t=Number.POSITIVE_INFINITY){this.Vs=[],this.Z=[],this.zE=t}next(t){this.Z.length===this.zE&&csArray.prototype.shift.call(this.Z),csArray.prototype.push.call(this.Z,t),this.Z.length===1&&csSetTimeout(()=>this.clear());for(let e of this.Vs)e(t)}subscribe(t){if(os(this.Vs,i=>t===i))return()=>{this.Vs=csArray.prototype.filter.call(this.Vs,i=>i!==t)};csArray.prototype.push.call(this.Vs,t);for(let i of this.Z)t(i);return()=>{this.Vs=csArray.prototype.filter.call(this.Vs,i=>i!==t)}}clear(){this.Z=[]}hasObservers(){return this.Vs.length>0}}return s})(),Uh=(()=>{var s;class n{constructor(e){this.S=e}observe(){this.qE=s.Kn.subscribe(e=>this.S(e)),s.Po||(s.Po=!0,s.Jn.observe(),Pe(document,NodeFilter.SHOW_ELEMENT).visitAll(i=>{s.ys.add(i),s.Kn.next(i)}))}disconnect(){s.Po&&(this.qE(),s.Kn.hasObservers()||(s.Po=!1,s.Jn.disconnect(),s.Kn.clear(),s.ys.clear()))}}return s=n,n.ys=new Qr,n.Kn=new xg,n.GE=Si(t=>{we(()=>{for(let e of t)e.type==="childList"&&pt(e.addedNodes,i=>{Pe(i,NodeFilter.SHOW_ELEMENT).visitAll(o=>{s.ys.has(o)||(s.ys.add(o),s.Kn.next(o))})})})},"ElementObserver.findAllElements"),n.Po=!1,n.Jn=new hs(s.GE),Et([H()],n.prototype,"observe",null),Et([H()],n.prototype,"disconnect",null),n})(),Ug=1,Vg=0,Vh=(()=>{class s{constructor(t,e=Ug,i=Vg){this.WE=t,this.YE=e,this.XE=i,this.Ve=new sn,this.Le=!1,this.Yc=0,this.jd=()=>{for(this.Yc=0;this.Ve.length;){if(this.Yc>=this.YE){csSetTimeout(this.jd,this.XE);return}let r=z.elapsed(),o=this.Ve.pop();if(!o)break;this.runTask(o);let c=z.elapsed()-r;this.Yc+=c}this.Le=!1}}schedule(t,e=!1){if(!this.WE||e){t();return}re.general.pendingTasks.increase(),this.Ve.push(t),this.KE()}KE(){this.Le||(this.Le=!0,csSetTimeout(()=>{this.jd()}))}runTask(t){re.general.pendingTasks.decrease(),t()}runPendingTasks(){this.Ve.forEach(t=>{this.runTask(t)}),this.Ve.clear()}clearQueue(){re.general.pendingTasks.clear(),re.mutations.pendingMutations.clear(),this.Ve.clear()}isEmpty(){return this.Ve.length===0}}return Z([H("TaskScheduler"),ee("runTask")],s.prototype,"runTask",null),Z([ee("runPendingTasks")],s.prototype,"runPendingTasks",null),s})(),jg=(()=>{class s{constructor(){this.F=!1,this.Hd=new ec(t=>t.type==="cssRuleInserted"&&this.JE(t)),this.QE=Zr(t=>{this.F&&t.length>0&&this.T.schedule(()=>pt(t,e=>this.Qn.scanElement(e)))}),this.ZE=({type:t,asset:e})=>{var i,r,o;t==="stylesheet"&&((i=this.tS)===null||i===void 0||i.call(this,e)),(r=this.eS)===null||r===void 0||r.call(this,e);let c={date:z.now(),type:J.STATIC_RESOURCE_URL,args:[e.assetId]};(o=this.O)===null||o===void 0||o.call(this,c)},this.T=new Vh(!0,30,0),this.Zn=new Uh(t=>this.sS(t)),this.P=new hs(t=>this.Oo(t)),this.Qn=new Lg,this.Qn.onScannedAsset(this.ZE)}onEvent(t){this.O=t}onAsset(t){this.eS=t}onStyleSheetFound(t){this.tS=t}start(){this.F||(this.F=!0,this.Hd.observe(),this.Zn.observe(),this.P.observe())}stop(){this.F&&(this.Hd.disconnect(),this.Zn.disconnect(),this.P.disconnect(),this.F=!1)}JE(t){!t.rule||!this.F||this.Qn.scanCssString(t.rule)}sS(t){this.F&&G.getMaskedElementDetails(t).state===G.MaskedElementState.NotMasked&&this.QE.push(t)}Oo(t){csSetTimeout(()=>{for(let e of t)switch(e.type){case"attributes":this.Qn.scanElement(e.target,e.attributeName);break;case"characterData":this.iS(e.target);break;case"childList":}})}iS(t){kr(t)&&csNodeparentNode.apply(t)&&qr(csNodeparentNode.apply(t))&&this.Qn.scanCssString(t.data)}}return s})(),jh=(()=>{class s{constructor(t){this.Bd=[],this.Fd=[],this.Gt={},this.Wt=t}setQueryParams(t){csArray.prototype.forEach.call(Object.keys(t),e=>{this.Gt[e]=t[e]})}removeQueryParams(t){t?csArray.prototype.forEach.call(t,e=>{delete this.Gt[e]}):this.Gt={}}onBeaconSuccess(t){csArray.prototype.push.call(this.Bd,t)}onBeaconFailure(t){csArray.prototype.push.call(this.Fd,t)}send(t){let e=xn.toQuery({...this.Gt,ct:Yr.UNCOMPRESSED}),i=this.nS(e,t);return i?csArray.prototype.forEach.call(this.Bd,r=>r()):csArray.prototype.forEach.call(this.Fd,r=>r(this.Gt)),i}nS(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;let i=csNavigatorsendBeacon(`${this.Wt}?${t}`,e||"");if(i)return i}catch{}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon(`${this.Wt}?${t}`,e||"")}}return s})(),Hg=(()=>{class s{constructor(t){this.Mo={},this.we=new Qa(t)}save({key:t,metadata:e,events:i}){this.we.isThresholdReached()||(this.we.addString(t),typeof i=="string"?this.we.addString(i):this.we.addArrayBuffer(i),!this.we.isThresholdReached()&&(this.Mo[t]={metadata:e,events:i}))}recover(t){let e=[];csArray.prototype.forEach.call(this.rS(),i=>{let r=this.Mo[i];r!==void 0&&(delete r.metadata.datatype,csArray.prototype.push.call(e,r),this.oS(i))}),e.length!==0&&(t(e),this.we.reset())}rS(){return Object.keys(this.Mo)}oS(t){delete this.Mo[t]}}return s})(),Fs=(()=>{let s;return function(n){n[n.NOT_STARTED=0]="NOT_STARTED",n[n.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",n[n.OPEN_FAILED=2]="OPEN_FAILED",n[n.READY=3]="READY"}(s||(s={})),s})(),Bg=(()=>{class s{constructor(t,e,i){this.zi=t,this.aS=i,this.yi=Fs.NOT_STARTED,this.ko=[],this.Xc=0,this.cS=self.origin,this._e=typeof window=="object"?"":"worker-",this.we=new Qa(e),this.Kc()}async Kc(){await this.$d(),this.yi===Fs.READY?this.lS():this.aS(this.ko)}lS(){csArray.prototype.forEach.call(this.ko,t=>{this.save(t)}),this.ko=[]}async save(t){try{if(this.yi===Fs.OPEN_IN_PROGRESS){csArray.prototype.push.call(this.ko,t);return}if(this.yi!==Fs.READY||this.we.isThresholdReached())return;let{key:e,metadata:i,events:r}=t;if(this.we.addString(e),typeof r=="string"?this.we.addString(r):this.we.addArrayBuffer(r),this.we.isThresholdReached())return;await this.Qt.put(`${this.cS}/${e}`,new Response(r,{headers:i}))}catch{}}async recover(t){!this.Qt&&(await this.$d(),this.yi!==Fs.READY)||this.hS(t)}async $d(){try{this.yi=Fs.OPEN_IN_PROGRESS,this.Qt=await self.caches.open(`${this._e}${this.zi}`),this.yi=Fs.READY}catch{this.yi=Fs.OPEN_FAILED}}async hS(t){try{if(this.Xc++,this.Xc>1)return;let e=await this.Qt.keys();if(e.length===0)return;let i=await this.Qt.matchAll(),r=csArray.prototype.map.call(i,c=>{let u={};c.headers.forEach((S,f)=>{u[f]=S}),delete u["content-type"];let p=u.datatype;return delete u.datatype,p==="json"||p==="base64"?c.text().then(S=>({metadata:u,events:S})):c.arrayBuffer().then(S=>({metadata:u,events:S}))}),o=await Promise.all(r);await Promise.all(csArray.prototype.map.call(e,c=>this.Qt.delete(c))),t(o),this.we.reset()}catch{}finally{this.Xc--}}}return s})(),Fg=(()=>{class s{constructor(t){try{this.uS(t)}catch{this.Jc()}}uS(t){self.caches?this.dS(t):this.Jc()}save(t){this.Do.save(t)}recover(t){this.Do.recover(t)}dS(t){this.Do=new Bg(t,s.zd,e=>{this.Jc(e)})}Jc(t){this.Do=new Hg(s.zd),t&&csArray.prototype.forEach.call(t,e=>{this.Do.save(e)})}}return s.zd=1024*1024*16,s})(),Go=(()=>{let s;return function(n){n.REQUEST_START="requestStart",n.DOM_INTERACTIVE="domInteractive",n.TIME_ORIGIN="timeOrigin"}(s||(s={})),s})();var $g=(()=>{class s extends an{isListening(t){return Fn.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded")}processEvent(t){let e=0,i=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let r of i){if(r instanceof Zs){let c=G.getMaskedAttributeDetails(r);r.attributes=this.xo(r,c)}if(G.getMaskedElementDetails(r).state===G.MaskedElementState.Child){if(t.domEvent==="initialDOM")return null;t.nodes=csArray.prototype.filter.call(t.nodes,c=>c!==r);continue}ot.traverse(r,c=>{if(c instanceof Zs){let u=G.getMaskedAttributeDetails(c);c.attributes=this.xo(c,u);let p=G.getMaskedElementDetails(c);p.state===G.MaskedElementState.Parent&&(this.Zc(c,p),e++)}})}return e>0&&Ot.counters.sensitiveElements.count("masked-elements",e),t}xo(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}Zc(t,e){let i=`width: ${e.width}px !important; height: ${e.height}px !important;`;t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),Zs.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})}}return Os([ee("MaskedElementProcessor.processEvent")],s.prototype,"processEvent",null),s})(),As=(()=>{let s;return function(n){n.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",n.WHITELISTED_STATUS="whitelisted";function t(r){return ot.getProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP)===n.WHITELISTED_STATUS}n.isWhitelistedElement=t;function e(r){ot.setProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP,n.WHITELISTED_STATUS)}n.whitelistElement=e;function i(r){ot.setProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP,void 0)}n.removeWhitelistElement=i}(s||(s={})),s})(),zg=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,qg="\uFF41",Gg=/[^\s]/g,Wg="a";function Wo(s){let n=csString.prototype.replace.call(s,zg,qg);return csString.prototype.replace.call(n,Gg,Wg)}var Yg=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],Hh=s=>{let n=new Set(Yg);return csArray.prototype.forEach.call(s,t=>{n.add(t)}),n},Xg=["svg","slot"],Kg=(s,n,t)=>t==="radio"&&s==="input"&&n==="name"||csArray.prototype.indexOf.call(Xg,s)>-1,Bh={href:new Set(["a"]),src:new Set(["iframe"])},Jg=s=>Bh.hasOwnProperty(s),Qg=(s,n,t)=>{var e;return((e=Bh[n])===null||e===void 0?void 0:e.has(s))&&!Ue(t)},Zg=(s,n,t)=>(t==="submit"||t==="button")&&s==="input"&&n==="value",sc=(()=>{class s{constructor(t,e,i,r=null){this.Ke=t,this.vS=e,this.I=i,this.Uo=r,this.wS=Hh(this.vS)}sanitize(t,e){return ot.traverse(t,(i,r)=>{if(i.anonymized=this.Ke,i.nodeType===3){let{anonymizedValue:o,withAnonymization:c}=this.getAnonymizedValue(i.data,r?r==null?void 0:r.localName:e==null?void 0:e.targetLocalName,r?ot.getProperties(r):e==null?void 0:e.targetProps);i.anonymized=c,i.data=o;return}if(Zs.isElement(i))return this._S(i);if(i.nodeType===4){i.data=this.Ke?Wo(i.data):this.I.checkAndAnonymizePII(i.data,this.Uo);return}}),t}setAnonymization(t){this.Ke=t}getAnonymizedValue(t,e,i){if(e==="style")return{anonymizedValue:t,withAnonymization:!1};let r=(i==null?void 0:i[As.ANONYMIZED_TEXT_STATUS_PROP])===As.WHITELISTED_STATUS;return this.Ke&&!r?{anonymizedValue:Wo(t),withAnonymization:!0}:{anonymizedValue:this.I.checkAndAnonymizePII(t,this.Uo),withAnonymization:!1}}_S(t){if(ot.getProperty(t,"SVG"))return;let e=os(t.attributes,r=>r.name==="type"),i=e==null?void 0:e.value;t.attributes=csArray.prototype.map.call(t.attributes,r=>(r.anonymized=this.Ke,r.value=this.getAnonymizedAttributeValue(t.localName,r.name,r.value,i),r))}getAnonymizedAttributeValue(t,e,i,r){return this.bS(t,e,r)?i:Jg(e)?Qg(t,e,i)?this.I.anonymizePII(i):i:this.Ke&&Zg(t,e,r)?Wo(i):this.Ke?"":this.I.checkAndAnonymizePII(i,null)}bS(t,e,i){return Kg(t,e,i)||this.wS.has(e)}}return s})(),il=(()=>{class s{static create(t,e){if(!s.isSupported())throw new Error("IntersectionObserver is not supported");if(e&&e.delay&&e.delay<100)throw new Error("Visibility delay should be > 100ms");return e!=null&&e.trackVisibility&&(t=s.AS(t)),new IntersectionObserver(t,e)}static isSupported(){return!!window.IntersectionObserver&&!!window.IntersectionObserverEntry}static AS(t){return(e,i)=>t(Ye(e,tm),i)}}return s})();function tm(s){return s.isVisible||!At.isVisibleInViewportInForeground(s.target)?s:{boundingClientRect:s.boundingClientRect,intersectionRatio:s.intersectionRatio,intersectionRect:s.intersectionRect,isIntersecting:s.isIntersecting,rootBounds:s.rootBounds,target:s.target,time:s.time,isVisible:!0}}var _a=()=>(s,n,t)=>{t.value=sm(t.value)},em=csQueueMicrotask||csSetTimeout;function sm(s){let n=csSymbol("oncePerTickSymbol"),t=null,e={},i=function(){var r;let o=(r=this)!==null&&r!==void 0?r:e;if(t=arguments,o[n])return;o[n]=!0,em(()=>{o[n]=!1,s.apply(o,t)})};return i.oncePerTickSymbol=n,i}_a.isScheduled=(s,n)=>{let t=n.oncePerTickSymbol;return s[t]};var im=(()=>{class s{constructor(t){this.S=t,this.js=new Map,this.qd=e=>{let i=e.target;if(this.js.has(i))return!0;let r=!1;return this.js.forEach((o,c)=>{r||!this.js.get(c).subtree||(r=c.contains(i))}),r},re.general.nbOfMutationObservers.increase(),this.P=new csMutationObserver(e=>{_a.isScheduled(this,this.garbageCollect)&&(e=Ln(e,this.qd)),e.length&&we(()=>t(e,this))})}disconnect(){re.general.nbOfMutationObservers.decrease(),this.P.disconnect(),this.js=new Map}takeRecords(){return this.P.takeRecords()}observe(t,e){return re.mutations.elementMutationObserved.increase(),this.js.set(t,e),this.P.observe(t,e)}unobserve(t){this.js.has(t)&&(re.mutations.elementMutationObserved.decrease(),this.js.delete(t),this.garbageCollect())}garbageCollect(){re.mutations.unobserveGarbageCollection.measure(()=>{let t=Ln(this.takeRecords(),this.qd);t.length&&this.S(t,this),this.P.disconnect(),this.js.forEach((e,i)=>this.P.observe(i,e))})}}return Et([_a()],s.prototype,"garbageCollect",null),s})(),nm=(()=>{class s{constructor(t){this.S=t,this.Vo=new Set}onMutations(t){if(Vr(t,e=>{var i;return!!(!((i=e.removedNodes)===null||i===void 0)&&i.length)}))for(let e of this.Vo.values())At.isConnected(e)||(this.Vo.delete(e),this.S(e))}observe(t){this.z||(this.z=new hs(e=>csSetTimeout(()=>this.onMutations(e))),this.z.observe()),this.Vo.add(t)}disconnect(){var t;(t=this.z)===null||t===void 0||t.disconnect(),this.Vo.clear(),this.z=void 0}}return Et([H("NodeDisconnectedObserver.onMutations")],s.prototype,"onMutations",null),s})(),rm=300,Br=(()=>{class s{constructor(t){this.jo=new Set,this.TS=new nm(e=>this.Gd(e)),this.F=!1,this.Et=t?{...nl,...t}:nl}stop(){var t,e;this.F=!1,(t=this.nr)===null||t===void 0||t.disconnect(),(e=this.P)===null||e===void 0||e.disconnect()}start(t){if(this.F)throw new Error("VisibilityObserver is already started");this.S=Is("VisibilityObserver:callback",(i,r)=>t(i,r));let e={root:null,rootMargin:"0px",threshold:.5,trackVisibility:!0,delay:rm};this.nr=il.create(i=>this.handleIntersection(i),e),this.P=new im(i=>csSetTimeout(()=>{pt(i,r=>this.Gd(r.target))})),this.Kc(),this.F=!0}observe(t){if(!this.F)throw new Error("Observer is stopped.");this.Et.reobserve===!1&&t[this.tl]||(re.visibilityObserver.nbElements.increase(),t[this.tl]=!0,this.watchIntersection(t))}Kc(){this.Ho=csSymbol("isVisible"),this.tl=csSymbol("ObservedElement"),this.sl=csSymbol("LinkedElement"),this.Wd=csSymbol("Tracked")}Gd(t){this.jo.add(t);for(let e of this.RS(t))this.jo.add(e);this.recheckCssVisibilityAll()}recheckCssVisibilityAll(){pt(this.jo.keys(),t=>{!t.isConnected||At.areAncestorsHiddenByCSS(t)||t[this.tl]&&this.watchIntersection(t)}),this.jo.clear()}watchIntersection(t){this.P.unobserve(t),this.nr.unobserve(t);let e=At.getTopAncestorHiddenByCSS(t);e?(e!==t&&(this.Yd(e,t),this.watchMutation(e)),this.watchMutation(t)):this.nr.observe(t)}watchMutation(t,e=!0){e&&delete t[this.Ho],this.nr.unobserve(t);let i={attributeFilter:["style","class","hidden"]};this.P.observe(t,i)}handleIntersection(t){for(let e of t){let i=e.target;if(!e.isVisible){At.isVisibleInDocument(i)||this.CS(i);continue}let r=this.Et.allowSameMatch||!e.target[this.Ho];e.target[this.Ho]=!0,r&&!this.Et.delay&&this.onVisibilityChanged(e.target,Mn.VisibleInViewPort)}this.Et.delay&&csSetTimeout(()=>{for(let e of t){let i=e.isIntersecting&&e.isVisible;e.target[this.Ho]&&i&&this.onVisibilityChanged(e.target,Mn.VisibleInViewPort)}},this.Et.delay)}CS(t){re.visibilityObserver.hiddenElements.increase();let e=At.getTopElement(t);this.watchMutation(t),e&&(this.TS.observe(e),this.Yd(e,t),this.watchMutation(e,!1))}Yd(t,e){var i;(t[this.sl]=(i=t[this.sl])!==null&&i!==void 0?i:new Set).add(e)}RS(t){var e,i;let r=[],o=(i=(e=t[this.sl])===null||e===void 0?void 0:e.values())!==null&&i!==void 0?i:[];return pt(o,c=>csArray.prototype.push.call(r,c)),r}onVisibilityChanged(t,e){if(e===Mn.VisibleInViewPort&&this.Et.trackOnce){if(this.nr.unobserve(t),this.P.unobserve(t),t[this.Wd])return;t[this.Wd]=!0}this.S(t,e)}static isSupported(){return il.isSupported()}}return Et([H()],s.prototype,"observe",null),Et([Kr({wait:50}),H(),ee("recheckCssVisibilityAll")],s.prototype,"recheckCssVisibilityAll",null),Et([H()],s.prototype,"watchIntersection",null),Et([H()],s.prototype,"watchMutation",null),Et([H(),ee("VisibilityObserver.handleIntersection")],s.prototype,"handleIntersection",null),Et([H()],s.prototype,"onVisibilityChanged",null),s})(),Mn=(()=>{let s;return function(n){n.VisibleInViewPort="VisibleInViewPort",n.HiddenByAnother="HiddenByAnother",n.Hidden="Hidden"}(s||(s={})),s})(),nl={delay:1e3,trackOnce:!0,reobserve:!1};var om=(()=>{let s;return function(n){n.ENCRYPTED_NODE_PROP="toEncrypt";function t(r){return ot.getProperty(r,n.ENCRYPTED_NODE_PROP)===!0}n.shouldEncrypt=t;function e(r){ot.setProperty(r,n.ENCRYPTED_NODE_PROP,!0)}n.markEncryptedNode=e;function i(r){ot.setProperty(r,n.ENCRYPTED_NODE_PROP,void 0)}n.unmarkEncryptedNode=i}(s||(s={})),s})(),Ws=(()=>{let s;return function(n){n.EDITABLE_NODE_PROP="editableNode";function t(r){return ot.getProperty(r,n.EDITABLE_NODE_PROP)===!0}n.isEditableNode=t;function e(r){ot.setProperty(r,n.EDITABLE_NODE_PROP,!0)}n.markEditableNode=e;function i(r){ot.setProperty(r,n.EDITABLE_NODE_PROP,void 0)}n.unmarkEditableNode=i}(s||(s={})),s})();var rl=(()=>{let s;return function(n){function t(e){return e.type==="TextVisibility"}n.isTextVisibilityEvent=t}(s||(s={})),s})(),am=(()=>{class s extends an{constructor(t,e,i,r=null){super(),this.I=i,this.Uo=r,this.Bo=new sc(t,e,i,r)}setAnonymization(t){this.Bo.setAnonymization(t)}isListening(t){return rl.isTextVisibilityEvent(t)||Fn.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged")}processEvent(t){if(rl.isTextVisibilityEvent(t))return t.text=this.I.checkAndAnonymizePII(t.text,this.Uo),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.rl(t);break;case"attributeChanged":this.PS(t);break;case"characterDataChanged":this.OS(t);break}return t}rl(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes,i;t.domEvent==="nodesAdded"&&(i={targetLocalName:t.targetLocalName,targetProps:t.targetProps});for(let r of e)this.Bo.sanitize(r,i)}PS(t){if(!t.isSvg&&t.newValue){if(t.localName===null){t.newValue="";return}t.newValue=this.Bo.getAnonymizedAttributeValue(t.localName,t.attribute,t.newValue,t.inputType)}}OS(t){t.newValue=this.Bo.getAnonymizedValue(t.newValue,t.parentLocalName,t.parentProps).anonymizedValue}}return Os([ee("AnonymizedTextProcessor.processEvent")],s.prototype,"processEvent",null),s})();var cm=(()=>{class s extends an{constructor(t){super(),this.K=t}isListening(t){return Fn.isDOMEvent(t)&&t.domEvent==="initialDOM"}processEvent(t){return t.domEvent==="initialDOM"&&(t.initialDOM.baseURI=this.K.anonymizeUrl(t.initialDOM.baseURI)),t}}return Os([ee("UrlAnonymizationProcessor.processEvent")],s.prototype,"processEvent",null),s})(),Yo="textarea",lm=(()=>{class s extends an{isListening(t){return Fn.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="characterDataChanged")}processEvent(t){switch(t.domEvent){case"initialDOM":this.MS(t);break;case"nodesAdded":this.kS(t);break;case"characterDataChanged":this.DS(t);break}return t}MS(t){ot.traverse(t.initialDOM,(e,i)=>{(this.Jd(e,i)||this.Qd(e))&&(e.data=this.ol(e.data))})}kS(t){for(let e of t.nodes)ot.traverse(e,(i,r)=>{(this.LS(i,r,t)||this.Qd(i))&&(i.data=this.ol(i.data))})}DS(t){var e;(t.parentLocalName===Yo||!((e=t.targetProps)===null||e===void 0)&&e.editableNode)&&(t.newValue=this.ol(t.newValue))}ol(t){return csString.prototype.replace.call(t,/\S/g,"\u2022")}LS(t,e,i){return this.xS(t,i)||this.Jd(t,e)}xS(t,e){return t.nodeType===3&&e.targetLocalName===Yo}Jd(t,e){return t.nodeType===3&&dt(e)&&e.localName===Yo}Qd(t){return t.nodeType===3&&Ws.isEditableNode(t)}}return Os([ee("AnonymizedEditableTextProcessor.processEvent")],s.prototype,"processEvent",null),s})(),hm=(()=>{class s{constructor(t){this.S=t,this.jt={boundElement:window,type:"resize",listener:()=>this.resizeListener()},this.S=t}observe(){Ut(this.jt),this.bc()}bc(){this.resizeListener()}disconnect(){Vt(this.jt)}resizeListener(){let t={width:Kt.windowWidth(),height:Kt.windowHeight()};this.S(t)}}return Et([H("resize")],s.prototype,"resizeListener",null),s})(),qs=(()=>{let s;return function(n){n.PORTRAIT="Portrait",n.LANDSCAPE="Landscape"}(s||(s={})),s})(),yr=(()=>{let s;return function(n){n.PORTRAIT_PRIMARY="portrait-primary",n.PORTRAIT_SECONDARY="portrait-secondary",n.LANDSCAPE_PRIMARY="landscape-primary",n.LANDSCAPE_SECONDARY="landscape-secondary"}(s||(s={})),s})(),Er=(()=>{let s;return function(n){n[n.PORTRAIT=0]="PORTRAIT",n[n.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",n[n.LANDSCAPE=-90]="LANDSCAPE",n[n.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(s||(s={})),s})(),um=(()=>{let s;return function(n){let t=null;n.isScreenOrientationApiSupported=()=>{var c;return t!=null?t:t=!!(!((c=It.screen)===null||c===void 0)&&c.orientation)},n.isDeprecatedScreenOrientationApiSupported=()=>"orientation"in It;function e(){return qs.LANDSCAPE}function i(){var c;switch((c=It.screen.orientation)===null||c===void 0?void 0:c.type){case yr.PORTRAIT_PRIMARY:case yr.PORTRAIT_SECONDARY:return qs.PORTRAIT;case yr.LANDSCAPE_PRIMARY:case yr.LANDSCAPE_SECONDARY:return qs.LANDSCAPE;default:return qs.PORTRAIT}}function r(){switch(window.orientation){case Er.PORTRAIT:case Er.PORTRAIT_REVERSE:return qs.PORTRAIT;case Er.LANDSCAPE:case Er.LANDSCAPE_REVERSE:return qs.LANDSCAPE;default:return qs.PORTRAIT}}function o(){return n.isScreenOrientationApiSupported()?i():n.isDeprecatedScreenOrientationApiSupported()?r():e()}n.getCurrentOrientation=o}(s||(s={})),s})(),dm=(()=>{class s extends us{constructor(){super(...arguments),this.al=null,this.cl=null,this.Bs=new hm(t=>{this.produceEvent({...t,type:"viewportResize"}),this.onScreenPotentiallyChanged()})}onScreenPotentiallyChanged(){let t=um.getCurrentOrientation(),{screenWidth:e,screenHeight:i}=this.US(t);if(e!==this.al||i!==this.cl){this.al=e,this.cl=i;let r={type:"screenResize",width:e,height:i};this.produceEvent(r)}}US(t){let e,i,r=Kt.screenWidth(),o=Kt.screenHeight();return t===qs.PORTRAIT?(e=r,i=o):(e=Math.max(r,o),i=Math.min(r,o)),{screenWidth:e,screenHeight:i}}onStart(){this.Bs.observe()}onStop(){this.al=null,this.cl=null,this.Bs.disconnect()}}return s})();function pm(s){let n=csEventtarget.apply(s);return n&&Dt(n)&&csElementshadowRoot.apply(n)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:n}var Xe=(()=>{class s{get selectors(){return this.He===""?null:this.He}constructor(t,e={closest:!1}){this.S=t,this.Et=e,this.He="",this.rr=new Qr,this.Oo=Si(i=>{if(this.He==="")return;let r=[];for(let o of $a(i,c=>c.addedNodes)){if(!(vd(o)||this.Et.closest&&kr(o)))continue;let c=this.Et.closest?this.VS(o,this.He):this.findMatchingElements(o,this.He);Ic(c,r)}r.length&&this.S(r,"added")},"SelectorObserver.processMutations"),this.jS=(i,r)=>{if(this.He===""||r!=="added")return;let o=this.findMatchingElements(i,this.He);o.length&&this.S(o,"added")},this.z=new hs(this.Oo,this.jS)}observe(t){this.He===""?this.z.observe():this.He+=",",this.He+=t;let e=this.findMatchingElements(document,t);for(let i of this.z.shadowRoots){let r=this.findMatchingElements(i,t);Ic(r,e)}e.length&&(pt(e,i=>{this.rr.add(i)}),this.S(e,"initial"))}processPendingMutations(){this.Oo(this.z.takeRecords())}disconnect(){this.z.disconnect(),this.rr.clear(),this.He=""}VS(t,e){let i=[];if(kr(t)){if(t.parentElement){let r=Zi(t.parentElement,e);r&&csArray.prototype.push.call(i,r)}return csArray.prototype.filter.call(i,r=>this.rr.has(r)===!1)}else{if(Cs(t)){let r=Zi(t,e);if(r)return csArray.prototype.push.call(i,r),csArray.prototype.filter.call(i,o=>this.rr.has(o)===!1)}return this.findMatchingElements(t,e)}}findMatchingElements(t,e){let i=Xi(window.csquerySelectorAll[t.nodeType].call(t,e));return Dt(t)&&Oe.call(t,e)&&csArray.prototype.push.call(i,t),csArray.prototype.filter.call(i,r=>this.rr.has(r)===!1)}}return Et([H()],s.prototype,"observe",null),Et([H()],s.prototype,"disconnect",null),Et([ee("SelectorObserver.findMatchingElements")],s.prototype,"findMatchingElements",null),s})(),fm=(()=>{class s extends us{constructor(){super(),this.Zd=t=>{let e=pm(t);e&&this.ll(e,t.type)},this.ne=new on((t,e)=>{switch(e){case"initial":case"added":this.tp(t);break;case"removed":this.ep(t);break}}),this.V=new Xe((t,e)=>{(e==="initial"||e==="added")&&this.HS(t)})}static shouldProcessElement(t){return t.tagName==="VIDEO"&&At.isConnected(t)&&!G.isMaskedElement(t)&&!G.isMaskedElementChild(t)}static isPlaying(t){return!t.paused&&!t.ended}onStart(){this.tp(document),this.ne.observe(),this.V.observe("video")}onStop(){this.ep(document),this.ne.disconnect(),this.V.disconnect()}ll(t,...e){if(this.isStarted&&s.shouldProcessElement(t))for(let i of e){let r=bt(t),o={type:"VideoEvent",videoEventType:i,nodeId:r};i==="seeked"&&(o.newTimePositionInSec=t.currentTime),Sa(()=>this.produceEvent(o))}}HS(t){for(let e of t)this.ll(e,"seeked"),s.isPlaying(e)&&this.ll(e,"play")}tp(t){for(let e of["play","pause","seeked"])Ut({type:e,listener:this.Zd,boundElement:t})}ep(t){for(let e of["play","pause","seeked"])Vt({type:e,listener:this.Zd,boundElement:t})}}return s})();function gm(s){return s.nodeName==="SELECT"}function ic(s){return s.nodeName==="INPUT"}function mm(s){return s.nodeName==="TEXTAREA"||ic(s)&&!Fh(s)&&!$h(s)}function Fh(s){return ic(s)&&s.type==="number"}function $h(s){return ic(s)&&(s.type==="checkbox"||s.type==="radio")}var ym=(()=>{class s extends us{constructor(t){super(),this.tt=t,this.ul=new ng("low"),this.qi=e=>this.inputHandler(e),this.Ei=[],this.BS(),this.FS(),this.V=new Xe(e=>{for(let i of e)this.dl(i)&&we(()=>{this.pl(i,bt(i))},"low")}),this.ne=new on((e,i)=>{switch(i){case"initial":case"added":Ut({type:"change",listener:this.qi,boundElement:e});break;case"removed":Vt({type:"change",boundElement:e,listener:this.qi});break}})}onStart(){Ut({type:"keyup",boundElement:document,listener:this.qi}),Ut({type:"change",boundElement:document,listener:this.qi}),pt(this.Ei,t=>t.activate()),this.V.observe(csArray.prototype.join.call(s.$S,",")),this.ne.observe()}onStop(){Vt({type:"keyup",boundElement:document,listener:this.qi}),Vt({type:"change",boundElement:document,listener:this.qi}),pt(this.Ei,t=>t.deactivate()),this.V.disconnect(),this.ne.disconnect(),this.ul.clear()}pl(t,e){var i,r,o;if(this.ul.has(t))return;if(this.ul.add(t),gm(t)){let p={type:"InputEvent",inputType:"select",target:bt(t),selectedIndex:t.selectedIndex,timestamp:z.now()};this.produceEvent(p);return}if($h(t)){let p={type:"InputEvent",inputType:"checkable",target:bt(t),checked:t.checked,timestamp:z.now()};this.produceEvent(p);return}let c=mm(t),u=Fh(t);if(c||u){let p=(i=t.value)!==null&&i!==void 0?i:"";if(!((r=this.tt)===null||r===void 0)&&r.shouldEncrypt(t)){(o=this.tt)===null||o===void 0||o.registerInputNodeToEncrypt({targetId:e,targetValue:p,date:z.now()});return}let S=u?"0":"\u2022",f={type:"InputEvent",inputType:"text",target:bt(t),value:csString.prototype.replace.call(p,/\S/g,S),timestamp:z.now()};this.produceEvent(f)}}inputHandler(t){if(!this.isStarted)return;let e=Zt(t),i=bt(e);!i||!this.dl(e)||At.isConnected(e)&&we(()=>{this.pl(e,i)},"low")}BS(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")}FS(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)}trackChanges(t,e,i=!1){let r=Hr(t.prototype,e,(o,c,u)=>{if(u!==c&&At.isConnected(o)){let p=i?o.parentElement:o;this.zS(p)}});r&&csArray.prototype.push.call(this.Ei,r)}dl(t){return!G.isMaskedElement(t)&&!G.isMaskedElementChild(t)&&(Gr(t)||ja(t)||Va(t))}zS(t){if(this.isStarted&&At.isConnected(t)){let e=bt(t);e&&this.dl(t)&&we(()=>{this.pl(t,e)},"low")}}}return s.$S=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],Os([kt()],s.prototype,"inputHandler",null),Os([H()],s.prototype,"trackChanges",null),s})();var Em=(()=>{class s extends us{constructor(){super(),this.Es=typeof window.customElements=="object"&&typeof window.customElements.whenDefined=="function"&&typeof window.Promise=="function",this.qS=Is("CustomElementRegistrationProducer:onElementsFound",e=>{for(let i of e)G.isMaskedElement(i)||G.isMaskedElementChild(i)||_d(i)&&this.register(csString.prototype.toLowerCase.call(i.tagName))});let t=Zr(this.qS);this.Zn=new Uh(e=>t.push(e)),this.Hs=new Set}onStart(){this.Es&&this.Zn.observe()}onStop(){this.Hs.clear(),this.Zn.disconnect()}async register(t){this.Hs.has(t)||(this.Hs.add(t),await window.customElements.whenDefined(t),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}))}}return Os([H()],s.prototype,"register",null),s})(),ol=(()=>{class s{static isNavigationTimingObserverSupported(){var t,e;return(((t=window.PerformanceObserver)===null||t===void 0?void 0:t.supportedEntryTypes)==null?void 0:csArray.prototype.indexOf.call((e=window.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes,"navigation"))>=0}static getTimeOrigin(){return window.performance.timeOrigin}static sp(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver(t=>s.GS(t))}static GS(t){let i=t.getEntriesByType("navigation")[0];i&&(this.Si=i,s.Gi(i))}static $n(t){this.WS(t),this.Si&&t(this.Si),this.Ne||this.YS()}static WS(t){this.Pt.add(t)}static XS(t){this.Pt.delete(t)}static YS(){if(this.or||(this.or=this.sp()),!this.or){this.Si||(this.Si={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),this.Gi(this.Si);return}this.or.observe({type:"navigation",buffered:!0}),this.Ne=!0}static Gi(t){this.Pt.forEach(e=>e(t))}static qn(t){this.XS(t),this.Pt.size===0&&this.er()}static er(){var t;this.Ne&&((t=this.or)===null||t===void 0||t.disconnect(),this.Ne=!1,this.Si=null,this.or=this.sp())}constructor(t){this.S=t}observe(){s.$n(this.S)}disconnect(){s.qn(this.S)}}return s.Ne=!1,s.Pt=new Set,s.Si=null,s})(),Sm=(()=>{class s extends us{constructor(){super(...arguments),this.Fo=null,this.ip=new ol(t=>{if(this.Fo)return;let e=this.KS(t);e&&(this.Fo=e,this.produceEvent(e))})}onStart(){if(this.Fo){this.produceEvent(this.Fo);return}this.ip.observe()}onStop(){this.ip.disconnect()}KS(t){let e=ol.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:e,requestStart:Math.floor(e+t.requestStart),domInteractive:Math.floor(e+t.domInteractive)},timestamp:z.now()}}}return s})(),Xt=(()=>{let s;return function(n){n[n.TAP=0]="TAP",n[n.LONG_PRESS=1]="LONG_PRESS",n[n.DRAG=2]="DRAG",n[n.FLICK=3]="FLICK",n[n.PINCH_IN=4]="PINCH_IN",n[n.PINCH_OUT=5]="PINCH_OUT"}(s||(s={})),s})(),Sr=(()=>{let s;return function(n){n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n[n.LEFT=3]="LEFT",n[n.RIGHT=4]="RIGHT"}(s||(s={})),s})(),vm=(()=>{class s{compute(t,e){let i=this.Fs(e.x)-this.Fs(t.x),r=this.Fs(e.y)-this.Fs(t.y),o=e.time-t.time;return{duration:o,distance:this.np(i,r),direction:this.JS(i,r),velocity:this.QS(i,r,o)}}computePinchMetrics(t,e){let i=this.Fs(e.x)-this.Fs(t.x),r=this.Fs(e.y)-this.Fs(t.y);return{duration:e.time-t.time,distance:this.np(i,r)}}getScale(t,e){return Math.abs(e/t-1)}Fs(t){return t/window.devicePixelRatio}np(t,e){return Math.round(Math.sqrt(t*t+e*e))}QS(t,e,i){let r=i/1e3,o=t/r,c=e/r;return Math.round(Math.abs(o)+Math.abs(c))}JS(t,e){return Math.abs(t)>Math.abs(e)?t>0?Sr.RIGHT:Sr.LEFT:e>0?Sr.DOWN:Sr.UP}}return s})(),zh=typeof performance!="undefined"&&!!performance.now,al=zh?()=>performance.now():csDate.now,wm=(()=>{var s;return zh?(s=performance.timing)===null||s===void 0?void 0:s.navigationStart:0})(),vr={now(){return Math.round(al()+wm)},elapsed(){return al()}};function cl(s,n=0){let t=Math.pow(10,n);return Math.round(s*t)/t}var _m=1e3,bm=100,Am=.1,ba=(()=>{class s{constructor(){this.Ht={},this.gl=()=>{},this.$o=new vm,this.be()}static isGestureDetectionSupported(){return typeof devicePixelRatio!="undefined"}onGesture(t){this.gl=t}isValidTouchEvent(t){return"touches"in t&&"changedTouches"in t}processActionDown(t){if(!this.ZS(t))return;this.sv(t)&&this.be();let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:vr.now()};if(t.touches.length===1)this.Ht.startPinchTime=e.time,this.Ht.firstTouch=e;else if(t.touches.length===2&&(this.Ht.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:vr.now()},this.Ht.firstTouch&&this.Ht.secondTouch)){let i=this.$o.computePinchMetrics(this.Ht.firstTouch,this.Ht.secondTouch);this.Wi=i.distance}csArray.prototype.push.call(this.ar,e),this.zo=Zt(t)}processActionMove(){this.ml=!0}processActionUp(t){if(this.iv(t)){if(csArray.prototype.push.call(this.ar,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:vr.now()}),this.nv(t)&&this.Ht.startPinchTime){let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Ht.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:vr.now()};this.Ht.firstTouch&&(this.Ht.firstTouch=e,this.Ht.secondTouch=i),this.rv(t)}this.Wi||this.ov()&&this.av(t)}}be(){this.ar=[],this.zo=null,this.ml=!1,this.Wi=null,this.cr=!0}av(t){let e=this.$o.compute(this.ar[0],this.ar[1]);this.cr=t.isTrusted;let i=this.ml?this.cv(e):this.lv(e);if(this.hv(i.type,t.changedTouches)){let r=t.changedTouches[0];i.pageX=cl(r.pageX,1),i.pageY=cl(r.pageY,1)}this.gl(i,t)}rv(t){if(!(this.Ht.firstTouch&&this.Ht.secondTouch))return;let e=this.$o.computePinchMetrics(this.Ht.firstTouch,this.Ht.secondTouch);this.cr=t.isTrusted;let i=this.uv(e);i&&this.gl(i,t)}uv(t){return!this.Wi||this.$o.getScale(this.Wi,t.distance)<Am?void 0:{type:this.Wi>t.distance?Xt.PINCH_IN:Xt.PINCH_OUT,target:this.zo,distance:t.distance,isTrusted:this.cr}}cv(t){return{type:t.velocity<bm?Xt.DRAG:Xt.FLICK,target:this.zo,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.cr}}lv(t){return{type:t.duration<_m?Xt.TAP:Xt.LONG_PRESS,target:this.zo,isTrusted:this.cr}}hv(t,e){return t===Xt.TAP&&e&&e.length===1}sv(t){return t.touches.length===1}ov(){return this.ar.length===2}ZS(t){return t.touches.length>0}iv(t){return t.changedTouches.length>0}nv(t){return this.ml&&!!this.Wi&&t.changedTouches.length===1&&t.touches.length===1}}return s})(),Tm="touchstart",Rm="touchmove",Cm="touchend",qh=(()=>{class s{constructor(t){this.S=t}observe(){s.rp&&s.yl(this.S)}disconnect(){s.rp&&s.El(this.S)}static pv(t,e){csArray.prototype.forEach.call(ii(s.Pt),i=>i(t,e))}static yl(t){s.Pt.has(t)||(s.Pt.add(t),s.Pt.size===1&&(s.lr.onGesture(s.pv),csArray.prototype.forEach.call(s.Us,e=>Ut(e))))}static El(t){s.Pt.delete(t),s.Pt.size===0&&csArray.prototype.forEach.call(s.Us,e=>Vt(e))}static Sl(t){if(s.lr.isValidTouchEvent(t))switch(t.type){case"touchstart":s.lr.processActionDown(t);break;case"touchmove":s.lr.processActionMove();break;case"touchend":s.lr.processActionUp(t);break}}}return s.Us=[{boundElement:It.document,type:Tm,listener:n=>s.Sl(n)},{boundElement:It.document,type:Rm,listener:n=>s.Sl(n)},{boundElement:It.document,type:Cm,listener:n=>s.Sl(n)}],s.rp=ba.isGestureDetectionSupported(),s.Pt=new Set,s.lr=new ba,s})(),Im=(()=>{class s extends us{constructor(){super(),this.ur=new qh(this.vl.bind(this))}onStart(){this.ur.observe()}onStop(){this.ur.disconnect()}vl(t){let e=this.fv(t);e&&this.produceEvent(e)}fv(t){if(!this.gv(t))return null;let e=xf(t.target);return e?{type:"Gesture",targetId:e,data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null}gv(t){return t.target!==null&&!(Dt(t.target)&&G.isMaskedElementChild(t.target))}}return s})(),Gh=(()=>{class s{constructor(t){this.S=t,this.$s=!1,this.jt={boundElement:It,type:"error",listener:e=>this.mv(e)}}observe(){Ut(this.jt,this.$s)}disconnect(){Vt(this.jt,this.$s)}mv(t){this.S(t)}}return s})(),Pm=(()=>{class s extends us{constructor(){super(...arguments),this.op=new Gh(t=>this.qo(t))}qo({message:t,filename:e,lineno:i,colno:r}){t=t!=null?t:"[NO ERROR MESSAGE]",e=!e||Ue(e)?"":e,this.produceEvent({type:"JSError",message:t,filename:e,lineno:i,colno:r})}onStart(){this.op.observe()}onStop(){this.op.disconnect()}}return s})(),Om=(()=>{class s extends an{constructor(t){super(),this.yv=t,this.wl=1024,this._l=150}isListening(t){return t.type==="JSError"}processEvent(t){return t.message=Pt.truncate(t.message,this.wl,Pt.ELLIPSIS),t.filename=Pt.truncate(t.filename,this._l,Pt.ELLIPSIS),this.yv(t)}}return s})();var $i=[],Aa=!1,Wh=Si(Mm,"executeTasks");function Nm(s){if(csArray.prototype.push.call($i,s),!Aa){for(let n=0;n<3;n++)csSetTimeout(Wh);Aa=!0}}function Mm(){let s=csDate.now();for(let n=0;n<$i.length;n++)if($i[n](),csDate.now()-s>=35){$i=csArray.prototype.slice.call($i,n+1),csSetTimeout(Wh);return}$i=[],Aa=!1}var $s=(()=>{let s;return function(n){n[n.Started=0]="Started",n[n.Stopped=1]="Stopped",n[n.Processing=2]="Processing",n[n.Completed=3]="Completed"}(s||(s={})),s})(),Yh=(()=>{class s{constructor(){this.At=new sn,this._t=$s.Stopped,this.S=null,this.cp=t=>{this._t===$s.Stopped||!t||(this.S(t),this.lp())}}get queueLength(){return this.At.length}start(t){if(this.S)throw new Error("callback already set");this._t=$s.Started,this.S=t}push(t){this.At.push(t),this.Rl()}stop(){this.S=null,this._t=$s.Stopped,this.At.clear()}static pipe(t,e){let i=t,r=new csArray;for(let c of e){let u=new s;u.start(p=>{c.pushEvent(p)}),csArray.prototype.push.call(r,u),pt(i,p=>p.subscribe(S=>u.push(S))),i=[c]}let o=new km(r);return pt(i,c=>c.subscribe(u=>o.push(u))),o}hp(){return this._t===$s.Stopped}Je(){return this._t===$s.Processing}lp(){if(!this.hp()){if(this.At.isEmpty){this._t=$s.Completed;return}this._t=$s.Processing,Nm(()=>{let t=this.At.pop();t instanceof tc?t.complete(this.cp):this.cp(t)})}}Rl(){this.hp()||this.Je()||this.lp()}}return s})(),km=(()=>{class s extends Yh{constructor(t){super(),this.up=t}get queueLength(){return csArray.prototype.reduce.call(this.up,(t,e)=>t+e.queueLength,0)}stop(){super.stop(),pt(this.up,t=>t.stop())}}return s})(),Dm=(()=>{class s{constructor(t,e=[]){this.producers=t,this.processors=e,this.F=!1,this.Pt=[]}get pendingEvents(){var t,e;return(e=(t=this.At)===null||t===void 0?void 0:t.queueLength)!==null&&e!==void 0?e:0}start(){if(this.F)throw new Error("Recording is already started.");let t=this.Pt;this.At=Yh.pipe(this.producers,this.processors),this.At.start(e=>csArray.prototype.forEach.call(t,i=>i(e))),pt(this.producers,e=>e.start()),pt(this.processors,e=>e.start()),this.F=!0}stop(){this.At.stop(),this.Pt.length=0;for(let t of this.producers)t.stop();for(let t of this.processors)t.stop();this.F=!1,this.Pt=[]}subscribe(t){if(this.F)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.Pt,t),()=>this.Pt=csArray.prototype.filter.call(this.Pt,e=>e!==t)}}return s})(),Lm=(()=>{class s extends us{constructor(t){super(),this.Oe=t}subscribe(t){return super.subscribe(t)}onStart(){pt(this.Oe,t=>{t.onEvent(e=>{var i;return this.Bi(e,(i=t.eventType)!==null&&i!==void 0?i:"browser")})}),pt(this.Oe,t=>{var e;(e=t.start)===null||e===void 0||e.call(t)})}onStop(){pt(this.Oe,t=>{var e;return(e=t.stop)===null||e===void 0?void 0:e.call(t)})}Bi(t,e){this.produceEvent({timestamp:z.now(),type:"Legacy",originalEvent:t,eventType:e})}}return s})();function xm(s,n,t){let{timestamp:e}=s;switch(s.domEvent){case"initialDOM":{let{initialDOM:i}=s,r={type:J.INITIAL_DOM,date:e,args:[i]};t.emitInitialDomDone(r);break}case"nodesAdded":{csArray.prototype.forEach.call(s.nodes,i=>{n({type:J.MUTATION_INSERT,date:e,args:[s.target,s.nextSibling,i]})});break}case"nodesMoved":{for(let i of s.nodesIds)n({type:J.MUTATION_MOVE,date:e,args:[i,s.nextSibling,s.target]});break}case"nodesRemoved":{csArray.prototype.forEach.call(s.nodesIds,i=>{n({type:J.MUTATION_REMOVE,date:e,args:[i]})});break}case"attributeChanged":{let{target:i,namespace:r,attribute:o,newValue:c}=s;n({type:J.MUTATION_ATTRIBUTE,date:e,args:[i,r,o,c]});break}case"characterDataChanged":{let{target:i,newValue:r}=s;n({type:J.MUTATION_CHARACTER_DATA,date:e,args:[i,r]});break}case"cssRuleInserted":{let{target:i,rule:r,index:o}=s,c=dt(o)?[i,r,o]:[i,r];n({type:J.STYLESHEET_RULE_INSERT,date:e,args:c});break}case"cssRuleDeleted":{let{target:i,index:r}=s;n({type:J.STYLESHEET_RULE_DELETE,date:e,args:[i,r]});break}case"cssRuleUpdated":{let{target:i,rule:r,index:o}=s;n({type:J.STYLESHEET_RULE_UPDATE,date:e,args:[i,r,o]});break}case"cssStyleSheetDisabled":{let{target:i,disabled:r}=s;n({type:J.STYLESHEET_DISABLED,date:e,args:[i,r]});break}case"shadowRootAttached":{let{target:i,shadowRoot:r}=s;n({type:J.ATTACH_SHADOW,date:e,args:[i,r]});break}case"adoptedStyleSheetRegistered":{let{sheetId:i,cssRules:r,disabled:o}=s;n({type:J.REGISTER_ADOPTED_STYLE_SHEET,date:e,args:[i,{cssRules:r,disabled:o}]});break}case"adoptedStyleSheetsSet":{let{target:i,sheetsIds:r}=s;n({type:J.SET_ADOPTED_STYLE_SHEETS,date:e,args:[i,r]});break}case"adoptedStyleSheetRuleInserted":{let{sheetId:i,rule:r,index:o}=s,c=dt(o)?[i,r,o]:[i,r];n({type:J.ADOPTED_STYLESHEET_RULE_INSERT,date:e,args:c});break}case"adoptedStyleSheetRuleDeleted":{let{sheetId:i,index:r}=s;n({type:J.ADOPTED_STYLESHEET_RULE_DELETE,date:e,args:[i,r]});break}case"adoptedStyleSheetRuleUpdated":{let{sheetId:i,rule:r,index:o}=s,c=[i,r,o];n({type:J.ADOPTED_STYLESHEET_RULE_UPDATE,date:e,args:c});break}case"adoptedStyleSheetDisabled":{let{sheetId:i,disabled:r}=s,o=[i,r];n({type:J.ADOPTED_STYLESHEET_DISABLED,date:e,args:o});break}default:Q.error("translateDOMEvent: DOMEvent not supported");break}}function Um(s){let n=Vm(s.data);return{type:J.GESTURE_RECOGNITION,args:[s.targetId,n],date:s.timestamp}}function Vm(s){let n={type:jm(s.type)};for(let t in s){let e=s[t];e!==void 0&&t!=="type"&&(n[t]=e)}return n}function jm(s){switch(s){case Xt.DRAG:case Xt.FLICK:return wn.SWIPE;case Xt.LONG_PRESS:return wn.LONG_PRESS;case Xt.TAP:return wn.TAP;case Xt.PINCH_IN:return wn.PINCH_IN;case Xt.PINCH_OUT:return wn.PINCH_OUT}}function Hm(s,n){let t=[],e=!1;return{push(i){if(csArray.prototype.push.call(t,i),t.length===n.batchSize){this.flush();return}n.autoFlushDelay&&n.autoFlushDelay>0&&!e&&(e=!0,csSetTimeout(()=>{e=!1,t.length>0&&this.flush()},n.autoFlushDelay))},flush(){if(!t.length)return;let i=t;t=[],s(i)}}}var Bm=20;function Fm(s){return Hm(n=>{let t={visibleInViewPort:n},e={type:J.TEXT_VISIBILITY,date:z.now(),args:[t]};s(e)},{batchSize:Bm,autoFlushDelay:1e3})}function $m(s){return{type:J.PERFORMANCE_TIMINGS,args:[{performanceTiming:Go.REQUEST_START,timestamp:s.timings.requestStart},{performanceTiming:Go.DOM_INTERACTIVE,timestamp:s.timings.domInteractive},{performanceTiming:Go.TIME_ORIGIN,timestamp:s.timings.timeOrigin}],date:s.timestamp}}function zm(s){switch(s.inputType){case"text":return{type:J.INPUT_TEXT,args:[s.target,s.value],date:s.timestamp};case"select":return{type:J.INPUT_SELECT,args:[s.target,s.selectedIndex],date:s.timestamp};case"checkable":return{type:J.INPUT_CHECKABLE,args:[s.target,s.checked],date:s.timestamp}}}var qm=500,Xo=0;function Gm(){return{processEvent(s,n){if(s.originalEvent.type===J.PERFORMANCE_RESOURCE_TIMING)return Xo>=qm?null:(Xo+=1,n({...s.originalEvent,date:s.timestamp}));n(s.originalEvent)},reset(){Xo=0}}}function Wm(s){switch(s.videoEventType){case"play":return{type:J.VIDEO_PLAY,args:[s.nodeId],date:s.timestamp};case"pause":return{type:J.VIDEO_PAUSE,args:[s.nodeId],date:s.timestamp};case"seeked":{let n=s;return{type:J.VIDEO_SEEK,args:[n.nodeId,n.newTimePositionInSec],date:s.timestamp}}default:return null}}var Ym=(()=>{class s{get pendingEvents(){return this.Go.pendingEvents}constructor(t,e,i,r,o){this.Go=t,this.E=e,this.Ae=i,this.Ye=r,this.Xe=o,this.Zt=()=>{},this.Wo=()=>{},this.dp=Fm(c=>this.Zt(c))}start(){var t,e;this.pp=Gm(),this.Go.subscribe(i=>{var r,o,c,u,p,S;let f=i,{timestamp:_}=f;switch(f.type){case"Legacy":{let A=f.eventType==="user"?(r=this.Wo)!==null&&r!==void 0?r:()=>{}:this.Zt;this.pp.processEvent(f,A)}break;case"CustomElementRegistration":{this.Zt({type:J.CUSTOM_ELEMENT_REGISTRATION,date:_,args:[f.tagName]});break}case"DomEvent":{xm(f,this.Zt,this.E);break}case"InputEvent":{let A=zm(f);(o=this.Wo)===null||o===void 0||o.call(this,A);break}case"encryptedCharacterDataChanged":{let{target:A,rawData:T,encryptedData:x,encryptionMetadata:U}=f;this.Zt({type:J.MUTATION_ENCRYPTED_CHARACTER_DATA,date:_,args:[A,T,x,U]});break}case"StaticResource":{let{url:A}=f;this.Zt({type:J.STATIC_RESOURCE_URL,date:_,args:[A]});break}case"ResizeMaskedElement":{let{target:A,width:T,height:x}=f;this.Zt({type:J.MUTATION_ATTRIBUTE,date:_,args:[A,"","style",`width:${T}px !important;height:${x}px !important;`]});break}case"Gesture":{let A=Um(i);(c=this.Wo)===null||c===void 0||c.call(this,A);break}case"TextVisibility":{this.dp.push(f.text);break}case"StaticResourceManagerEvent":{(u=this.Ae)===null||u===void 0||u.processEvent(f);break}case"screenResize":{let{width:A,height:T}=f,x={type:J.SCREEN_RESIZE,date:_,args:[A,T]};this.Zt(x);break}case"viewportResize":{let{width:A,height:T}=f,x={type:J.RESIZE,date:_,args:[A,T]};this.Zt(x);break}case"PerformanceTiming":{this.Zt($m(f));break}case"CustomError":{let A=(p=this.Xe)===null||p===void 0?void 0:p.translate(f);A&&this.Zt(A);break}case"JSError":{let A=(S=this.Ye)===null||S===void 0?void 0:S.translate(f);A&&this.Zt(A);break}case"VideoEvent":{let A=Wm(f);A&&this.Zt(A);break}case"warning":{Q.warn(f.message);break}default:Q.error(`WebRecorderEventTranslator: Event not supported (${f.type})`);break}}),this.E.emitInitialDomStart(),(t=this.Ye)===null||t===void 0||t.start(),(e=this.Xe)===null||e===void 0||e.start(),this.Go.start()}stop(){var t,e,i;this.reset(),this.flush(),this.Go.stop(),(t=this.Ae)===null||t===void 0||t.flushEvents(),(e=this.Ye)===null||e===void 0||e.stop(),(i=this.Xe)===null||i===void 0||i.stop()}flush(){this.dp.flush()}onEvent(t,e){var i;this.Zt=t,this.Wo=e,(i=this.Ae)===null||i===void 0||i.onEvent(r=>this.Zt(r))}reset(){this.pp.reset()}}return s})(),Xm=(()=>{class s{constructor(t=100){this.wv=t,this.Yo={},this.pr=null,this.Vc="original-resource-name"}onEvent(t){this._v=t}processEvent(t){this.bv(t.resourceId,t.resource.hash,t.originalResourceName),this.Av(t)}flushEvents(){this.pr&&csClearTimeout(this.pr),this.fp()}onSendStaticResource(t){this.Av=t}fp(){if(!Object.keys(this.Yo).length)return;let t={type:J.RESOURCE_HASHES,date:z.now(),args:[this.Yo]};this.pr=null,this.Yo={},this._v(t)}bv(t,e,i){let r=e;i&&(r+=`?${this.Vc}=${i}`),this.Yo[t]=r,!this.pr&&(this.pr=window.csSetTimeout(()=>this.fp(),this.wv))}}return s})(),Km=(()=>{class s{constructor(t,e,i){this.E=t,this.w=e,this.Tv=i,this.fr=de.ETR_DISABLED,this.Xo=de.ETR_PENDING,this.Ko=!0}getEtrStatus(t){t===void 0&&(t=this.w.getSession());let e=t==null?void 0:t.etrStatus;return this.Cl()&&e===de.ETR_SAVED_SESSION?e:this.fr}onEventTriggerRecording(t,e){switch(e){case Qs.ETR_PAGE:this.gp(de.ETR_SAVED_PAGE);break;case Qs.ETR_LEGACY:case Qs.ETR_SESSION:this.gp(de.ETR_SAVED_SESSION);break}}handleCollectStateChange(t){this.Ko=!1,t?this.gr(this.Xo):this.gr(de.ETR_DISABLED)}handleArtificialPageview(){this.Tv?(this.Ko=!0,this.gr(de.ETR_DISABLED)):this.Cl()&&this.gr(de.ETR_PENDING)}handleSessionRenewal(){this.Ko=!0,this.gr(de.ETR_DISABLED)}gr(t){this.fr=t,this.Xo=de.ETR_PENDING,this.mp(t),this.E.emitRecordingContextChange()}gp(t){this.Ko?Number(t)>Number(this.Xo)&&(this.Xo=t):this.Cl()&&Number(t)>Number(this.fr)&&(this.fr=t,this.mp(t),this.E.emitRecordingContextChange())}mp(t){let e=this.w.getSession();e!==null&&e.etrStatus===de.ETR_NOT_SAVED_SESSION&&t===de.ETR_SAVED_SESSION&&(e.etrStatus=t,this.w.setSession(e))}Cl(){return this.fr!==de.ETR_DISABLED}}return s})();function Fr(s,n){let t,e,i,r,o=null,c=p=>{let S=z.elapsed();if(!p&&o!==null){let _=n-(S-o);if(_>0){e=window.csSetTimeout(c,_);return}}let f=S-i;e=null,o=null,i=null,r=s(f,...t)},u=(...p)=>{if(t=[...p],i){o=z.elapsed();return}return i=z.elapsed(),e=window.csSetTimeout(c,n),r};return u.flushPending=()=>{e&&(window.csClearTimeout(e),c(!0))},u.cancel=()=>{o=null,i=null,e&&(window.csClearTimeout(e),e=null)},u}var Jm=(()=>{let s;return function(n){n[n.NOT_EXIST=2]="NOT_EXIST"}(s||(s={})),s})(),Qm=8*1024*1024,Zm=(()=>{class s extends ae{constructor(t,e,i){super(),this.Ae=t,this.yp=e,this.Q=i,this.Il={},this.Ep=new Set,this.Je=!1}initState(){ph()&&(this.Me=this.Q.getRequestParameters(),this.Rv=`${this.yp}/exist?${xn.toQuery(this.Me)}`,this.Cv=`${this.yp}/putTag?${xn.toQuery(this.Me)}`,this.Sp=Fr(async()=>{if(this.Je){this.Sp();return}this.Je=!0;try{await this.Iv()}finally{this.Je=!1}},300),this.Ae.onSendStaticResource(t=>{this.vp(t)}))}onStart(){}onStop(){}onIframeStaticResource(t){this.vp(t)}vp(t){this.wp(t.resource.hash,t.resource.data),t.nestedResources&&t.nestedResources.length>0&&csArray.prototype.forEach.call(t.nestedResources,e=>{this.wp(e.hash,e.data)})}wp(t,e){this.Ep.has(t)||(this.Ep.add(t),this.Il[t]=e,this.Sp())}async Iv(){let t=this.Il;this.Il={};let e=await this.Pv(t);if(!e.length)return;let i=this.Ov(e);await Promise.all(csArray.prototype.map.call(i,r=>window.fetch(this.Cv,{method:"POST",body:r})))}async Nv(t){try{let e=Object.keys(t);if(!e.length)return[];let i={projectId:this.Me.pid,filter:Jm.NOT_EXIST,hashes:e,touch:!0};return await(await window.fetch(this.Rv,{method:"POST",body:csJSON.stringify(i)})).json()}catch{return[]}}async Pv(t){let e=[],i=await this.Nv(t);return csArray.prototype.forEach.call(i,r=>{let o=t[r];o?csArray.prototype.push.call(e,{hash:r,data:o}):Q.warn("SRM: received unknown hash: "+r)}),e}Ov(t){let e=0,i=[new FormData];for(let r of t){let{data:o,hash:c}=r,u=i.length-1;if(e=e+o.size,e<Qm)i[u].append("",o,c);else{let p=new FormData;p.append("",o,c),e=o.size,csArray.prototype.push.call(i,p)}}return i}}return s})(),ty=(()=>{class s{constructor(t){this.Jo=t,this.mr=20,this.vi=0,this.N=!1}translate(t){if(this.vi>=this.mr)return this.Jo.stop(),null;this.vi+=1;let{filename:e,message:i,lineno:r,colno:o,timestamp:c}=t;return{type:J.JAVASCRIPT_ERROR,date:c,args:[{errorType:"jsError",message:i,filename:e,lineno:r,colno:o}]}}start(){this.N||(this.vi=0,this.N=!0)}stop(){this.N=!1}}return s})(),ey=(()=>{class s{constructor(){this.mr=20,this.wi=0,this.N=!1}translate(t){if(this.wi>=this.mr)return null;this.wi+=1;let{message:e,attributes:i,timestamp:r}=t;return{type:J.CUSTOM_ERROR,date:r,args:[{errorType:"customError",message:e,attributes:i}]}}start(){this.N||(this.wi=0,this.N=!0)}stop(){this.N=!1}}return s})(),sy="csPersisted",ll="v2/recording",iy=["isRecording"],Xh=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],ny=["replay:resourceManager:getStatus","cssrm:getStatus"],ry=(()=>{class s{constructor(t,e,i,r,o,c,u,p,S,f,_,A,T,x,U,N,P,Y,O,X,tt,nt){this.zs=t,this.w=e,this.h=i,this.Me=r,this.f=o,this.I=c,this.X=u,this.Bt=p,this.ae=S,this.at=f,this.ce=_,this.lt=A,this.E=T,this.qs=x,this._p=U,this.te=N,this.St=P,this.K=Y,this.Fi=O,this.ot=X,this.fC=tt,this.tt=nt}init(){var t,e;let i=[],r=[];csArray.prototype.push.call(r,new $g),this.yr=new am(this.ot.shouldUseAnonymization(),this.h.whitelistedAttributes,this.I,this.h.anonymizeDigits),this._i();let o=new Fg(sy);this.Mv(o);let c=new $f;this.j=new Ff;let u=new jg;csArray.prototype.push.call(i,u),this.h.useStaticResourceManager&&wa.isSupported()&&(this.Vt=new wa,this.Ae=new Xm,this.bp=new Zm(this.Ae,this.h.getStaticResourceManagerUri(),this.Me),this._p.addListener(this.bp),csArray.prototype.push.call(r,this.Vt));let p=new Un(c,this.Me,{getRequestParameters:()=>({let:this.recordingService.getRecordingLastEventTimestamp()})},{getRequestParameters:()=>({rst:this.recordingService.getRecordingStartTimestamp()})},{getRequestParameters:()=>({rt:csArray.prototype.join.call(this.w.getCollectStates(),",")})}),S=new jh(`${this.h.getRecordingUri()}/${ll}`);csArray.prototype.push.call(r,this.yr),csArray.prototype.push.call(r,new cm(this.K)),csArray.prototype.push.call(r,new lm),this.bi=new Vf,this.bi.init(),csArray.prototype.push.call(i,this.bi),this.Ct=new kg(o,S,this.U),csArray.prototype.push.call(i,new Dg(window.location,this.I));let f=new Pg,_=new dm,A=new fm,T=new ym(this.tt),x=new Em,U=[_,this.Bt,f,new Lm(csArray.prototype.filter.call(i,O=>O)),x,new Sm,new Im,T,A];this.h.jsErrorsEnabled&&(this.Jo=new Pm,this.Dv=new Om(O=>this.ae.anonymize(O)),this.Ye=new ty(this.Jo),csArray.prototype.push.call(U,this.Jo),csArray.prototype.push.call(r,this.Dv)),!((e=this.h.customErrors)===null||e===void 0)&&e.enabled&&(this.Xe=new ey);let N=new Dm(U,r),P=new Ym(N,this.E,this.Ae,this.Ye,this.Xe),Y=[f,_,A,T,x];this.recordingService=new Mg(this.h,this.j,p,c,this.X,this.w,this.ae,this.at,this.ce,this.tt,this.U,this.Ct,S,P,i,Y,this.Vt,this.Fi,this.Ye,this.Xe),this.qs.addListener(this.recordingService),this._p.addListener(this.recordingService),this.recordingService.init(),this.f.register(iy,()=>this.w.isReplayRecorded()&&!this.te.isUrlExcludedForSessionReplay()),this.f.register(Xh,()=>{this.recordingService.activateOnlineAssetsOnNextPageview(),this.E.emitRecordingContextChange()}),this.f.register(ny,()=>this.recordingService.getStaticResourceManagerStatus()),this.Ai=new Km(this.E,this.w,this.h.malkaUrlEnabled),this.qs.addListener(this.Ai),this.zs.enableRecordingContext(this.recordingService,this.w,this.Ai),this.Pl()}onAfterNaturalPageView(){var t;this.te.isUrlExcludedForSessionReplay()?this.recordingService.resetOnlineAssetsOnPageview():this.recordingService.updateOnlineAssetsOnPageview(),(t=this.bp)===null||t===void 0||t.initState()}onStartTracking(){this.Ct.recover(),this._i(),this.w.isReplayRecorded()&&!this.te.isUrlExcludedForSessionReplay()&&(this.w.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Ol())}onArtificialPageViewEnd(){this.w.isReplayRecorded()&&!this.te.isUrlExcludedForSessionReplay()&&!this.w.isTemporarilyRecorded()&&this.Ct.sendLastMessageBeacon(),this.recordingService.clearStates()}onBeforeArtificialPageView(){this.Ai.handleArtificialPageview()}onAfterArtificialPageView(){this._i(),this.w.isReplayRecorded()&&!this.te.isUrlExcludedForSessionReplay()?(this.w.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.recordingService.updateOnlineAssetsOnPageview(),this.Lv()):(this.recordingService.resetOnlineAssetsOnPageview(),this.Yi())}onBeforeSessionRenewal(){this.Ai.handleSessionRenewal(),this.recordingService.clearStates(),this.Yi()}onOptout(){this.Yi(),this.recordingService.onOptOut()}onReplayUnanonymizationConsentGranted(){this._i(),this.recordingService.triggerUnanonymizationConsentGranted(),this.E.emitRecordingContextChange()}onReplayUnanonymizationConsentWithdrawn(){this._i(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.E.emitRecordingContextChange()}onCollectStateChange(t,e){if(t===q.QUOTA_REACHED||t===q.ANALYTICS_ONLY&&e===fe.ETR_OFF)this.recordingService.clearEvents(),this.Yi();else{this.U.setQueryParams({rt:csArray.prototype.join.call(this.w.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents();let i=t===q.ANALYTICS_ONLY&&e===fe.ETR_ON;this.Ai.handleCollectStateChange(i)}}onInitialDomStart(){this.recordingService.blockSendingEventsFromSerialization(),this.Ct.blockSendingLastMessage()}onInitialDomDone(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.Ct.allowSendingLastMessage(),this.bi.start(),this.recordingService.pushEvents()}onAfterReplayRecordingConsentGranted(){this.w.isReplayRecorded()&&!this.te.isUrlExcludedForSessionReplay()&&(this.w.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Ol(),this.recordingService.triggerRecordingForSessionGranted())}onAfterReplayRecordingConsentWithdrawn(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.Yi())}Pl(){var t,e,i,r;if(!((e=(t=this.h.experimental.sessionReplay)===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0)&&e.filterByHostSelector){let o=(r=(i=this.h.experimental.sessionReplay)===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.filterByHostSelector;pt(o,c=>{oe(c)&&hs.setShadowRootFilter(u=>{try{return Oe.call(u.host,c)}catch{return!1}})})}}Ol(){this.recordingService.start(),this.Ct.start(),this.E.emitRecordingContextChange()}Yi(){Lf(),this.recordingService.stop(),this.Ct.stop(),this.E.emitRecordingContextChange()}Lv(){this.Yi(),this.Ol()}Mv(t){let e="byteArray";this.U=this.St.create(`${this.h.getRecordingUri()}/${ll}`,!0,e,t,["rt","v","pid","pn","sn","uu"])}_i(){var t;let e=this.ot.shouldUseAnonymization();this.yr.setAnonymization(e),(t=this.kv)===null||t===void 0||t.setAnonymization(e)}}return Z([ee("Recording.onStartTracking")],s.prototype,"onStartTracking",null),Z([ee("onInitialDomDone")],s.prototype,"onInitialDomDone",null),s})(),wr=(()=>{let s;return function(n){n[n.NOT_NEEDED=1]="NOT_NEEDED",n[n.NOT_EXPRESSED=2]="NOT_EXPRESSED",n[n.WITHDRAWN=3]="WITHDRAWN",n[n.GRANTED=4]="GRANTED"}(s||(s={})),s})(),Js=(()=>{let s;return function(n){function t(r){return r.replayConsentRequiredForSession}n.isReplayConsentNeeded=t;function e(r){return r.collectState===q.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||r.collectState===q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}n.isRecordingBlockedByConsent=e;function i(r){return r.collectState===q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}n.isRecordingWithDrawn=i}(s||(s={})),s})(),oy=(()=>{class s{constructor(t,e,i,r){this.C=t,this.w=e,this.h=i,this.Qe=r,this.Ap=!1}isNaturalPageViewSent(){return this.Ap}setNaturalPageViewSent(t){this.Ap=t}getTrackingContext(){let t=this.w.getSession();if(!t)return null;let e=this.getSessionKey();if(!e)return null;let i=this.h.projectId,r=this.h.uxaDomain,o=t.pageNumber,c=this.Qe.getPageViewType(),u=this.w.isReplayRecorded(),p=this.xv(t);return{projectId:i,sessionKey:e,pageNumber:o,pageViewType:c,isRecording:u,uxaDomain:r,recordingConsentState:p,...this.h.smbConfig}}getSessionKey(){let t=this.C.getVisitor();return t?`${t.id}.${t.visitsCount}`:null}xv(t){return Js.isReplayConsentNeeded(this.h)?t.collectState===q.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?wr.NOT_EXPRESSED:t.collectState===q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?wr.WITHDRAWN:wr.GRANTED:wr.NOT_NEEDED}}return s})(),ay=(()=>{class s{constructor(t){this.vt=t,this.ee=[]}handleCommand(t){if(ls(t)&&(this.Er(t),this.vt.isNaturalPageViewSent())){let e=this.vt.getTrackingContext();e!==null&&this.kt(t,e)}}Er(t){csArray.prototype.push.call(this.ee,t)}executeRegisteredCallbacks(){let t=this.vt.getTrackingContext();t!==null&&csArray.prototype.map.call(this.ee,e=>this.kt(e,t))}kt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),cy=(()=>{class s{constructor(t){this.vt=t,this.Ti=[]}handleCommand(t){if(this.vt.isNaturalPageViewSent())return this.Uv(t);this.Sr(t)}Uv(t){let e=this.vt.getSessionKey();return this.Tp(t)&&e!==null&&this.kt(t.callback,e),e}Sr(t){this.Tp(t)&&csArray.prototype.push.call(this.Ti,t.callback)}flushPendingCallbacks(){let t=this.vt.getSessionKey();t!==null&&csArray.prototype.forEach.call(this.Ti,e=>{this.kt(e,t)}),this.Ti=[]}Tp(t){return t&&typeof t.callback=="function"}kt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),ly=(()=>{class s{constructor(t,e){this.Y=t,this.vt=e}onTrackingContextRequestCallback(t){let e=this.vt.getTrackingContext();e!==null&&this.Y.sendToChildren(yt.TrackingContextResultMessage,{...t,trackingContext:e})}onIframeIntegrationCallback(t){if(!this.vt.isNaturalPageViewSent())return;let e=this.vt.getTrackingContext();e!==null&&(t.trackingContext=e,this.Y.sendToChildren(yt.IntegrationCallback,t))}sendAfterPageViewCallbackToChildren(){let t=this.vt.getTrackingContext();if(t===null)return;let e={trackingContext:t,initiator:Vp.AfterPageView};this.Y.sendToChildren(yt.IntegrationCallback,e)}}return s})();function hy(s,n){let{isRecording:t,pageNumber:e,projectId:i,siteId:r,uxaDomain:o,csLiteDomain:c}=s,u=/^(.+)\.(\d+)$/.exec(s.sessionKey),p;if(t&&u){let[,S,f]=u;r?p=`${c}/sites/${r}/player?uu=${S}&sn=${f}&pn=${e}`:p=`${o}/quick-playback/index.html?pid=${i}&uu=${S}&sn=${f}&pvid=${e}&recordingType=cs`,n.withTimestamp&&(p+=`&t=${z.now()-n.recordingStartTimestamp}`)}return{replayLink:p,isRecording:t}}var uy=(()=>{class s{constructor(t){this.vt=t}handleCommand(t,e){ti(t)&&ls(e)&&this.kt(t,e)}kt(t,e){csSetTimeout(()=>{let i=this.vt.getTrackingContext();if(i){let r=hy(i,t);e(r)}})}}return s})(),dy=(()=>{class s{constructor(){this.ee=new Set}handleCommand(t,e){return!ls(t)||this.ee.has(t)?null:(this.ee.add(t),e&&(this._e=e,this.Rp(t,e)),()=>this.ee.delete(t))}executeCallbacks(t){this.jv(t)&&(this._e=t,this.ee.forEach(e=>this.Rp(e,t)))}Rp(t,e){csSetTimeout(()=>{try{t(e)}catch{}})}jv(t){let{isRecording:e,recordingStartTimestamp:i,etrState:r,etrStatus:o,collectState:c}=t;return this._e&&(this._e.isRecording!==e||this._e.recordingStartTimestamp!==i||this._e.etrState!==r||this._e.etrStatus!==o||this._e.collectState!==c)}}return s})(),Kh=["afterPageView"],py=["getSessionKey"],fy=["onRecordingContextChange","onRecordingStateChange"],gy=["replay:link:generate"],my=(()=>{class s{constructor(t,e,i,r,o,c,u,p){this.C=t,this.w=e,this.f=i,this.it=r,this.Y=o,this.h=c,this.Qe=u,this.zs=p}init(){this.vt=new oy(this.C,this.w,this.h,this.Qe),this.Nl=new ay(this.vt),this.Cp=new cy(this.vt),this.vr=new dy,this.Hv=new uy(this.vt),this.Ml=new ly(this.Y,this.vt),this.it.addListener(this.Ml),this.f.register(py,t=>this.Cp.handleCommand(t)),this.f.register(Kh,t=>this.Nl.handleCommand(t)),this.f.register(fy,t=>this.vr.handleCommand(t,this.zs.getRecordingContext())),this.f.register(gy,(t,e)=>{this.Xi&&this.Hv.handleCommand({...t,recordingStartTimestamp:this.zs.getRecordingContext().recordingStartTimestamp},e)})}onAfterNaturalPageView(){this.vt.setNaturalPageViewSent(!0),this.Cp.flushPendingCallbacks(),this.Nl.executeRegisteredCallbacks(),this.Ml.sendAfterPageViewCallbackToChildren()}onAfterArtificialPageView(){this.Nl.executeRegisteredCallbacks(),this.Ml.sendAfterPageViewCallbackToChildren()}onCollectStateChange(){this.executeRecordingContextChangeCallbacks()}onRecordingContextChange(){this.executeRecordingContextChangeCallbacks()}executeRecordingContextChangeCallbacks(){this.vr.executeCallbacks(this.zs.getRecordingContext())}setRecordingService(t){this.Xi=t}}return Z([Kr({wait:0,mode:"trailing"})],s.prototype,"executeRecordingContextChangeCallbacks",null),s})(),yy=512,Ey=255,Ko=(()=>{class s{constructor(t,e){this.key=csString.prototype.slice.call(t,0,yy),this.value=L(e)?csString.prototype.slice.call(e,0,Ey):e}static isKeyValid(t){return L(t)}static isValueValid(t){return L(t)||Wi(t)}}return s})(),Sy=(()=>{class s extends ae{constructor(t,e){super(),this.Ft=t,this.I=e,this.kl=[]}onStart(){csArray.prototype.forEach.call(this.kl,t=>this.Ip(t.key,t.value)),this.kl=[]}onStop(){}Ip(t,e){let i=this.I.anonymizePII(t),r=Wi(e)?e:this.I.anonymizePII(e);this.Ft.add(new Ko(i,r))}trackDynamicVariable(t,e){if(Ko.isKeyValid(t)&&Ko.isValueValid(e)){if(!this.isStarted){csArray.prototype.push.call(this.kl,{key:t,value:e});return}this.Ip(t,e)}else throw new Error(`Command misuse: ${nc[0]}`)}}return s})(),vy=(()=>{class s{constructor(t){this.le=t,this.Ft=[]}add(t){csArray.prototype.push.call(this.Ft,t),this.setBatchReadyCall()}clear(){this.Ft=[]}onBatchReady(t){this.Bv=t}getRequestParameters(){let t={};for(let e of this.Ft)t[e.key]=e.value;return{dv:this.le.compressSync(csJSON.stringify(t),"base64"),ct:this.le.algorithm}}setBatchReadyCall(){this.Bv()}}return Z([Kr({wait:0,mode:"trailing"}),H("dynamicVariablesBatchReady")],s.prototype,"setBatchReadyCall",null),s})(),wy="dvar",nc=["trackDynamicVariable"],_y=(()=>{class s{constructor(t,e,i,r,o,c){this.f=t,this.w=e,this.h=i,this.Me=r,this.le=o,this.I=c,this.ds=new Qi(this.h.getTrackerUri(),wy),this.Ft=new vy(this.le),this.Ze=new Sy(this.Ft,this.I)}init(){this.ds.setRequestParametersProviders(this.Me,this.Ft),this.w.setDynamicVariablesService(this.Ze),this.Ft.onBatchReady(()=>this.ds.send()),this.ds.after(()=>this.Ft.clear()),this.f.register(nc,({key:t,value:e}={})=>{this.Ze.trackDynamicVariable(t,e)})}onStartTracking(){this.Ze.start()}}return s})(),hl=(()=>{class s{constructor(t,e){this.id=t,this.revenue=e}static from(t){let e=new s(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),L(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e}hasValidRevenue(){return!isNaN(this.revenue)&&this.revenue>=0}static isValid(t){return jt(t)&&te(t.revenue)&&L(t.currency)&&t.currency.length<=10&&(!jt(t.id)||L(t.id))}}return s})(),Jh=100,by=100,Ay=(()=>{class s{constructor(t,e,i,r){this.id=t,this.name=e,this.price=i,this.quantity=r}static from(t){if(!s.Dl(t))return null;let e=new s(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return dt(t.sku)&&(e.sku=t.sku),dt(t.category)&&(e.category=t.category),dt(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,Jh)),e}static Dl(t){return jt(t)&&L(t.id)&&L(t.name)&&te(parseFloat(t.price))&&Wi(parseInt(t.quantity,10))&&(!dt(t.sku)||L(t.sku))&&(!dt(t.category)||L(t.category))&&(!dt(t.merchant)||L(t.merchant))}}return s})(),Ty=(()=>{class s extends ae{constructor(t,e,i){super(),this.I=t,this.Pp=e,this.X=i,this.Ll=[],this.clear()}onStart(){csArray.prototype.forEach.call(this.Ll,t=>{this.he=t.transaction,this.wr=t.transactionItems,this.sendTransaction()}),this.Ll=[]}onStop(){}addTransaction(t){let e=this.I.anonymizeFields(t,["id"]);this.he=hl.from(e)}getTransaction(){return this.he}sendTransaction(){if(!this.isStarted){csArray.prototype.push.call(this.Ll,{transaction:this.he,transactionItems:[...this.wr]}),this.clear();return}if(!(this.Pp===null||this.X===null)&&(this.X.refreshSession(),!!this.X.isSessionValid())){if(!this.he.hasValidRevenue()){Q.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.Pp.send()}}addItem(t){if(ls(t))throw new Error(`Command misuse: ${to[1]}`);let e=this.I.anonymizeFields(t,["id","name","sku","category"]),i=Ay.from(e);i!==null&&csArray.prototype.push.call(this.wr,i)}getItems(){return this.wr}clear(){this.he=hl.from({revenue:NaN}),this.wr=[]}getRequestParameters(){let t={id:this.he.id?`${this.he.id}`:"",revenue:`${this.he.revenue}`};return dt(this.he.tax)&&(t.tax=`${this.he.tax}`),dt(this.he.shipping)&&(t.shipping=`${this.he.shipping}`),dt(this.he.currency)&&(t.cu=`${this.he.currency}`),t.items=window.csJSON.stringify(this.wr),t}}return s})(),Ry=(()=>{class s extends ae{constructor(t,e){super(),this.Fv=t,this.X=e,this.Te=null,this.xl=[]}onStart(){csArray.prototype.forEach.call(this.xl,t=>{this.Te=t,this.Op()}),this.xl=[]}onStop(){}addToCart(t){let e={};L(t.sku)&&(e.sku=csString.prototype.slice.call(t.sku,0,by)),L(t.merchant)&&(e.merchant=csString.prototype.slice.call(t.merchant,0,Jh)),(e.sku||e.merchant)&&(this.Te=e,this.Op())}getCartItem(){return this.Te}Op(){if(!this.isStarted&&this.Te!==null){csArray.prototype.push.call(this.xl,this.Te),this.clear();return}this.X.refreshSession(),this.X.isSessionValid()&&this.Fv.send()}clear(){this.Te=null}getRequestParameters(){if(!this.Te)return{};let t={};return L(this.Te.sku)&&this.Te.sku.length>0&&(t.sku=this.Te.sku),L(this.Te.merchant)&&this.Te.merchant.length>0&&(t.me=this.Te.merchant),t}}return s})(),Cy=["ecommerce:addToCart","ec:cart:add"],rc=["ecommerce:addTransaction","ec:transaction:create"],to=["ecommerce:addItem","ec:transaction:items:add"],oc=["ecommerce:send","ec:transaction:send"],Iy=(()=>{class s{constructor(t,e,i,r,o,c,u){this.h=t,this.Q=e,this.C=i,this.f=r,this.I=o,this.X=c,this.A=u}init(){let t=new Qi(this.h.getTrackerUri(),"transaction"),e=new Qi(this.h.getTrackerUri(),"addtocart");this.es=new Ty(this.I,t,this.X),this.Qo=new Ry(e,this.X);let i=new Un(this.Q,this.C,this.A,this.es);t.setRequestParametersProviders(i),t.after(()=>{this.es.clear()});let r=new Un(this.Q,this.C,this.A,this.Qo);e.setRequestParametersProviders(r),e.after(()=>{this.Qo.clear()}),this.f.register(rc,o=>{this.es.addTransaction(o)}),this.f.register(to,o=>this.es.addItem(o)),this.f.register(oc,()=>this.es.sendTransaction()),this.f.register(Cy,o=>{this.Qo.addToCart(o)})}onStartTracking(){this.es.start(),this.Qo.start()}}return s})(),Py=(()=>{class s{constructor(t){this.Zo=t.performance}getRequestParameters(){if(this.$v())return{};let t=this.zv();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}}zv(){let t=this.Zo.timing;return{startRender:`${t.domLoading-t.requestStart}`,domInteractive:`${t.domInteractive-t.requestStart}`,domComplete:`${t.domComplete-t.requestStart}`,fullyLoaded:`${t.loadEventEnd-t.requestStart}`}}$v(){return!(this.Zo&&this.Zo.timing&&this.Zo.timing.loadEventEnd>0)}}return s})(),ve=(()=>{class s{static build(t,e,i){return csArray.prototype.reduce.call(i,(r,o)=>o.enhanceAnalysisEvent(t,r),e)}}return s})(),rt=(()=>{let s;return function(n){n[n.RESIZE=0]="RESIZE",n[n.SCROLL=1]="SCROLL",n[n.MOUSEMOVE=2]="MOUSEMOVE",n[n.MOUSEDOWN=3]="MOUSEDOWN",n[n.MOUSEUP=4]="MOUSEUP",n[n.CLICK=5]="CLICK",n[n.MOUSEOVER=6]="MOUSEOVER",n[n.MOUSEOUT=7]="MOUSEOUT",n[n.CHANGE=10]="CHANGE",n[n.FOCUSIN=11]="FOCUSIN",n[n.FOCUSOUT=12]="FOCUSOUT",n[n.TAP=14]="TAP",n[n.KEYDOWN=15]="KEYDOWN",n[n.KEYUP=16]="KEYUP",n[n.COMMAND=17]="COMMAND",n[n.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",n[n.PERFORMANCE=19]="PERFORMANCE",n[n.DRAG=20]="DRAG",n[n.FLICK=21]="FLICK",n[n.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",n[n.ZOOM=23]="ZOOM",n[n.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",n[n.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",n[n.DEAD_CLICK=30]="DEAD_CLICK",n[n.DEAD_ZOOM=31]="DEAD_ZOOM",n[n.PAGE_RELOAD=32]="PAGE_RELOAD",n[n.THRASHED_CURSOR=33]="THRASHED_CURSOR",n[n.BLANK_PAGE=34]="BLANK_PAGE",n[n.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",n[n.SUBMIT=36]="SUBMIT"}(s||(s={})),s})(),Jo=(()=>{let s;return function(n){n.SUCCESS="success",n.FAILURE="failure",n.ATTEMPT="attempt"}(s||(s={})),s})();function Oy(s){return s.tgtHM!==void 0}function Qh(s){return s.tgt!==void 0}function Ny(s){return s.tgtLk!==void 0}function My(s){return s.x!==void 0&&s.y!==void 0}function ky(s){return s===Jo.SUCCESS||s===Jo.FAILURE||s===Jo.ATTEMPT}var Dy=(()=>{class s{constructor(t,e,i){this.se=t,this.Dt=e,this.Et=i}processGesture(t,e){switch(t.type){case Xt.TAP:this.qv(e);break;case Xt.FLICK:this.Gv(t,e);break;case Xt.DRAG:this.Wv(t,e);break;default:break}}qv(t){let e={type:rt.TAP,ts:0,x:0,y:0,tgt:""},i=ve.build(t,e,this.se);i.tgt!==Ts.INVALID_ELEMENT&&this.O(i)}Wv(t,e){var i,r;let o={type:rt.DRAG,ts:0,fd:t.direction,tgt:""};!((i=this.Et)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((r=this.Et)===null||r===void 0)&&r.collectGestureVelocity&&(o.velocity=t.velocity);let c=ve.build(e,o,this.se);c.tgt!==Ts.INVALID_ELEMENT&&this.O(c)}Gv(t,e){var i,r;let o={type:rt.FLICK,ts:0,fd:t.direction,tgt:""};!((i=this.Et)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((r=this.Et)===null||r===void 0)&&r.collectGestureVelocity&&(o.velocity=t.velocity);let c=ve.build(e,o,this.se);c.tgt!==Ts.INVALID_ELEMENT&&this.O(c)}onEvent(t){this.O=t}start(){this.Dt.subscribe(s.Np,(t,e)=>this.processGesture(t,e))}stop(){this.Dt.unsubscribe(s.Np)}}return s.Np="AnalysisGestureTracker",Z([kt()],s.prototype,"processGesture",null),s})(),Ly=(()=>{class s{constructor(t,e,i,r=["submit"]){this.se=t,this.ut=e,this.Lt=i,this.Yv=r,this.Mp="select, select *, input, textarea",this.Xv="select, select *, input, textarea",this.kp="a, a *, button, button *, select, select *, input, textarea",this._r="input, select, textarea",this.Kv="form",this.ta=150,this.Jv=400,this.Dp=!1,this.br=Fr((o,c)=>this.scrollListener(o,c),this.ta),this.Lp=Fr(o=>this.resizeListener(o),this.ta),this.Qv=Xr(o=>this.mouseMoveListener(o),this.Jv),this.Zv=[{boundElement:window,type:"resize",listener:()=>this.Lp()},{boundElement:document,type:"scroll",listener:o=>this.br(o)},{boundElement:window,type:"mousemove",listener:o=>{this.Qv(Pf(o))}},{boundElement:document,type:"mousedown",listener:o=>this.mouseDownListener(o)},{boundElement:document,type:"mouseup",listener:o=>this.mouseUpListener(o)},{boundElement:document,type:"click",listener:o=>this.clickListener(o)}],this.xp=[{type:"change",listener:this.Lt.on(this.Xv,o=>this.changeListener(o))},{type:"submit",listener:this.Lt.on(this.Kv,o=>this.submitListener(o))}],this.tw=[{boundElement:document,type:"mouseover",listener:this.Lt.on(this.kp,o=>this.mouseOverListener(o))},{boundElement:document,type:"mouseout",listener:this.Lt.on(this.kp,o=>this.mouseOutListener(o))},{boundElement:document,type:"focusin",listener:this.Lt.on(this.Mp,o=>this.focusInListener(o))},{boundElement:document,type:"focusout",listener:this.Lt.on(this.Mp,o=>this.focusOutListener(o))},{boundElement:document,type:"keyup",listener:this.Lt.on(this._r,o=>this.keyUpListener(o))},{boundElement:document,type:"keydown",listener:this.Lt.on(this._r,o=>this.keyDownListener(o))},{boundElement:document,type:"copy",listener:this.Lt.on(this._r,o=>this.copyListener(o))},{boundElement:document,type:"cut",listener:this.Lt.on(this._r,o=>this.cutListener(o))},{boundElement:document,type:"paste",listener:this.Lt.on(this._r,o=>this.pasteListener(o))},...csArray.prototype.map.call(this.xp,o=>({...o,boundElement:document}))],this.D={},this.xc=(o,c)=>{switch(c){case"initial":case"added":this.hi(o);break;case"removed":this.pi(o);break}},this.ne=new on(this.xc),this._c()}hi(t){if(Dr(t)){let e=this.Up();csArray.prototype.forEach.call(e,i=>Ut(i))}else{let e=this.Vp();csArray.prototype.forEach.call(e,i=>{Ut({...i,boundElement:t})})}}pi(t){if(Dr(t)){let e=this.Up();csArray.prototype.forEach.call(e,i=>Vt(i))}else{let e=this.Vp();csArray.prototype.forEach.call(e,i=>{Vt({...i,boundElement:t})})}}onEvent(t){this.O=t}start(){this.ne.observe(),this.hi(document),this.resizeListener()}stop(){this.pi(document),this.ne.disconnect()}flushPendingDebouncedListeners(){this.br.flushPending(),this.Lp.flushPending()}jp(t){return csArray.prototype.some.call(this.Yv,e=>e===t)}Vp(){return this.Lt.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.xp,t=>!this.jp(t.type)):(Q.warn("Element.matches is not implemented yet"),[])}Up(){let t=[];return csArray.prototype.push.call(t,...this.Zv),this.Lt.isMatchesSelectorSupported()?csArray.prototype.push.call(t,...this.tw):Q.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(t,e=>!this.jp(e.type))}resizeListener(t){let e=qi.getScrollContainer(),i=Cs(e);i&&(this.Dp=!0);let r={type:rt.RESIZE,ts:0,x:i?e.clientWidth:Kt.windowWidth(),y:i?e.clientHeight:Kt.windowHeight()};t!==void 0&&(r.d=t),this.O(r)}scrollListener(t,e){let i=qi.isEventOnScrollContainer(e);!this.Dp&&i&&this.resizeListener();let r={type:rt.SCROLL,ts:0,x:i?csEventtarget.apply(e).scrollLeft:Kt.windowOffsetX(),y:i?csEventtarget.apply(e).scrollTop:Kt.windowOffsetY(),d:t},o=ve.build(e,r,this.se);this.O(o)}mouseMoveListener(t){let e={type:rt.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=ve.build(t,e,this.se);this.O(i)}mouseDownListener(t){let e={type:rt.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=ve.build(t,e,this.se);this.ue(i)}mouseUpListener(t){let e={type:rt.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=ve.build(t,e,this.se);this.ue(i)}clickListener(t){let e={type:rt.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=ve.build(t,e,this.se);this.ue(i)}mouseOverListener(t){let e={type:rt.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=ve.build(t,e,this.se);this.ue(i)}mouseOutListener(t){let e={type:rt.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.ut.getEventTargetPath(t)},i=ve.build(t,e,this.se);this.ue(i)}focusInListener(t){let e={type:rt.FOCUSIN,ts:0,tgt:this.ut.getEventTargetPath(t)},i=ve.build(t,e,this.se);this.ue(i)}focusOutListener(t){let e={type:rt.FOCUSOUT,ts:0,tgt:this.ut.getEventTargetPath(t)},i=ve.build(t,e,this.se);this.ue(i)}changeListener(t){let e={type:rt.CHANGE,ts:0,tgt:""},i=ve.build(t,e,this.se);this.ue(i)}submitListener(t){let e={type:rt.SUBMIT,ts:0,tgt:""},i=ve.build(t,e,this.se);this.ue(i)}copyListener(t){let e={type:rt.COMMAND,ts:0,tgt:this.ut.getEventTargetPath(t),key:Gi.COPY};this.ue(e)}cutListener(t){let e={type:rt.COMMAND,ts:0,tgt:this.ut.getEventTargetPath(t),key:Gi.CUT};this.ue(e)}pasteListener(t){let e={type:rt.COMMAND,ts:0,tgt:this.ut.getEventTargetPath(t),key:Gi.PASTE};this.ue(e)}keyUpListener(t){let e={type:rt.KEYUP,ts:0,tgt:this.ut.getEventTargetPath(t),key:this.Hp(t)};this.ue(e)}keyDownListener(t){let e={type:rt.KEYDOWN,ts:0,tgt:this.ut.getEventTargetPath(t),key:this.Hp(t)};this.ue(e)}Hp(t){let e=this.D[t.key];return e===void 0?ht.ALPHANUMERICAL:e}ue(t){Qh(t)&&t.tgt!==Ts.INVALID_ELEMENT&&this.O(t)}_c(){this.D[" "]=ht.SPACE,this.D.Spacebar=ht.SPACE,this.D.Enter=ht.ENTER,this.D.Backspace=ht.BACKSPACE,this.D.Delete=ht.DELETE,this.D.ArrowUp=ht.ARROWUP,this.D.ArrowDown=ht.ARROWDOWN,this.D.ArrowLeft=ht.ARROWLEFT,this.D.ArrowRight=ht.ARROWRIGHT,this.D.Up=ht.ARROWUP,this.D.Down=ht.ARROWDOWN,this.D.Left=ht.ARROWLEFT,this.D.Right=ht.ARROWRIGHT,this.D.CapsLock=ht.CAPSLOCK,this.D.Shift=ht.SHIFT,this.D.Tab=ht.TAB}}return Z([H("Event handler type: resize")],s.prototype,"resizeListener",null),Z([H("Event handler type: scroll")],s.prototype,"scrollListener",null),Z([H("Event handler type: mouseMove"),kt()],s.prototype,"mouseMoveListener",null),Z([H("Event handler type: mouseDown"),kt()],s.prototype,"mouseDownListener",null),Z([H("Event handler type: mouseUp"),kt()],s.prototype,"mouseUpListener",null),Z([H("Event handler type: click"),kt()],s.prototype,"clickListener",null),Z([H("Event handler type: mouseOver"),kt()],s.prototype,"mouseOverListener",null),Z([H("Event handler type: mouseOut"),kt()],s.prototype,"mouseOutListener",null),Z([H("Event handler type: focusIn")],s.prototype,"focusInListener",null),Z([H("Event handler type: focusOut")],s.prototype,"focusOutListener",null),Z([H("Event handler type: change")],s.prototype,"changeListener",null),Z([H("Event handler type: submit"),kt()],s.prototype,"submitListener",null),Z([H("Event handler type: copy")],s.prototype,"copyListener",null),Z([H("Event handler type: cut")],s.prototype,"cutListener",null),Z([H("Event handler type: paste")],s.prototype,"pasteListener",null),Z([H("Event handler type: keyup")],s.prototype,"keyUpListener",null),Z([H("Event handler type: keydown")],s.prototype,"keyDownListener",null),s})(),xy=(()=>{class s{constructor(){this.Bp=100,this.Ar=0,this.Tr=Kt.documentHeight(),this.Fp={boundElement:document,type:"scroll",listener:t=>this.maxScrollRateListener(t)},this.Ar=this.Ul(qi.getScrollContainer()).maxScrollRate}onEvent(t){this.O=t}start(){Ut(this.Fp)}stop(){Vt(this.Fp)}reset(){let t=qi.getScrollContainer(),{maxScrollRate:e,maxDocumentHeight:i}=this.Ul(t);this.Tr=i,this.Ar=e,this.O()}Ul(t){let e=0,i=0;if(t===null)i=Kt.documentHeight(),e=this.ew(i);else{let r=this.iw(t);i=this.$p(t,r),e=this.nw(t,r)}return{maxScrollRate:e,maxDocumentHeight:i}}maxScrollRateListener(t){let e=null;qi.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));let{maxScrollRate:i,maxDocumentHeight:r}=this.Ul(e);(i>this.Ar||r>this.Tr)&&(this.Ar=i,r>this.Tr&&(this.Tr=r),this.O())}ew(t){let e=Math.round(this.rw()/t*100);return Math.min(e,this.Bp)}rw(){let t=Kt.windowHeight();return Kt.windowOffsetY()+t}nw(t,e){let i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,r=this.$p(t,e),o=Math.round(i/r*100);return Math.min(o,this.Bp)}iw(t){let e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)}$p(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e}getRequestParameters(){return{sr:`${this.Ar}`,mdh:`${this.Tr}`}}}return Z([H("MaxScrollRate handler")],s.prototype,"maxScrollRateListener",null),s})();var Uy=(()=>{class s{constructor(t,e,i,r,o,c,u,p,S,f,_,A,T,x,U,N,P,Y,O,X,tt){this.h=t,this.Gs=e,this.Dt=i,this.Ki=r,this.Vl=o,this.Be=c,this.ss=u,this.zp=p,this.X=S,this.Yt=f,this.W=_,this.jl=A,this.Ue=T,this.U=x,this.sa=U,this.Ss=N,this.vs=P,this.Hl=Y,this.Ri=O,this.Ci=X,this.Ii=tt,this.xs=new Ch,this.ia=!1}init(){var t,e,i,r,o,c,u;this.Gs.onEvent(p=>this.It(p)),this.Dt.onEvent(p=>this.It(p)),this.Ki.onEvent(()=>{let p=this.Ki.getRequestParameters();this.U.setQueryParams(p),this.ss.setQueryParams(p)}),this.jl.onEvent(p=>this.Fe(p)),this.Bl(),(t=this.sa)===null||t===void 0||t.onEvent(p=>this.It(p)),(e=this.Ri)===null||e===void 0||e.onEvent(p=>this.It(p)),(i=this.Ss)===null||i===void 0||i.onEvent(p=>this.It(p)),(r=this.vs)===null||r===void 0||r.onEvent(p=>this.It(p)),this.ow(),(o=this.Hl)===null||o===void 0||o.onEvent(p=>this.Fe(p)),(c=this.Ci)===null||c===void 0||c.onEvent(p=>this.Fe(p)),(u=this.Ii)===null||u===void 0||u.onEvent(p=>this.Fe(p))}ow(){this.ss.onBeaconSuccess(()=>{this.Be.clearEvents()}),this.ss.onBeaconFailure(t=>{this.aw(t)})}initStates(){let t=this.zp.getRequestParameters(),e=this.Vl.getRequestParameters(),i=this.Ki.getRequestParameters();this.U.setQueryParams(t),this.U.setQueryParams(e),this.U.setQueryParams(i),this.ss.setQueryParams(t),this.ss.setQueryParams(e),this.ss.setQueryParams(i),this.Fl()}clearStates(t){var e,i;this.Gs.flushPendingDebouncedListeners(),(e=this.Ss)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.vs)===null||i===void 0||i.flushPendingTextHighlightEvent(),t?(this.$l(),this.sendLastMessageBeacon()):this.sendEvents(),this.Ki.reset(),this.U.removeQueryParams()}start(t){var e,i,r,o,c,u,p;t||(e=this.Hl)===null||e===void 0||e.start(),this.Ue.start(),this.Gs.start(),this.Ki.start(),this.Dt.start(),(i=this.sa)===null||i===void 0||i.start(),(r=this.vs)===null||r===void 0||r.start(),t||this.jl.start(),(o=this.Ss)===null||o===void 0||o.start(),(c=this.Ri)===null||c===void 0||c.start(),(u=this.Ci)===null||u===void 0||u.start(),(p=this.Ii)===null||p===void 0||p.start()}collectInitialEvents(){var t;(t=this.sa)===null||t===void 0||t.collectInitialEvents()}onIframeAnalysisBrowserEvent(t){this.Fe(t)}onIframeAnalysisUserEvent(t){this.It(t)}onExternalEvent(t){this.G(t)}Fe(t){this.X.isCurrentPageviewValid()&&this.G(t)}It(t){this.X.refreshSession(),this.X.isSessionValid()&&this.G(t)}G(t){this.Be.addEvent(this.lw(t)),this.Be.isFull()&&this.sendEvents(),this.h.emitDebugEvents&&this.xs.emit("analysisEvent",{...t,typeName:rt[t.type]})}lw(t){return t.ts=this.Pi(),t}$l(){this.ss.setQueryParams({hlm:"true"}),this.ia=!0}sendLastMessageBeacon(){this.ss.setQueryParams(this.Vl.getRequestParameters()),this.ss.send(this.Be.stringifyEvents()),this.ss.removeQueryParams(["hlm"]),this.ia=!1}sendEvents(){this.Be.isEmpty()||(this.U.setQueryParams(this.zp.getRequestParameters()),this.U.setQueryParams(this.Vl.getRequestParameters()),this.U.send(this.Be.getEvents()),this.Be.clearEvents())}stop(){var t,e,i,r,o,c,u;this.Ue.stop(),this.Gs.stop(),this.Ki.stop(),this.Dt.stop(),this.jl.stop(),(t=this.sa)===null||t===void 0||t.stop(),(e=this.Ss)===null||e===void 0||e.stop(),(i=this.vs)===null||i===void 0||i.stop(),(r=this.Ri)===null||r===void 0||r.stop(),this.Be.empty(),(o=this.Hl)===null||o===void 0||o.stop(),(c=this.Ci)===null||c===void 0||c.stop(),(u=this.Ii)===null||u===void 0||u.stop()}Fl(){this.is=z.now()}Pi(){return z.now()-this.is}Bl(){this.Ue.onEvent(t=>{var e,i;t!==Ve.Visible&&((e=this.Ss)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.vs)===null||i===void 0||i.flushPendingTextHighlightEvent(),t===Ve.PagehideVisible?this.$l():t===Ve.PagehideHidden?(this.$l(),this.sendLastMessageBeacon()):(!this.Be.isEmpty()||this.ia)&&this.sendLastMessageBeacon())})}aw(t){try{(!this.Be.isEmpty()||this.ia)&&this.Yt.save({requestParameters:t,events:this.Be.getEvents()})}catch{}}pushSubmitCommandEvent(t,e){if(!ky(t)||!Cs(e))throw new Error(`Command misuse: ${uc}`);let i={status:t,type:rt.SUBMIT_COMMAND,ts:0,tgt:this.W.getElementPath(e)};i.tgt!==Ts.INVALID_ELEMENT&&this.Fe(i)}}return s})(),Vy=(()=>{class s{constructor(t,e){this.Yt=t,this.U=e,this.qp=()=>{document.visibilityState==="visible"&&this.Gp()}}start(){this.Gp(),this.jc()}stop(){this.Hc()}getRecoveryStorage(){return this.Yt}Gp(){let t=this.Yt.recover();if(t!==null){let{requestParameters:e,events:i}=t;this.U.send(i,e)}}jc(){document.addEventListener("visibilitychange",this.qp)}Hc(){document.removeEventListener("visibilitychange",this.qp)}}return s})(),jy=(()=>{class s{constructor(t){this.zi=t}save(t){localStorage.setItem(this.zi,csJSON.stringify(t))}clear(){localStorage.removeItem(this.zi)}recover(){let t=localStorage.getItem(this.zi);if(t===null)return null;let e=null;try{e=csJSON.parse(t)}catch{Q.error(`Invalid item in localStorage.
         (key:${this.zi}; value:${t})`)}finally{this.clear()}return e}}return s})(),Hy=(()=>{class s{constructor(t){this.Ji=t,this.Qi=e=>this.processMetric(e),this.N=!1}onEvent(t){this.O=t}start(){this.N||(this.N=!0,this.Ji.onFCP(this.Qi),this.Ji.onCLS(this.Qi),this.Ji.onFID(this.Qi),this.Ji.onLCP(this.Qi),this.Ji.onTTFB(this.Qi),this.Ji.onINP(this.Qi))}stop(){this.N=!1}processMetric(t){if(!this.N)return;let e={type:rt.PERFORMANCE,name:t.name,val:t.value,ts:0};this.O(e)}}return Z([H("Performance metric handler")],s.prototype,"processMetric",null),s})(),Ks,kn,Zh,$r,Ta,tu=-1,wi=function(s){addEventListener("pageshow",function(n){n.persisted&&(tu=n.timeStamp,s(n))},!0)},ac=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},eo=function(){var s=ac();return s&&s.activationStart||0},je=function(s,n){var t=ac(),e="navigate";return tu>=0?e="back-forward-cache":t&&(document.prerendering||eo()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:s,value:n===void 0?-1:n,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:e}},cn=function(s,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(s)){var e=new PerformanceObserver(function(i){Promise.resolve().then(function(){n(i.getEntries())})});return e.observe(Object.assign({type:s,buffered:!0},t||{})),e}}catch{}},He=function(s,n,t,e){var i,r;return function(o){n.value>=0&&(o||e)&&((r=n.value-(i||0))||i===void 0)&&(i=n.value,n.delta=r,n.rating=function(c,u){return c>u[1]?"poor":c>u[0]?"needs-improvement":"good"}(n.value,t),s(n))}},cc=function(s){requestAnimationFrame(function(){return requestAnimationFrame(function(){return s()})})},so=function(s){var n=function(t){t.type!=="pagehide"&&document.visibilityState!=="hidden"||s(t)};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},lc=function(s){var n=!1;return function(t){n||(s(t),n=!0)}},zi=-1,ul=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},zr=function(s){document.visibilityState==="hidden"&&zi>-1&&(zi=s.type==="visibilitychange"?s.timeStamp:0,By())},dl=function(){addEventListener("visibilitychange",zr,!0),addEventListener("prerenderingchange",zr,!0)},By=function(){removeEventListener("visibilitychange",zr,!0),removeEventListener("prerenderingchange",zr,!0)},hc=function(){return zi<0&&(zi=ul(),dl(),wi(function(){setTimeout(function(){zi=ul(),dl()},0)})),{get firstHiddenTime(){return zi}}},$n=function(s){document.prerendering?addEventListener("prerenderingchange",function(){return s()},!0):s()},pl=[1800,3e3],eu=function(s,n){n=n||{},$n(function(){var t,e=hc(),i=je("FCP"),r=cn("paint",function(o){o.forEach(function(c){c.name==="first-contentful-paint"&&(r.disconnect(),c.startTime<e.firstHiddenTime&&(i.value=Math.max(c.startTime-eo(),0),i.entries.push(c),t(!0)))})});r&&(t=He(s,i,pl,n.reportAllChanges),wi(function(o){i=je("FCP"),t=He(s,i,pl,n.reportAllChanges),cc(function(){i.value=performance.now()-o.timeStamp,t(!0)})}))})},fl=[.1,.25],Fy=function(s,n){n=n||{},eu(lc(function(){var t,e=je("CLS",0),i=0,r=[],o=function(u){u.forEach(function(p){if(!p.hadRecentInput){var S=r[0],f=r[r.length-1];i&&p.startTime-f.startTime<1e3&&p.startTime-S.startTime<5e3?(i+=p.value,r.push(p)):(i=p.value,r=[p])}}),i>e.value&&(e.value=i,e.entries=r,t())},c=cn("layout-shift",o);c&&(t=He(s,e,fl,n.reportAllChanges),so(function(){o(c.takeRecords()),t(!0)}),wi(function(){i=0,e=je("CLS",0),t=He(s,e,fl,n.reportAllChanges),cc(function(){return t()})}),setTimeout(t,0))}))},Tn={passive:!0,capture:!0},$y=new Date,gl=function(s,n){Ks||(Ks=n,kn=s,Zh=new Date,iu(removeEventListener),su())},su=function(){if(kn>=0&&kn<Zh-$y){var s={entryType:"first-input",name:Ks.type,target:Ks.target,cancelable:Ks.cancelable,startTime:Ks.timeStamp,processingStart:Ks.timeStamp+kn};$r.forEach(function(n){n(s)}),$r=[]}},zy=function(s){if(s.cancelable){var n=(s.timeStamp>1e12?new Date:performance.now())-s.timeStamp;s.type=="pointerdown"?function(t,e){var i=function(){gl(t,e),o()},r=function(){o()},o=function(){removeEventListener("pointerup",i,Tn),removeEventListener("pointercancel",r,Tn)};addEventListener("pointerup",i,Tn),addEventListener("pointercancel",r,Tn)}(n,s):gl(n,s)}},iu=function(s){["mousedown","keydown","touchstart","pointerdown"].forEach(function(n){return s(n,zy,Tn)})},ml=[100,300],qy=function(s,n){n=n||{},$n(function(){var t,e=hc(),i=je("FID"),r=function(u){u.startTime<e.firstHiddenTime&&(i.value=u.processingStart-u.startTime,i.entries.push(u),t(!0))},o=function(u){u.forEach(r)},c=cn("first-input",o);t=He(s,i,ml,n.reportAllChanges),c&&so(lc(function(){o(c.takeRecords()),c.disconnect()})),c&&wi(function(){var u;i=je("FID"),t=He(s,i,ml,n.reportAllChanges),$r=[],kn=-1,Ks=null,iu(addEventListener),u=r,$r.push(u),su()})})},nu=0,Qo=1/0,_r=0,Gy=function(s){s.forEach(function(n){n.interactionId&&(Qo=Math.min(Qo,n.interactionId),_r=Math.max(_r,n.interactionId),nu=_r?(_r-Qo)/7+1:0)})},ru=function(){return Ta?nu:performance.interactionCount||0},Wy=function(){"interactionCount"in performance||Ta||(Ta=cn("event",Gy,{type:"event",buffered:!0,durationThreshold:0}))},yl=[200,500],ou=0,El=function(){return ru()-ou},rs=[],Zo={},Sl=function(s){var n=rs[rs.length-1],t=Zo[s.interactionId];if(t||rs.length<10||s.duration>n.latency){if(t)t.entries.push(s),t.latency=Math.max(t.latency,s.duration);else{var e={id:s.interactionId,latency:s.duration,entries:[s]};Zo[e.id]=e,rs.push(e)}rs.sort(function(i,r){return r.latency-i.latency}),rs.splice(10).forEach(function(i){delete Zo[i.id]})}},Yy=function(s,n){n=n||{},$n(function(){var t;Wy();var e,i=je("INP"),r=function(c){c.forEach(function(S){S.interactionId&&Sl(S),S.entryType==="first-input"&&!rs.some(function(f){return f.entries.some(function(_){return S.duration===_.duration&&S.startTime===_.startTime})})&&Sl(S)});var u,p=(u=Math.min(rs.length-1,Math.floor(El()/50)),rs[u]);p&&p.latency!==i.value&&(i.value=p.latency,i.entries=p.entries,e())},o=cn("event",r,{durationThreshold:(t=n.durationThreshold)!==null&&t!==void 0?t:40});e=He(s,i,yl,n.reportAllChanges),o&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),so(function(){r(o.takeRecords()),i.value<0&&El()>0&&(i.value=0,i.entries=[]),e(!0)}),wi(function(){rs=[],ou=ru(),i=je("INP"),e=He(s,i,yl,n.reportAllChanges)}))})},vl=[2500,4e3],ta={},Xy=function(s,n){n=n||{},$n(function(){var t,e=hc(),i=je("LCP"),r=function(u){var p=u[u.length-1];p&&p.startTime<e.firstHiddenTime&&(i.value=Math.max(p.startTime-eo(),0),i.entries=[p],t())},o=cn("largest-contentful-paint",r);if(o){t=He(s,i,vl,n.reportAllChanges);var c=lc(function(){ta[i.id]||(r(o.takeRecords()),o.disconnect(),ta[i.id]=!0,t(!0))});["keydown","click"].forEach(function(u){addEventListener(u,function(){return setTimeout(c,0)},!0)}),so(c),wi(function(u){i=je("LCP"),t=He(s,i,vl,n.reportAllChanges),cc(function(){i.value=performance.now()-u.timeStamp,ta[i.id]=!0,t(!0)})})}})},wl=[800,1800],Ky=function s(n){document.prerendering?$n(function(){return s(n)}):document.readyState!=="complete"?addEventListener("load",function(){return s(n)},!0):setTimeout(n,0)},Jy=function(s,n){n=n||{};var t=je("TTFB"),e=He(s,t,wl,n.reportAllChanges);Ky(function(){var i=ac();if(i){var r=i.responseStart;if(r<=0||r>performance.now())return;t.value=Math.max(r-eo(),0),t.entries=[i],e(!0),wi(function(){t=je("TTFB",0),(e=He(s,t,wl,n.reportAllChanges))(!0)})}})},Qy=(()=>{class s{onFCP(t){eu(t,{reportAllChanges:!0})}onCLS(t){Fy(t,{reportAllChanges:!0})}onFID(t){qy(t,{reportAllChanges:!0})}onLCP(t){Xy(t,{reportAllChanges:!0})}onTTFB(t){Jy(t,{reportAllChanges:!0})}onINP(t){Yy(t,{reportAllChanges:!0})}}return s})();var io=(()=>{class s{isEventTypeSupported(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1}enhanceAnalysisEvent(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e}}return s})(),Zy=(()=>{class s extends io{constructor(){super(...arguments),this.supportedEventTypes=[rt.CHANGE],this.Lw=["text","email","number","search","tel","url","password"]}baseEnhanceAnalysisEvent(t,e){let i=Zt(t);return Gr(i)&&csArray.prototype.indexOf.call(this.Lw,i.type)>=0&&(e.isBlank=i.value===""),e}}return s})();var au=(()=>{class s extends io{constructor(t){super(),this.ut=t,this.supportedEventTypes=[rt.MOUSEDOWN,rt.MOUSEUP,rt.CLICK,rt.MOUSEOVER,rt.TAP,rt.DRAG,rt.FLICK,rt.SUBMIT,rt.CHANGE]}baseEnhanceAnalysisEvent(t,e){return e.tgt||(e.tgt=this.ut.getEventTargetPath(t)),e}}return s})(),_l=65535,tE=(()=>{let s;return function(n){function t(e){let i=Zt(e);if(!i||!Dt(i)||!ls(i.getBoundingClientRect)||!jt(e.pageX)||!jt(e.pageY))return{xRel:-1,yRel:-1,valid:!1};let r=i.getBoundingClientRect(),o=e.pageX-r.left-Kt.windowOffsetX(),c=e.pageY-r.top-Kt.windowOffsetY();i!==document.documentElement&&(o+=i.scrollLeft,c+=i.scrollTop);let u=Math.max(i.scrollWidth,r.width),p=Math.max(i.scrollHeight,r.height),S=Math.round(o/u*_l),f=Math.round(c/p*_l);return{xRel:S,yRel:f,valid:!0}}n.getRelativePosition=t}(s||(s={})),s})(),eE=(()=>{class s extends io{constructor(t,e){super(),this.Ns=t,this.ut=e,this.supportedEventTypes=[rt.MOUSEMOVE,rt.CLICK],this.Ql=""}baseEnhanceAnalysisEvent(t,e){let{valid:i,xRel:r,yRel:o}=tE.getRelativePosition(t);if(i){let c=this.ut.getEventTargetPath(t);c!==Ts.INVALID_ELEMENT&&(e.xRel=r,e.yRel=o,e.type===rt.MOUSEMOVE&&(c!==this.Ql||this.Ns.iframesTracking?(this.Ql=c,e.tgtHM=c):e.tgtHM=""))}else e.type===rt.MOUSEMOVE&&(this.Ql="");return e}}return s})(),Gs=(()=>{let s;return function(n){n[n.ANONYMIZED=0]="ANONYMIZED",n[n.CAPTURED=1]="CAPTURED",n[n.MASKED=2]="MASKED",n[n.ENCRYPTED=3]="ENCRYPTED"}(s||(s={})),s})(),bl=100,cu=(()=>{class s extends io{constructor(t,e,i){super(),this.h=t,this.de=e,this.I=i,this.supportedEventTypes=[rt.TAP,rt.CLICK,rt.SUBMIT]}xw(t){let e="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=i.nextNode();for(;r;){if(e+=r.textContent,ja(r.parentElement)||Va(r.parentElement)||this.de.getElementSensitiveStatus(r.parentElement)!==Gs.CAPTURED)return!0;if(csString.prototype.trim.call(e).length>=bl)break;r=i.nextNode()}return!1}Uw(t){let e=Zi(t,"button,a");return e||(this.h.collectTargetText===fa.ButtonAndLinkOnly?null:t)}baseEnhanceAnalysisEvent(t,e){if(Cs(csEventtarget.apply(t))){let i=this.Uw(csEventtarget.apply(t));if(i&&L(i.textContent)&&!this.xw(i)&&!this.I.hasPII(i.textContent,this.h.anonymizeDigits)){let r=Pt.truncate(csString.prototype.trim.call(i.textContent),bl);r.length>0&&(e.text=r)}}return e}}return s})();function sE(s,n,t){let e=[];return s.mouseMoveHeatmapEnabled&&csArray.prototype.push.call(e,new eE(s,n)),s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new cu(s,t,new nn)),csArray.prototype.push.call(e,new Zy,new au(n)),e}function iE(s,n,t){let e=[];return s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new cu(s,t,new nn)),csArray.prototype.push.call(e,new au(n)),e}var nE=50,rE=(()=>{class s{constructor(t=[]){this.Nt=t}stringifyEvents(){return csJSON.stringify(this.Nt)}addEvent(t){csArray.prototype.push.call(this.Nt,t)}eventsCount(){return this.Nt.length}clearEvents(){this.Nt=[]}empty(){this.clearEvents()}isFull(){return this.eventsCount()>=nE}isEmpty(){return this.Nt.length===0}getEvents(){return this.Nt}}return s})(),oE="csAnalysisEventsPersisted",Al="v2/events",uc=["submit"],aE=(()=>{class s{constructor(t,e,i,r,o,c,u,p,S,f,_,A){this.h=t,this.Q=e,this.C=i,this.W=r,this.Lt=o,this.f=c,this.X=u,this.Dt=p,this.it=S,this.St=f,this.J=_,this.de=A}init(){let t=new rE,e=this.St.create(`${this.h.getTrackerUri()}/${Al}`,!0,"base64");this.aa=this.Vw(e),this.ke=this.jw(t,this.aa.getRecoveryStorage(),e),this.ke.init(),this.J.addListener(this.ke),this.it.addListener(this.ke),this.f.register(uc,(i,r)=>{this.ke.pushSubmitCommandEvent(i,r)})}onStartTracking(t){this.aa.start(),this.ke.start(t)}onAfterNaturalPageView(){this.ke.initStates()}onAfterArtificialPageView(){this.ke.initStates(),this.ke.collectInitialEvents()}onArtificialPageViewEnd(){this.ke.clearStates(!0)}onBeforeSessionRenewal(){this.ke.clearStates(),this.ke.stop(),this.aa.stop()}onOptout(){this.ke.stop(),this.aa.stop()}jw(t,e,i){var r;let o=new Py(window),c=new xy,u=sE(this.h,this.W,this.de),p=[];this.h.collectSubmit||csArray.prototype.push.call(p,"submit");let S=new Ly(u,this.W,this.Lt,p),f=iE(this.h,this.W,this.de),_=new Dy(f,this.Dt),A=new Hy(new Qy),T=new xh,x,U,N,P=new jh(`${this.h.getTrackerUri()}/${Al}`),Y=new Un(this.Q,this.C),O,X,tt,nt;return new Uy(this.h,S,_,c,o,t,P,Y,this.X,e,this.W,A,T,i,x,U,N,O,X,tt,nt)}Vw(t){return new Vy(new jy(oE),t)}}return s})(),Or=(()=>{let s;return function(n){n.Artificial="a",n.Renewal="r",n.Natural="n"}(s||(s={})),s})(),cE=(()=>{class s extends ae{constructor(t,e,i,r,o){super(),this.E=t,this.J=e,this.Zl=i,this.A=r,this.Qe=o}init(){this.Hw()}onStart(t){t?this.Bw():this.Fw()}onStop(){}triggerArtificialPageView(t,e){this.isStarted?this.gf(t,e):jt(t)&&this.A.overridePath(t,e),this.isStarted||(this.J.emitTargetingRulesArtificialPageview(this.A.getUrl()),this.A.cleanupOverrideLifespan())}Fw(){this.Qe.setPageViewType(Or.Natural),this.E.emitBeforeNaturalPageView(),this.Zl.send(),this.A.cleanupOverrideLifespan(),this.E.emitAfterNaturalPageView()}Bw(){this.Qe.setPageViewType(Or.Renewal),this.E.emitBeforeNaturalPageView(),this.Zl.send(),this.E.emitAfterNaturalPageView()}gf(t,e){this.Qe.setPageViewType(Or.Artificial),this.E.emitArtificialPageViewEnd(),jt(t)&&this.A.overridePath(t,e),this.E.emitBeforeArtificialPageView(),this.Zl.send(),this.A.cleanupOverrideLifespan(),this.E.emitAfterArtificialPageView()}Hw(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&this.gf()})}}return s})(),lE=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function hE(){return{la:lE}}var uE=(()=>{class s{constructor(t,e){this.K=t,this.lt=e,this.th=!1}getRequestParameters(){return{dr:this.eh()}}addUrlMaskingPattern(t){this.lt.addUrlMaskingPattern(t)}enableRemoveQueryString(){this.th=!0}disableRemoveQueryString(){this.th=!1}eh(){let t=this.th?this.K.removeQueryString(this.mf()):this.mf();return this.K.anonymizeUrl(t,{maskingPatterns:this.lt.getUrlMaskingPatterns()})}mf(){let t="";try{t=window.top.document.referrer}catch{if(window.parent)try{t=window.parent.document.referrer}catch{t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t}}return s})(),dE=99999,pE=(()=>{class s{constructor(t){this.w=t,this.$w=this.zw()&&window.CSCurrentScript}qw(){let t=window.CSCurrentScript;if(!t)return null;let e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.Gw(e)?null:Math.round(e.responseEnd-e.fetchStart)}Gw(t){let e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd}getRequestParameters(){if(!this.$w||this.Ww()!==1)return{};let t=this.qw();return t===null?{}:{dt:`${Math.min(t,dE)}`}}Ww(){var t;return((t=this.w.getSession())===null||t===void 0?void 0:t.pageNumber)||null}zw(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"}}return s})(),lu=":";function Tl(s){let n=[],t=fE(s),e=csString.prototype.split.call(t,"/");for(let i of e)Ps(i,lu)?csArray.prototype.push.call(n,{key:i,value:`CS_ANONYMIZED_${csString.prototype.toUpperCase.call(csString.prototype.slice.call(i,1))}`}):csArray.prototype.push.call(n,{key:i,value:null});return n}function fE(s){let n=s;return Ps(s,"/")&&(n=csString.prototype.substring.call(n,1)),rn(s,"/")&&(n=csString.prototype.slice.call(n,0,-1)),n}var hu=(()=>{class s{constructor(){this.yf=new Set,this.Ef=[],this.ih=new Set,this.nh=[]}addUrlMaskingPattern(t){if(this.yf.has(t))return;this.yf.add(t);let e=Tl(t);csArray.prototype.push.call(this.Ef,e)}getUrlMaskingPatterns(){return this.Ef}resetPartialUrlMaskingPatterns(){this.ih.clear(),this.nh=[]}addPartialUrlMaskingPattern(t){if(this.ih.has(t))return;this.ih.add(t);let e=Tl(t);csArray.prototype.push.call(this.nh,e)}getPartialUrlMaskingPatterns(){return this.nh}}return s})(),uu=["trackPageview"],Ra=["setPath"],Ca=["setQuery"],Rl=["referrer:maskUrl"],gE=["referrer:removeQueryString"],mE=["referrer:keepQueryString"],yE=(()=>{class s{constructor(t,e,i,r,o,c,u,p,S,f,_,A,T,x,U){this.h=t,this.f=e,this.E=i,this.Me=r,this.C=o,this.w=c,this.pe=u,this.wt=p,this.K=S,this.A=f,this.te=_,this.Qe=A,this.J=T,this.rs=x,this.rn=U}init(){var t;let e=new Qi(this.h.getTrackerUri(),"pageview");this.an=new cE(this.E,this.J,e,this.A,this.Qe);let i=new uE(this.K,new hu);this.an.init();let r=new Un(this.Me,this.C,Kt,i,this.A,this.pe,xa,this.wt,this.Qe,new pE(this.w),this.te);this.rs&&r.addProvider(this.rs),this.rn&&r.addProvider(this.rn);let o=this.h.isCsCrosswritingHeap();if(o||this.h.isCsSideloadingHeap()||this.h.isHeapSideloadsCs()){let c=(t=this.h.heapEnvironment)===null||t===void 0?void 0:t.env_id;r.addProvider({getRequestParameters(){let u={cw:o?"1":"2"};return c&&(u.happid=c),u}})}e.setRequestParametersProviders(r),this.f.register(uu,(c,u)=>{if(!L(c)){this.an.triggerArtificialPageView();return}this.rh(u)?this.an.triggerArtificialPageView(c,u):this.an.triggerArtificialPageView(c)}),this.f.register(Ra,(c,u)=>{if(!L(c))throw new Error(`Command misuse: ${Ra[0]}`);this.rh(u)?this.A.overridePath(c,u):this.A.overridePath(c)}),this.f.register(Ca,(c,u)=>{if(!L(c))throw new Error(`Command misuse: ${Ca[0]}`);this.rh(u)?this.A.overrideQuery(c,u):this.A.overrideQuery(c)}),this.f.register(Rl,c=>{if(!L(c))throw new Error(`Command misuse: ${Rl[0]}`);i.addUrlMaskingPattern(c)}),this.f.register(gE,()=>i.enableRemoveQueryString()),this.f.register(mE,()=>i.disableRemoveQueryString())}start(t){this.an.start(t)}onBeforeSessionRenewal(){this.an.stop()}rh(t){return ti(t)&&t!==null}}return s})(),EE=(()=>{class s{constructor(t){this.ut=t}on(t,e){return i=>{this.ut.hasValidEventTarget(i)&&this.Yw(i,t)&&e(i)}}Yw(t,e){let i=Zt(t);return Oe.call(i,e)}isMatchesSelectorSupported(){return!!Oe}}return s})(),SE=(()=>{class s{constructor(){}onLoad(t){this.ji=t}onLoadCallbackExecute(){this.ji()}start(){let t=this.onLoadCallbackExecute.bind(this);this.Xw(t)}Xw(t){document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e));function e(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t()}}}return Z([H("onLoad")],s.prototype,"onLoadCallbackExecute",null),s})(),vE=(()=>{class s{constructor(t,e,i){this.h=t,this.C=e,this.w=i,this.is=z.now()}resetStartTime(){this.is=z.now()}getSessionData(){let{projectId:t}=this.h,e=this.C.getVisitor();e==null&&Q.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{id:i,visitsCount:r}=e!=null?e:{},o=this.w.getSession();o===null&&Q.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{pageNumber:c}=o!=null?o:{};return{projectId:t,userId:i,sessionNumber:r,pageNumber:c,relativeTimestamp:z.now()-this.is}}}return s})(),wE=["clearSession"],_E=["extendSession"],bE=["extendSessionV2"],AE=["getSessionData"],TE=["session:start:newVisitor"],RE=["session:clear:visitor"],CE=(()=>{class s{constructor(t,e,i,r){this.h=t,this.C=e,this.w=i,this.f=r}init(){this.oh=new vE(this.h,this.C,this.w),this.f.register(wE,()=>this.w.removeSession()),this.f.register(_E,()=>this.w.extendSessionPeriodically(),{disableApplyPending:!0}),this.h.isHeapSideloadsCs()&&this.f.register(bE,()=>this.w.extendSession(),{disableApplyPending:!0}),this.f.register(AE,()=>this.oh.getSessionData(),{disableApplyPending:!0}),this.f.register(TE,()=>this.C.renewVisitor()),this.f.register(RE,()=>{this.C.resetVisitor()},{disableApplyImmediate:!0})}onBeforeNaturalPageView(){this.C.createOrUpdateVisitor(),this.w.createOrUpdateSession()}onBeforeArtificialPageView(){this.w.abortQuotaServiceRequest(),this.C.createOrUpdateVisitor(),this.w.createOrUpdateSession()}onAfterNaturalPageView(){this.oh.resetStartTime()}onAfterArtificialPageView(){this.oh.resetStartTime()}onOptout(){this.C.removeVisitor(),this.w.removeSession()}onCollectStateChange(t,e){this.w.updateCollectState(t,e)}}return s})(),IE=60*1e3,PE=30*1e3,OE=(()=>{class s{constructor(t,e){this.w=t,this.C=e,this.ah=!1,this.Kw=Xr(()=>this.w.refreshSession(),PE)}onSessionExpired(t){this.Jw=t}isSessionValid(){return this.ah?!0:!(!this.w.hasValidSession()||this.w.pollCacheRefreshEvent()&&this.C.isSessionRenewed())}isCurrentPageviewValid(){let t=this.w.hasValidSession();return this.w.pollCacheRefreshEvent(!1)?!this.C.isSessionRenewed():t}refreshSession(){this.isSessionValid()?this.Kw():this.Qw()&&(this.Sf=z.now(),this.renewSession())}renewSession(){this.ah=!0,this.Jw(),this.ah=!1}Qw(){return!dt(this.Sf)||z.now()-this.Sf>IE}}return s})();var Ei;(function(s){s.ContentSquare="CONTENTSQUARE",s.LoadedByClicktale="LOADED_BY_CLICKTALE",s.LoadClicktalePtc="LOAD_CLICKTALE_PTC",s.DualCollectionReview="DUAL_COLLECTION_REVIEW",s.DualCollection="DUAL_COLLECTION",s.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(Ei||(Ei={}));function du(s){return s.tagDeploymentMode===Ei.DualCollectionReview||s.tagDeploymentMode===Ei.DualCollection}function NE(s){return du(s)||s.tagDeploymentMode===Ei.LoadClicktalePtc}var Cl=(()=>{let s;return function(n){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}n.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}n.stopRecording=e;function i(c){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(c)}n.triggerLogicalPageView=i;function r(c){window.ClickTaleEvent&&window.ClickTaleEvent(c)}n.sendPageEvent=r;function o(c){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(c)}n.sendEventTriggerRecording=o}(s||(s={})),s})();var ME="@ETP@",Il="@user-identifier@",kE=(()=>{class s extends ae{constructor(t,e,i,r){super(),this.h=t,this.x_=e,this.le=i,this.J=r,this.lh=[],this.gi=[]}onStart(){csArray.prototype.forEach.call(this.lh,t=>this.kf(t)),this.lh=[],csArray.prototype.forEach.call(this.gi,t=>this.Df(t)),this.gi=[]}onStop(){}kf(t){this.U_(t)?Cn.isSupported()&&this.V_(t):this.j_(t)}trackPageEvent(t){if(!s.Lf(t))throw new Error(`Command misuse: ${dc[0]}`);this.isStarted?this.kf(t):csArray.prototype.push.call(this.lh,t)}U_(t){return Ps(t,Il)}async V_(t){if(!this.h.customHashIdEnabled)return;let e=csString.prototype.slice.call(t,Il.length);if(e.length>Cn.MAX_DIGEST_INPUT_SIZE){Q.warn("UserIdentifier event: invalid user identifier");return}let i=await Cn.digest(e);i?(this.vn={eventName:i,isETR:!1,isCustomHashId:!0},this.fa()):Q.warn("Page event: unable to compute customHashId"),this.h.encryptionEnabled&&this.J.emitUserIdentifierEvent(e)}j_(t){this.J.emitPageEvent(t),this.vn={eventName:t,isETR:!1,isCustomHashId:!1},this.fa(),this.h.tagDeploymentMode===Ei.LoadClicktalePtc&&Cl.sendPageEvent(t)}Df(t){this.h.malkaEtrEnabled?this.H_(t):this.B_(t)}trackEventTriggerRecording(t){if(!s.Lf(t))throw new Error(`Command misuse: ${zn[0]}`);this.isStarted?this.Df(t):csArray.prototype.push.call(this.gi,t)}H_(t){Ps(t,ME)?this.J.emitEventTriggerRecording(t,Qs.ETR_PAGE):this.J.emitEventTriggerRecording(t,Qs.ETR_SESSION),this.vn={eventName:t,isETR:!0,isCustomHashId:!1},this.fa()}B_(t){NE(this.h)&&(this.J.emitEventTriggerRecording(t,Qs.ETR_LEGACY),this.vn={eventName:t,isETR:!0,isCustomHashId:!1},this.fa(),this.h.tagDeploymentMode===Ei.LoadClicktalePtc&&Cl.sendEventTriggerRecording(t))}getRequestParameters(){return{value:this.le.compressSync(this.vn.eventName,"base64"),ct:this.le.algorithm,isETR:`${this.vn.isETR}`,isCustomHashId:`${this.vn.isCustomHashId}`}}fa(){this.x_.send()}static Lf(t){return L(t)&&!!csString.prototype.trim.call(t)}}return s})(),dc=["trackPageEvent"],zn=["trackEventTriggerRecording"],DE=(()=>{class s{constructor(t,e,i,r,o){this.h=t,this.f=e,this.le=i,this.Me=r,this.J=o}init(){let t=new Qi(this.h.getTrackerUri(),"pageEvent");this.ga=new kE(this.h,t,this.le,this.J),t.setRequestParametersProviders(this.ga,this.Me),this.f.register(dc,e=>{this.ga.trackPageEvent(e)}),this.f.register(zn,e=>{this.ga.trackEventTriggerRecording(e)})}onStartTracking(){this.ga.start()}}return s})(),pc=(()=>{class s{constructor(){this.subscriptions={}}subscribe(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()}unsubscribe(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()}}return s})(),LE=(()=>{class s extends pc{constructor(){super(),this.z=new Gh(t=>this.errorListener(t))}onStartTracking(){this.z.observe()}onStopTracking(){this.z.disconnect()}errorListener(t){let e=this.F_(t);for(let i in this.subscriptions){let r=this.subscriptions[i];r(e)}}$_(t){return t=t!=null?t:"[NO ERROR MESSAGE]",Pt.truncate(t,s.wl,Pt.ELLIPSIS)}z_(t){return!t||Ue(t)?"":Pt.truncate(t,s._l,Pt.ELLIPSIS)}F_(t){return{errorType:"jsError",message:this.$_(t.message),filename:this.z_(t.filename),lineno:t.lineno,colno:t.colno}}}return s.wl=1024,s._l=150,Z([H("Event handler type: error")],s.prototype,"errorListener",null),s})(),xE=(()=>{class s{constructor(t){this.f=t}init(){this.xf(s.q_,mh),this.xf(s.G_,gh)}xf(t,e){this.f.register([t],(i,r)=>{!L(i)||!(L(r)||ei(r))||Q.error(r,`${e}${i}`)})}}return s.G_="logSnippetError",s.q_="logImplementationSnippetError",s})(),UE=(()=>{class s{constructor(t,e,i,r,o){this.h=t,this.Y=e,this.zs=i,this.de=r,this.it=o}init(){this.Y.onChildMessage((t,e,i)=>this.it.emitIframeEvent(t,e,i)),this.Y.setSentiveStatusCallback(()=>this.de.getSensitiveStatus()),this.Y.setRecordingContextCallback(()=>this.zs.getRecordingContext())}onStartTracking(){this.h.iframesTracking&&this.Y.start()}onOptout(){this.h.iframesTracking&&this.Y.stop()}onSensitiveStatusChange(){if(this.h.iframesTracking){let t=this.de.getSensitiveStatus();this.Y.onSensitiveStatusChange(t)}}onRecordingContextChange(){if(this.h.iframesTracking){let t=this.zs.getRecordingContext();this.Y.onRecordingContextChange(t)}}}return s})(),VE=(()=>{class s extends ae{constructor(t){super(),this.h=t,this.hh=0,this.Ce=new Map,this.Uf={boundElement:window,type:"message",listener:e=>this.uh(e)}}onChildMessage(t){this.Vf=t}setRecordingContextCallback(t){this.W_=t}setSentiveStatusCallback(t){this.Y_=t}onSensitiveStatusChange(t){let e=Yt.buildBaseMessage(yt.SensitiveStatus,is.Parent,this.h.projectId);e.content=t;let i=Yt.buildBaseMessage(yt.SensitiveStatus,is.Parent,this.h.projectId);i.content={...t,started:!1,useAnonymization:!0,capturedElementSelector:""},this.Ce.forEach(r=>{if(r.port){let o=this.ma(r)?i:e;this.ph(r,o)}})}onRecordingContextChange(t){let e=Yt.buildBaseMessage(yt.RecordingContext,is.Parent,this.h.projectId);e.content=t,this.Ce.forEach(i=>{!this.ma(i)&&i.port&&this.ph(i,e)})}sendToChildren(t,e){let i=Yt.buildBaseMessage(t,is.Parent,this.h.projectId);i.content=e,this.X_(i)}onStart(){Ut(this.Uf,!1),this.jf()}onStop(){this.K_(),Vt(this.Uf,!1),this.J_()}jf(){let t=this.Q_();this.Z_(t),csArray.prototype.forEach.call(t,e=>{if(this.tb(e)===null){let r={iframe:e};this.Ce.set(this.hh,r),this.hh+=1}}),this.eb()}Q_(){return csArray.prototype.filter.call(At.findAllElements("iframe"),t=>this.sb(t))}Z_(t){this.Ce.forEach((e,i)=>{e.iframe&&csArray.prototype.indexOf.call(t,e.iframe)===-1&&this.ib(i,e)})}ib(t,e){e.port&&Yt.closeChannelPort(e.port),this.Ce.delete(t)}J_(){this.Ce.forEach(t=>{t.port&&Yt.closeChannelPort(t.port)}),this.Ce.clear()}tb(t){let e=null;return this.Ce.forEach((i,r)=>{e===null&&i.iframe===t&&(e=r)}),e}sb(t){return t.id!==Wl&&(!t.src||Ne(t.src,"about:")||Ya(yh(t.src),this.h.hostnames))}X_(t){this.Ce.forEach(e=>{this.ph(e,t)})}ph(t,e){let i=e.type===yt.SensitiveStatus||e.type===yt.RecordingContext;t.port&&(!i||t.initialStatusSent)&&Yt.sendChannelMessage(t.port,e)}eb(){this.Ce.forEach((t,e)=>{if(t.iframe.contentWindow){let i=this.nb(e);Yt.sendPostMessage(t.iframe.contentWindow,"*",i)}})}K_(){let t=this.rb();this.Ce.forEach(e=>{e.port?Yt.sendChannelMessage(e.port,t):e.iframe.contentWindow&&Yt.sendPostMessage(e.iframe.contentWindow,"*",t)})}nb(t){return Yt.buildBaseMessage(yt.Discovery,is.Parent,this.h.projectId,t)}rb(){return Yt.buildBaseMessage(yt.Stop,is.Parent,this.h.projectId)}ob(t,e){let i=this.Ce.get(t);if(i===void 0){Q.error(`Parent received channel messaging initialization from unknow child id : ${t} (${this.hh})`);return}i.port=e,i.port.onmessage=r=>{this.fh(r,i)}}ab(t){if(!t.port)return;let e=Yt.buildBaseMessage(yt.SensitiveStatus,is.Parent,this.h.projectId),i=this.Y_();this.ma(t)&&(i.started=!1,i.capturedElementSelector="",i.useAnonymization=!0),e.content=i,Yt.sendChannelMessage(t.port,e)}cb(t){if(!t.port)return;let e=Yt.buildBaseMessage(yt.RecordingContext,is.Parent,this.h.projectId),i=this.W_();this.ma(t)&&(i.isRecording=!1),e.content=i,Yt.sendChannelMessage(t.port,e)}fh(t,e){if(e===void 0){Q.error(`Parent received channelMessage from unknown child : ${csJSON.stringify(t.data)}`);return}let i=t.data.type,r=t.data.content;i===yt.EndOfBufferedMessages?(this.ab(e),this.cb(e),e.initialStatusSent=!0):this.Vf(e.iframe,i,r)}uh(t){if(Yt.isMessageValid(t,is.Child,this.h.projectId,this.h.hostnames))switch(t.data.type){case yt.Discovery:if(t.data.id===void 0){this.jf();return}if(t.ports&&t.ports.length===1&&this.Ce.has(t.data.id)){this.ob(t.data.id,t.ports[0]);return}Q.error(`Parent received wrong channelMessage initialization : (${t.origin}) : ${csJSON.stringify(t.data)}`);break;case yt.ChildLogMessage:this.Vf(null,yt.ChildLogMessage,t.data.content);break;default:Q.warn(`Parent received unexpected postMessage type from child (${t.origin}) : ${csJSON.stringify(t.data)}`)}}ma(t){return G.isMaskedElement(t.iframe)||G.isMaskedElementChild(t.iframe)}}return s})(),jE=(()=>{class s{constructor(t){this.lb=t}buildApiErrors(t,e){let i=this.lb.collectDataPoints(t,e);if(i===null)return null;let r=this.hb(t,i);if(e){let o=this.db(t,i);return{apiError:r,detailedApiError:o}}return{apiError:r}}db(t,e){let i=this.Hf(t);return e.collectQueryParam&&t.queryParameters&&(i.queryParameters=t.queryParameters),e.collectRequestBody&&t.requestBody&&(i.requestBody=t.requestBody),e.collectResponseBody&&t.responseBody&&(i.responseBody=t.responseBody),Object.keys(e.standardRequestHeaders).length>0&&(i.standardRequestHeaders=e.standardRequestHeaders),Object.keys(e.standardResponseHeaders).length>0&&(i.standardResponseHeaders=e.standardResponseHeaders),Object.keys(e.customRequestHeaders).length>0&&(i.customRequestHeaders=csJSON.stringify(e.customRequestHeaders)),Object.keys(e.customResponseHeaders).length>0&&(i.customResponseHeaders=csJSON.stringify(e.customResponseHeaders)),Object.keys(e.plainCustomRequestHeaders).length>0&&(i.plainCustomRequestHeaders=e.plainCustomRequestHeaders),Object.keys(e.plainCustomResponseHeaders).length>0&&(i.plainCustomResponseHeaders=e.plainCustomResponseHeaders),e.plainResponseBodyAttributes&&Object.keys(e.plainResponseBodyAttributes).length>0&&(i.plainResponseBodyAttributes=e.plainResponseBodyAttributes),e.plainRequestBodyAttributes&&Object.keys(e.plainRequestBodyAttributes).length>0&&(i.plainRequestBodyAttributes=e.plainRequestBodyAttributes),Object.keys(e.responseBodyAttributes).length>0&&(i.responseBodyAttributes=csJSON.stringify(e.responseBodyAttributes)),Object.keys(e.requestBodyAttributes).length>0&&(i.requestBodyAttributes=csJSON.stringify(e.requestBodyAttributes)),i}Hf(t){return{errorType:"apiError",url:t.url,method:t.method,requestTime:t.requestTime,responseTime:t.responseTime,statusCode:t.statusCode,library:t.library}}hb(t,e){let i=this.Hf(t);return e.matchingBodyContents.length>0&&(i.matchingBodyContents=e.matchingBodyContents),Object.keys(e.plainResponseBodyAttributes).length>0&&(i.plainBodyResponseAttributes=e.plainResponseBodyAttributes),i}}return s})(),HE=(()=>{class s extends pc{constructor(t,e,i){super(),this.ya=t,this.Ea=e,this.pb=i,this.gh=0,this.fb=new jE(i)}subscribe(t,e,i){i!=null&&i.detailedEvent&&(Object.defineProperty(e,"detailedEvent",{value:i.detailedEvent}),this.gh++),super.subscribe(t,e)}unsubscribe(t){var e;!((e=this.subscriptions[t])===null||e===void 0)&&e.hasOwnProperty("detailedEvent")&&this.gh--,super.unsubscribe(t)}init(){let t=this.pb.computeApiErrorCollectionOptions();this.ya.setCollectionOptions(t),this.ya.onEvent(e=>this.Bf(e)),this.Ea.setCollectionOptions(t),this.Ea.onEvent(e=>this.Bf(e))}onStartTracking(){this.ya.start(),this.Ea.start()}onStopTracking(){this.ya.stop(),this.Ea.stop()}Bf(t){let e=this.fb.buildApiErrors(t,this.gh!==0);if(e)for(let i in this.subscriptions){let r=this.subscriptions[i];r.hasOwnProperty("detailedEvent")?e.detailedApiError&&r(e.detailedApiError):r(e.apiError)}}}return s})(),BE=(()=>{class s{constructor(t,e,i=!1){this.lt=t,this.K=e,this.Dr=i}addUrlMaskingPattern(t){this.lt.addUrlMaskingPattern(t)}anonymize(t){let e=this.K.removeQueryString(t.url),i={maskingPatterns:this.lt.getUrlMaskingPatterns(),partialMaskingPatterns:this.lt.getPartialUrlMaskingPatterns(),maskNames:this.Dr};return{...t,url:this.K.anonymizeUrl(e,i),library:t.library?this.K.anonymizeUrl(t.library,i):void 0}}}return s})(),FE="CS_ANONYMIZED_VALUE",$E=(()=>{class s{constructor(t,e){this.I=t,this.A=e}anonymize(t){return L(t.message)&&(t.message=this.gb(t.message),t.message=this.I.anonymizePII(t.message)),L(t.filename)&&(t.filename=this.A.computeOverriddenUrl(t.filename)),t}gb(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,`value='${FE}'`)}}return s})(),zE=(()=>{class s extends pc{constructor(t){super(),this.mb=t,this.Us=[{boundElement:document,type:"touchstart",listener:e=>this.G(e)},{boundElement:document,type:"touchmove",listener:e=>this.G(e)},{boundElement:document,type:"touchend",listener:e=>this.G(e)}],this.Lr=new ba,this.Lr.onGesture((e,i)=>this.vl(e,i))}vl(t,e){for(let i in this.subscriptions){let r=this.subscriptions[i];r(t,e)}}onStartTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Us,t=>Ut(t))}onStopTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Us,t=>Vt(t))}canDetectGesture(){return typeof devicePixelRatio!="undefined"}G(t){this.mb.tryToExecute("process gesture event",()=>{if(this.Lr.isValidTouchEvent(t))switch(t.type){case"touchstart":this.Lr.processActionDown(t);break;case"touchmove":this.Lr.processActionMove();break;case"touchend":this.Lr.processActionUp(t);break}})()}static isSwipe(t){return t.type===Xt.FLICK||t.type===Xt.DRAG}}return s})(),qE=(()=>{class s extends ae{constructor(t,e){super(),this.U=t,this.mh=e,this.Ff=0}onStart(){Q.isPerfLoggingActive()&&(this.Nr=window.csSetInterval(()=>this.$f(),s.yb))}onStop(){Q.isPerfLoggingActive()&&(this.$f(),csClearInterval(this.Nr))}$f(){if(Cr.isEmpty||this.Ff>=s.Eb)return;this.Ff++;let t={a:s.Sb,l:s.vb,...this.mh.getRequestParameters()},e=[];Cr.forEach(i=>{csArray.prototype.forEach.call(i,r=>{csArray.prototype.push.call(e,{...r,...t})})}),this.U.send(e),Cr.clear()}}return s.Sb="uxa",s.vb="perf",s.yb=5e3,s.Eb=5,s})(),GE=(()=>{class s{constructor(t,e,i){this.h=t,this.mh=e,this.St=i}init(){this.zf=new qE(this.St.create(this.h.getLoggerUri(),!0),this.mh)}onStartTracking(){this.zf.start()}onOptout(){this.zf.stop()}}return s})(),WE=(()=>{class s{constructor(t){this.de=t,this.qf=!1}enableRecordingContext(t,e,i){this.qf=!0,this.Xi=t,this.w=e,this.Ai=i}getRecordingContext(){var t,e,i,r;if(!this.qf)return{isRecording:!1,recordingStartTimestamp:0,etrState:fe.ETR_OFF,etrStatus:de.ETR_DISABLED,collectState:q.ANALYTICS_ONLY};let o=this.w.getSession();return{isRecording:this.Xi.isRecording(),useAnonymization:this.de.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this.Xi.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this.Xi.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.Xi.getRecordingStartTimestamp(),10),etrState:(i=o==null?void 0:o.etrState)!==null&&i!==void 0?i:fe.ETR_OFF,etrStatus:this.Ai.getEtrStatus(o),collectState:(r=o==null?void 0:o.collectState)!==null&&r!==void 0?r:q.ANALYTICS_ONLY}}}return s})(),Vn=(()=>{class s{static isRecordingSupported(){return"MutationObserver"in window&&"visibilityState"in document}static isAsyncSerializationSupported(){return"Promise"in window&&"findIndex"in csArray.prototype}}return s})(),YE=(()=>{class s extends ae{constructor(t,e,i,r){super(),this.at=t,this.yh=e,this.Q=i,this.ce=r,this.Sa=[],this.Ls=0}init(){this.at.init()}initStates(){this.Eh(),this.Sa=[],this.Ls=0,this.Fl()}Fl(){this.is=z.now()}Pi(){return z.now()-this.is}onStart(){this.at.subscribe(s.Mt,t=>this.G(t))}onStop(){this.at.unsubscribe(s.Mt)}onIframeApiError(t){this.G(t)}G(t){this.isStarted&&this.Ls<s.mr&&(t.relativeTime=this.Pi(),csArray.prototype.push.call(this.Sa,this.ce.anonymize(t)),this.xr(),Ot.counters.networkRequests.count("collected"))}Eh(){this.yh.removeQueryParams(),this.yh.setQueryParams(this.Q.getRequestParameters())}xr(){this.yh.send({errors:this.Sa}),this.Sa=[],this.Ls+=1}}return s.Mt="ApiErrorsService",s.mr=20,s})(),XE="api-errors",Ia=["api-errors:maskUrl"],KE=(()=>{class s{constructor(t,e,i,r,o,c,u){this.at=t,this.ce=e,this.h=i,this.Q=r,this.it=o,this.f=c,this.St=u}init(){let t=this.St.create(`${this.h.getTrackerUri()}/${XE}`,!0);this.Ni=new YE(this.at,t,this.Q,this.ce),this.Ni.init(),this.it.addListener(this.Ni),this.ht()}ht(){this.f.register(Ia,t=>{if(!L(t))throw new Error(`Command misuse: ${Ia[0]}`);this.ce.addUrlMaskingPattern(t)})}onStartTracking(){this.Ni.start()}onAfterNaturalPageView(){this.Ni.initStates()}onAfterArtificialPageView(){this.Ni.initStates()}onBeforeSessionRenewal(){this.Ni.stop()}onOptout(){this.Ni.stop()}}return s})(),JE=20,QE="Custom Error:",ZE="https://cserror.com/texterror.js",tS=(()=>{class s extends ae{constructor(t,e,i,r,o,c){super(),this.As=t,this.Sh=e,this.Q=i,this.ae=r,this.qs=o,this.A=c,this.va=[],this.vi=0,this.Mi=[]}initStates(){this.is=z.now(),this.Sh.removeQueryParams(),this.Sh.setQueryParams(this.Q.getRequestParameters()),this.va=[],this.vi=0}onStart(){this.As.subscribe(s.Mt,t=>this.G(t)),this.vh()}onStop(){this.As.unsubscribe(s.Mt)}onIframeJavascriptError(t){this.G(t)}trackCustomError(t){let e={errorType:"jsError",message:`${QE} ${t}`,lineno:1,colno:1,filename:ZE};this.Ur(e)}Ur(t){if(this.isStarted){let e=this.G(t);e&&this.qs.emitCustomJavaScriptErrorEvent(e)}else csArray.prototype.push.call(this.Mi,t)}vh(){this.isStarted&&(csArray.prototype.forEach.call(this.Mi,t=>this.Ur(t)),this.Mi=[])}G(t){if(this.isStarted&&this.vi<JE){let e={...t,pageUrl:this.A.getAnonymizedUrl(),rt:this.Pi()};return this.ae.anonymize(e),csArray.prototype.push.call(this.va,e),this.xr(),e}return null}Pi(){return z.now()-this.is}xr(){this.Sh.send({errors:this.va}),this.va=[],this.vi+=1}}return s.Mt="JavaScriptErrorsService",s})(),no=["trackError"],eS="errors",sS=(()=>{class s{constructor(t,e,i,r,o,c,u,p,S){this.As=t,this.ae=e,this.h=i,this.Q=r,this.it=o,this.f=c,this.qs=u,this.A=p,this.St=S}init(){let t=this.St.create(`${this.h.getTrackerUri()}/${eS}`,!0);this.ki=new tS(this.As,t,this.Q,this.ae,this.qs,this.A),this.it.addListener(this.ki),this.ht()}ht(){this.h.jsCustomErrorsEnabled&&!this.h.customErrors.enabled&&this.f.register(no,t=>{this.ki.trackCustomError(t)})}onStartTracking(){this.ki.start()}onAfterNaturalPageView(){this.ki.initStates()}onAfterArtificialPageView(){this.ki.initStates()}onBeforeSessionRenewal(){this.ki.stop()}onOptout(){this.ki.stop()}}return s})(),iS=(()=>{let s;return function(n){function o(p,S,f=!1){let A={message:Pt.truncate(p,300,Pt.ELLIPSIS),errorType:"customError"};return(f||u(S))&&(c(S),A.attributes=S),A}n.buildCustomErrorEvent=o;function c(p){for(let S in p){let f=p[S];if(typeof f=="string"&&f.length>30&&(f=Pt.truncate(f,30,Pt.ELLIPSIS),p[S]=f),S.length>30){let _=Pt.truncate(S,30,Pt.ELLIPSIS);delete p[S],p[_]=f}}}function u(p){let S=Object.keys(p).length;return S>0&&S<=5}}(s||(s={})),s})(),nS=20,rS=(()=>{class s extends ae{constructor(t,e,i,r,o){super(),this._h=t,this.Q=e,this.Ks=i,this.J=r,this.Ts=o,this.wa=[],this.wi=0,this.Mi=[]}initStates(){var t;this.Eh(),this.is=z.now(),this.wa=[],this.wi=0,(t=this.Ts)===null||t===void 0||t.onEvent(e=>this.G(e))}trackCustomError(t,e={}){if(!(L(t)&&ti(e)&&jt(e)))throw new Error(`Command misuse: ${no[0]}`);let i=iS.buildCustomErrorEvent(t,e);this.Ur(i)}onIframeCustomError(t){this.G(t)}onStart(){var t;this.vh(),(t=this.Ts)===null||t===void 0||t.start()}onStop(){var t;(t=this.Ts)===null||t===void 0||t.stop()}vh(){this.isStarted&&(csArray.prototype.forEach.call(this.Mi,t=>this.Ur(t)),this.Mi=[])}Ur(t){if(this.isStarted){let e=this.G(t);e&&this.J.emitCustomErrorEvent(e)}else csArray.prototype.push.call(this.Mi,t)}G(t){if(this.isStarted&&this.wi<nS){let e=this.wb(t);return csArray.prototype.push.call(this.wa,e),this.xr(),e}return null}wb(t){let e={...t,rt:this.Pi()};return e.message=this.Ks.anonymize(t.message),e}Eh(){this._h.removeQueryParams(),this._h.setQueryParams(this.Q.getRequestParameters())}Pi(){return z.now()-this.is}xr(){this._h.send({errors:this.wa}),this.wa=[],this.wi+=1}}return s})(),oS="custom-errors",aS=(()=>{class s{constructor(t,e,i,r,o,c,u,p){this.Ks=t,this.h=e,this.Q=i,this.f=r,this.qs=o,this.St=c,this.it=u,this.Ts=p}init(){let t=this.St.create(`${this.h.getTrackerUri()}/${oS}`,!0);this.Di=new rS(t,this.Q,this.Ks,this.qs,this.Ts),this.it.addListener(this.Di),this.ht()}ht(){this.f.register(no,(t,e)=>{this.Di.trackCustomError(t,e)})}onStartTracking(){this.Di.start()}onAfterNaturalPageView(){this.Di.initStates()}onAfterArtificialPageView(){this.Di.initStates()}onBeforeSessionRenewal(){this.Di.stop()}onOptout(){this.Di.stop()}}return s})(),cS=(()=>{class s{constructor(){this.bh=Or.Natural}setPageViewType(t){this.bh=t}getPageViewType(){return this.bh}getRequestParameters(){return{pvt:this.bh}}}return s})(),lS=(()=>{class s{constructor(t){this.X=t}onAfterVisitorRenewal(){this.X.renewSession()}}return s})();var pu=(()=>{let s;return function(n){function t(){let i=navigator.userAgent+navigator.language+navigator.platform,r=csString.prototype.slice.call(e(i).toString(16),-4),o=new csDate().getTime(),c="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,u=>{let p=(o+Math.random()*16)%16|0;return o=Math.floor(o/16),(u==="x"?p:p&7|8).toString(16)});return csString.prototype.replace.call(c,"hhhh",r)}n.generate=t;function e(i){let r=0;for(let o=0;o<i.length;o+=1)r=csString.prototype.charCodeAt.call(i,o)+(r<<6)+(r<<16)-r;return Math.abs(r)}}(s||(s={})),s})(),_i=function(){"use strict";var s={d:function(h,l){for(var d in l)s.o(l,d)&&!s.o(h,d)&&Object.defineProperty(h,d,{enumerable:!0,get:l[d]})}};s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=function(h,l){return Object.prototype.hasOwnProperty.call(h,l)};var n={};s.d(n,{u6:function(){return mo},b2:function(){return go},Vv:function(){return No},pF:function(){return Oi},XA:function(){return ts},fd:function(){return mn},ec:function(){return Mo}});var t=function(h){return h.replace(/%u[\dA-F]{4}|%[\dA-F]{2}/gi,function(l){return l.startsWith("%u")?String.fromCharCode(parseInt(l.slice(2),16)):String.fromCharCode(parseInt(l.slice(1),16))})};function e(h){return t(encodeURIComponent(h))}function i(h){return btoa(e(h))}function r(h){return function(l){return decodeURIComponent(function(d){return d.replace(/[^a-zA-Z0-9@*_+-./]/g,function(y){var m=y.charCodeAt(0);return m<256?"%"+m.toString(16).padStart(2,"0").toUpperCase():"%u"+m.toString(16).padStart(4,"0").toUpperCase()})}(l))}(atob(h))}var o={isOn:function(){var h;return _hjSettings.hjdebug===void 0&&(_hjSettings.hjdebug=((h=hj.bridge.storage.items.DEBUG_FLAG)===null||h===void 0?void 0:h.get())==="true"),_hjSettings.hjdebug},on:function(h){_hjSettings.hjdebug=!0,h&&hj.bridge.storage.items.DEBUG_FLAG.set(!0)},off:function(){_hjSettings.hjdebug=!1,hj.bridge.storage.items.DEBUG_FLAG.clear()},emit:function(h,l){typeof _hjEmitters!="undefined"&&_hjEmitters.includes&&_hjEmitters.includes(h)&&window.postMessage({data:l,message:hj.bridge.storage.items.DEBUG_FLAG.getKey(),type:h},"*")}};function c(h){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},c(h)}var u=!1,p="",S={autotag:"#ff0099",command:"#0079a4",cookies:"#5a2c22",data:"#009bd2",event:"#ff7000",events:"#ffc000",exception:"#e63946",heatmap:"#700000",init:"#6600cc",integration:"#2a9072",poll:"#00a000",property:"#ff33cc",recording:"#dd0000",rendering:"#bd00ea",sampling:"#efb0a1",survey:"#007000",targeting:"#00ee00",visitdata:"#00668a",websocket:"#0dc0ff"},f={init:function(){window.console===void 0&&(window.console={debug:function(){},trace:function(){},log:function(){},info:function(){},warn:function(){},error:function(){}})},debug:function(h,l,d){var y=l&&S[l.toLowerCase()]||"#2a9d8f";p!=h&&u&&(console.groupEnd(),u=!1),p=h,hj.debug!==void 0&&hj.debug.isOn()&&(c(h)==="object"?hj.hq.each(h,function(m,b){hj.log.debug(m+": "+b,l,null)}):(h=l&&typeof h=="string"?l.toUpperCase()+": "+h:h,h="%c"+new Date().toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")+":%c "+h,d?(u||(console.groupCollapsed(h+":","color: #999;","color: "+y+";"),u=!0),console.log(d)):console.log(h,"color: #999;","color: "+y+";")))},info:function(h){console.log("%c"+h,"color: #006EFF")},warn:function(h){console.log("%c"+h,"color: #E8910C")},error:function(h){console.error("Hotjar error: "+h)},warnIfEmpty:function(h,l){if(Array.isArray(h)?h.length===0:hj.hq.isNullOrUndefined(h)){var d=h===null?"null":h===void 0?"undefined":"no value";hj.log.debug("WARNING: [".concat(l,"] a value was expected but ").concat(d," was found!"))}}},_={},A={},T={};function x(h,l,d){var y;h[l]||(h[l]=[]),(y=h[l])===null||y===void 0||y.push(d)}_={listen:hj.tryCatch(function(h,l){x(A,h,l),function(d){var y;T[d]&&((y=T[d])===null||y===void 0||y.forEach(function(m){_.signal(d,m)}),delete T[d])}(h)},"hj.event.listen"),removeListener:hj.tryCatch(function(h,l){var d=A[h];if(d){var y=d.indexOf(l);y!==-1&&d.splice(y,1)}},"hj.event.removeListener"),signal:hj.tryCatch(function(h,l,d){var y;A[h]?(y=A[h])===null||y===void 0||y.forEach(function(m){m(l)}):d?x(T,h,l):T[h]=[l]},"hj.event.signal"),clearAllListeners:hj.tryCatch(function(){A={},T={}},"hj.event.clearAllListeners")};var U,N,P=((N=function(){return U()}).test=U=function(){var h;if(!navigator)return"No User-Agent Provided";if((h=navigator.userAgentData)!==null&&h!==void 0&&h.mobile)return"mobile";var l=function(d){return navigator.userAgent.match(d)};return l(/GoogleTV|SmartTV|Internet.TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\-HTML/i)||l(/Xbox|PLAYSTATION.3|Wii/i)?"tv":l(/iPad/i)||l(/tablet/i)&&!l(/RX-34/i)||l(/FOLIO/i)||l(/Linux/i)&&l(/Android/i)&&!l(/Fennec|mobi|HTC.Magic|HTCX06HT|Nexus.One|SC-02B|fone.945|Chromebook/i)||l(/Kindle/i)||l(/Mac.OS/i)&&l(/Silk/i)||l(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC(.Flyer|\_Flyer)|Sprint.ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos.S7|Dell.Streak.7|Advent.Vega|A101IT|A70BHT|MID7015|Next2|nook/i)||l(/MB511/i)&&l(/RUTEM/i)?"tablet":l(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google.Wireless.Transcoder/i)||l(/Opera/i)&&l(/Windows.NT.5/i)&&l(/HTC|Xda|Mini|Vario|SAMSUNG\-GT\-i8000|SAMSUNG\-SGH\-i9/i)?"mobile":l(/Windows.(NT|XP|ME|9)/)&&!l(/Phone/i)||l(/Win(9|.9|NT)/i)||l(/Macintosh|PowerPC/i)&&!l(/Silk/i)||l(/Linux/i)&&l(/X11/i)||l(/Solaris|SunOS|BSD/i)||l(/Bot|Crawler|Spider|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|TinEye/i)&&!l(/Mobile/i)||l(/\b(CrOS|Chromebook)\b/i)?"desktop":"mobile"},N);function Y(h){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Y(h)}var O=hj.tryCatch(function(h){var l,d,y;for(l=h.length-1;l>0;l-=1)d=Math.floor(Math.random()*(l+1)),y=h[l],h[l]=h[d],h[d]=y;return h},"utils.shuffle"),X=(hj.tryCatch(function(h){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(h)},"utils.validateEmail"),hj.tryCatch(function(){return hj.userDeviceType||(hj.userDeviceType=P(),hj.userDeviceType==="mobile"&&(hj.userDeviceType="phone")),hj.userDeviceType},"utils.deviceType")),tt=hj.tryCatch(function(){var h=function(){try{return window.self!==window.top}catch{return!0}}(),l={width:!h&&window.screen?window.screen.width:document.body.clientWidth,height:!h&&window.screen?window.screen.height:document.body.clientHeight};return{width:window.innerWidth||document.documentElement.clientWidth||l.width,height:window.innerHeight||document.documentElement.clientHeight||l.height}},"utils.getWindowSize"),nt=function(h,l,d,y,m){var b=1;if(m!==void 0&&hj.log.debug("Retry iteration ".concat(b," of ").concat(m)),h())return l(!0);var D=setInterval(function(){return b++,h()?(clearInterval(D),l(!0)):b>=y?(clearInterval(D),l(!1)):void 0},d)},ut=function(h,l){return function(d,y){hj.log.debug("[".concat(h,"] ").concat(d),l,y)}},Rt=function(h){return h&&typeof h=="string"?h.replace(/[\W_]+/g,"-"):""};function Lt(h){try{return decodeURIComponent(h)}catch{return h}}function C(h){for(var l,d=[],y=new RegExp("[^?&]?"+h.replace(/\[/,"\\[").replace(/]/,"\\]")+"=([^&]+)","g");l=y.exec(location.search);)d.push(Lt(l[1]));switch(d.length){case 0:return"";case 1:return d[0];default:return d}}var B={},K={};function st(h,l){var d;if(!B.matchOperations[h.match_operation])return hj.exceptions.log(new Error('Targeting error - "'.concat(h.match_operation,'" match operation does not exist.')),"hj.targeting.matchPatternWithRule"),!1;h.rule_type=h.rule_type||h.component;var y=function(m,b){return!b||m.rule_type!=="date"||m.match_operation!=="less_than"&&m.match_operation!=="greater_than"?b:(new Date(b).valueOf()/1e3).toFixed(0)}(h,l);return(d=B.matchOperations[h.match_operation](h,y)).error?(hj.exceptions.log(new Error("Targeting error - ".concat(h.match_operation," - ").concat(d.error)),"hj.targeting.matchPatternWithRule"),!1):(h.component!=="url"&&h.negate&&(d=!d),function(m,b,D){var M=D?"Match ":"No Match ";!D||m.component!=="url"&&m.component!=="device"||(M+=m.component+"|"+m.match_operation+"|"+m.pattern+(m.negate?" [NEGATE]":""),hj.log.debug(M,"targeting")),m.component!=="attribute"&&m.component!=="event"||(M+=m.component+"|"+m.name+" ("+m.rule_type+")|"+m.match_operation+"|"+m.pattern+"|compared with: "+b+(m.negate?" [NEGATE]":""),hj.log.debug(M,"targeting"))}(h,l,d),d)}function vt(h){var l,d=X();return(l=h.length===0||h.length===3||h.some(function(y){return st(y,d)}))?hj.log.debug("Device match found","targeting"):hj.log.debug("No device match found","targeting"),l}var Nt=function(h){var l,d,y;return h==null||(l=h.toLowerCase())===null||l===void 0||(d=l.split("#")[0])===null||d===void 0||(y=d.split("?")[0])===null||y===void 0?void 0:y.replace("http://www.","").replace("https://www.","").replace("http://","").replace("https://","").replace(/\/$/,"")},Bt=function(h,l,d){return function(){return h.apply(null,arguments)?l.apply(null,arguments):d.apply(null,arguments)}},Ke=function(h,l){return h!==void 0&&l!==void 0&&h!==null&&l!==null},ds=function(h,l){return!isNaN(h.pattern)&&!isNaN(l)&&l!==""&&typeof l!="boolean"},Ns=function(h,l){if(!l||l.toString()===parseInt(l,10).toString())return!1;var d=new Date(l);return d!=="Invalid Date"&&!isNaN(d)},ce=function(h){return Bt(Ke,h,function(){return!1})},Be=function(h){return ce(Bt(ds,h,function(l,d){return{error:d?"Cannot compare non-numeric values (rule: { name: '".concat(l.name,`' },
                        pattern: '`).concat(d,"')."):void 0}}))},Je=function(h){return ce(Bt(Ns,h,function(l,d){return{error:"Cannot compare dates. Given pattern is not a date (rule: { name: '".concat(l.name,"' }, pattern: '").concat(d,"').")}}))};B.matchUrl=function(h,l){var d,y=!1,m=!1,b=!1;if(h.length===0)return hj.log.debug("No URL targeting rules set","targeting"),!1;for(var D=0;D<h.length;D+=1){var M,R;if(!(y=!!(d=h[D])&&st(d,l))||(M=d)!==null&&M!==void 0&&M.negate||(b=!0),y&&(R=d)!==null&&R!==void 0&&R.negate){m=!0;break}}return(y=b&&!m)?hj.log.debug("URL match found without any negate rules","targeting"):m?hj.log.debug("Negate URL rule match found","targeting"):hj.log.debug("No URL match found","targeting"),y},B.matchRules=hj.tryCatch(function(h,l,d){for(var y,m,b,D,M,R=h.rules,j=h.userAttributeMatchLogic,$={device:{rules:[],isMatch:null,doMatch:vt},url:{rules:[],isMatch:null,doMatch:B.matchUrl},attribute:{rules:[]},trigger:{rules:[]}},W=0;W<R.length;W+=1){var et=R[W];if(et!==void 0){var gt=$[et.component];gt!==void 0?gt.rules.push(et):hj.exceptions.log(new Error("Targeting error - ".concat($[et.component]," targeting component is not supported.")),"hj.targeting.matchRules")}}hj.log.debug("-- Matching rules for new item --");var lt=function(E,v){var w;l!=="__proto__"&&l!=="constructor"&&(K[l]===void 0&&(K[l]=[]),(w=K[l])===null||w===void 0||w.push({eventName:E,callback:v}),hj.event.listen(E,v))};if(Object.keys(K).forEach(function(E){var v;E!==l&&((v=K[E])===null||v===void 0||v.forEach(function(w){hj.event.removeListener(w.eventName,w.callback)}),delete K[E])}),(y=$.device)!==null&&y!==void 0&&y.doMatch&&((m=$.device)===null||m===void 0||!m.doMatch($.device.rules)))return!1;var ie=function(){var E;return function(v,w){function g(I){hj.log.debug(I,"targeting")}if(v===void 0||v.length===0)return g("No specific user attribute targeting rules set."),!0;var k=function(I){return st(I,hj.userAttributes.get(I.name))};return w==="and"&&v.every(k)?(g("All user attributes matched. (AND logic)"),!0):w==="or"&&v.some(k)?(g("A user attribute matched. (OR logic)"),!0):(g("User attributes set do not match current visitor."),!1)}((E=$.attribute)===null||E===void 0?void 0:E.rules,j!=null?j:"and")},Wt=(b=$.trigger)===null||b===void 0?void 0:b.rules;if(Wt!=null&&Wt.length){hj.log.debug("Setting up targeting listeners for trigger rules","targeting");var ye=function(){ie()&&(d==null||d(!0))};Wt.forEach(function(E){var v="trigger:"+E.pattern;lt(v,ye)})}var a=$.url&&$.url.doMatch&&((D=$.url)===null||D===void 0?void 0:D.doMatch($.url.rules,l));return((M=$.attribute)===null||M===void 0?void 0:M.rules.length)===0||ie()?!!a&&(d==null||d(),!0):(hj.log.debug("Setting up targeting listeners for attribute rules","targeting"),lt("user-attributes-set",function(){a&&ie()&&(d==null||d(!0))}),!1)},"hj.targeting.matchRules"),B.matchOperations={exact:function(h,l){return h.rule_type==="string"?ce(function(d,y){return y.toLowerCase()===d.pattern.toLowerCase()})(h,l):h.rule_type==="boolean"?(h.pattern=String(h.pattern)==="true",l===h.pattern):h.rule_type==="number"?l!=null&&Number(l)===Number(h.pattern):l===h.pattern},starts_with:ce(function(h,l){return(l=l||"").indexOf(h.pattern)===0}),ends_with:ce(function(h,l){var d=l.length-h.pattern.length==-1?0:l.length-h.pattern.length;return l.substring(d,l.length)===h.pattern}),contains:ce(function(h,l){return(l=l||"").indexOf(h.pattern)!==-1}),regex:ce(function(h,l){try{return new RegExp(h.pattern).test(l)}catch{return hj.log.error(`The regular expression used for page targeting was invalid. Please provide a valid regular
                        expression.

Read more here: https://help.hotjar.com/hc/en-us/articles/115012727628`),!1}}),simple:ce(function(h,l){return Nt(l)===Nt(h.pattern)}),greater_than:Be(function(h,l){return Number(l)>Number(h.pattern)}),less_than:Be(function(h,l){return Number(l)<Number(h.pattern)}),unknown:function(h,l){return(l=typeof l=="string"?l.trim():l)!==0&&l!==!1&&!l},exact_date:Je(function(h,l){var d=new Date(1e3*h.pattern);return new Date(l).toDateString()===d.toDateString()}),exact_days_ago:Je(function(h,l){var d,y=new Date;return d=y.setDate(y.getDate()-Number(h.pattern)),d=new Date(d),new Date(l).toDateString()===d.toDateString()}),more_than_days_ago:Je(function(h,l){var d=Number(h.pattern)+1,y=new Date().getTime()/1e3;return y-=86400*d,new Date(l).getTime()/1e3<=y}),less_than_days_ago:Je(function(h,l){if(Number(h.pattern)===0)return B.matchOperations.exact_days_ago(h,l);var d=new Date().getTime()/1e3;return d-=86400*Number(h.pattern),new Date(l).getTime()/1e3>=d})};var ge={getFeatures:hj.tryCatch(function(){return hj.settings.features||[]},"hj.features.getFeatures"),hasFeature:hj.tryCatch(function(h){var l;try{var d=window.localStorage.getItem("HJ_OVERRIDE_FEATURE:".concat(h));l=d==="true"||d==="1"}catch{l=!1}return ge.getFeatures().indexOf(h)>-1||l},"hj.features.hasFeature")};function _t(h){return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},_t(h)}var wt=function(h){var l,d,y,m=window._hjDocument||document;if(F.selector=h,F.isWindow(h))return this[0]=window,this.length=1,this;if(F.isDocument(h,m))return this[0]=m,this.length=1,this;if(_t(h)==="object")return this[0]=h,this.length=1,this;if(typeof h=="string"&&h.charAt(0)==="<"&&h.charAt(h.length-1)===">"&&h.length>=3)return(l=m.createElement("div")).innerHTML=h,this[0]=l.childNodes[0],this.length=1,this;if(typeof h=="string"){isNaN(h.charAt(1))||h.charAt(0)!=="."&&h.charAt(0)!=="#"||(h=h.charAt(0)+"\\3"+h.charAt(1)+" "+h.slice(2));try{d=m.querySelectorAll(h)}catch{return this.length=0,this}for(y=0;y<d.length;y+=1)this[y]=d[y];return this.length=d.length,this}return this};wt.prototype.val=function(h){return h!==void 0&&this.length>0&&(this[0].value=h),this[0]===void 0?void 0:this[0]?this[0].value:""},wt.prototype.each=function(h,l){Array.prototype.forEach.call(this,function(d,y,m){l(y,d,m)})},wt.prototype.hasClass=function(h){return this[0].classList?this[0].classList.contains(h):new RegExp("(^| )"+h+"( |$)","gi").test(this[0].className)},wt.prototype.remove=function(){var h;for(h=0;h<this.length;h+=1)this[h].parentNode.removeChild(this[h])},wt.prototype.trigger=function(h){var l,d,y,m=h.split(" ");for(l=0;l<this.length;l+=1)for(d=0;d<m.length;d+=1)(y=document.createEvent("HTMLEvents")).initEvent(m[d],!0,!1),this[l].dispatchEvent(y)},wt.prototype.on=function(h,l,d,y){var m,b,D,M,R,j,$,W,et=h.split(" ");if(y=!!y,F.isDocument(this[0])&&typeof l=="string")for(b=0;b<et.length;b+=1)typeof l=="string"?(typeof d=="boolean"&&d===!1&&(d=function(gt){return gt.preventDefault(),!1}),D=l+"."+et[b],M=function(gt){if(R=document.querySelectorAll(l)){for(j=gt.target,$=-1;j&&($=Array.prototype.indexOf.call(R,j))===-1;)j=j.parentElement;$>-1&&d.call(j,gt)}},Array.isArray(F.eventHandlers[D])||(F.eventHandlers[D]=[]),F.eventHandlers[D].push(M),document.addEventListener(et[b].split(".")[0],M,!0)):(typeof l=="boolean"&&l===!1&&(l=function(gt){return gt.preventDefault(),!1}),Array.isArray(F.eventHandlers.document)||(F.eventHandlers.document=[]),F.eventHandlers.document.push(l),this[0].addEventListener(et[b].split(".")[0],l,y));else if(F.isDocument(this[0]))for(b=0;b<et.length;b+=1)typeof l=="boolean"&&l===!1&&(l=function(gt){return gt.preventDefault(),!1}),D="document."+et[b],Array.isArray(F.eventHandlers[D])||(F.eventHandlers[D]=[]),F.eventHandlers[D].push(l),document.addEventListener(et[b].split(".")[0],l,y);else if(F.isWindow(this[0]))for(b=0;b<et.length;b+=1)typeof l=="boolean"&&l===!1&&(l=function(gt){return gt.preventDefault(),!1}),D="window."+et[b],Array.isArray(F.eventHandlers[D])||(F.eventHandlers[D]=[]),F.eventHandlers[D].push(l),window.addEventListener(et[b].split(".")[0],l,y);else for(m=0;m<this.length;m+=1)for(b=0;b<et.length;b+=1)_t(l)==="object"?(W=l,l=function(gt){gt.data=W,d.call(this[m],gt)}):typeof l=="boolean"&&l===!1&&(l=function(gt){return gt.preventDefault(),!1}),D=F.selector+"."+et[b],Array.isArray(F.eventHandlers[D])||(F.eventHandlers[D]=[]),F.eventHandlers[D].push(l),this[m].addEventListener(et[b].split(".")[0],l,y);return this},wt.prototype.off=function(h,l,d,y){var m,b,D,M=h.split(" ");for(y=!!y,m=0;m<this.length;m+=1)for(b=0;b<M.length;b+=1)if(F.isDocument(this[m])&&typeof l=="string")if(d===void 0){if(_t(F.eventHandlers[l+"."+M[b]])==="object"){for(D=0;D<F.eventHandlers[l+"."+M[b]].length;D+=1)document.removeEventListener(M[b].split(".")[0],F.eventHandlers[l+"."+M[b]][D],!0);delete F.eventHandlers[l+"."+M[b]]}}else document.removeEventListener(M[b].split(".")[0],d,y);else if(F.isDocument(this[m]))if(l===void 0){if(_t(F.eventHandlers["document."+M[b]])==="object"){for(D=0;D<F.eventHandlers["document."+M[b]].length;D+=1)document.removeEventListener(M[b].split(".")[0],F.eventHandlers["document."+M[b]][D],y);delete F.eventHandlers["document."+M[b]]}}else document.removeEventListener(M[b].split(".")[0],l,y);else if(F.isWindow(this[m]))if(l===void 0){if(_t(F.eventHandlers["window."+M[b]])==="object"){for(D=0;D<F.eventHandlers["window."+M[b]].length;D+=1)window.removeEventListener(M[b].split(".")[0],F.eventHandlers["window."+M[b]][D],y);delete F.eventHandlers["window."+M[b]]}}else window.removeEventListener(M[b].split(".")[0],l,y);else if(l===void 0){if(_t(F.eventHandlers[F.selector+"."+M[b]])==="object"){for(D=0;D<F.eventHandlers[F.selector+"."+M[b]].length;D+=1)this[m].removeEventListener(M[b].split(".")[0],F.eventHandlers[F.selector+"."+M[b]][D],y);delete F.eventHandlers[F.selector+"."+M[b]]}}else this[m].removeEventListener(M[b].split(".")[0],l,y);return this},wt.prototype.scrollTop=function(){return F.isWindow(this[0])||F.isDocument(this[0])?window.document.body.scrollTop||window.document.documentElement.scrollTop:this[0].scrollTop},wt.prototype.scrollLeft=function(){return F.isWindow(this[0])||F.isDocument(this[0])?document.body.scrollLeft||document.documentElement.scrollLeft:this[0].scrollLeft},wt.prototype.height=function(){var h;return F.isWindow(this[0])?document.documentElement.clientHeight:this[0].nodeType===9?(h=this[0].documentElement,Math.max(this[0].body.scrollHeight,h.scrollHeight,this[0].body.offsetHeight,h.offsetHeight,h.clientHeight)):Math.max(this[0].scrollHeight,this[0].offsetHeight)},wt.prototype.width=function(){var h;return F.isWindow(this[0])?document.documentElement.clientWidth:this[0].nodeType===9?(h=this[0].documentElement,Math.max(this[0].body.scrollWidth,h.scrollWidth,this[0].body.offsetWidth,h.offsetWidth,h.clientWidth)):Math.max(this[0].scrollWidth,this[0].offsetWidth)},wt.prototype.attr=function(h,l){var d;if(l||l===""){for(d=0;d<this.length;d+=1)this[d].setAttribute(h,l);return this}return this[0]&&_t(this[0])==="object"&&this[0].getAttribute(h)!==null?this[0].getAttribute(h):void 0},wt.prototype.parent=function(){var h;return((h=this[0].parentNode)===null||h===void 0?void 0:h.nodeName)==="#document-fragment"?F(this[0].parentNode.host):F(this[0].parentNode)},wt.prototype.get=function(h){return this[h]},wt.prototype.removeAttr=function(h){var l;for(l=0;l<this.length;l+=1)this[l].removeAttribute(h);return this};var F=function(h){return new wt(h)};F.isFunction=function(h){return typeof h=="function"},F.isWindow=function(h){return h===s.g},F.isDocument=function(h,l){return h===(l||document)},F.noop=function(){},F.stringify=function(h){if(Array.prototype.toJSON===void 0)return JSON.stringify(h);var l=Array.prototype.toJSON;delete Array.prototype.toJSON;try{return JSON.stringify(h)}finally{Array.prototype.toJSON=l}},F.stringify=function(h){if(Array.prototype.toJSON===void 0)return JSON.stringify(h);var l=Array.prototype.toJSON;delete Array.prototype.toJSON;try{return JSON.stringify(h)}finally{Array.prototype.toJSON=l}},F.each=function(h,l){var d,y,m;if(_t(h)==="object"&&Object.prototype.toString.call(h)!=="[object Array]"){if((y=h[Object.keys(h)[0]])&&y.nodeName!==void 0){for(d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&d!=="length"&&l(d,h[d],h)===!1)break}else for(d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&l(d,h[d],h)===!1)break}else if(h!==void 0)for(m=0;m<h.length&&l(m,h[m],h)!==!1;m+=1);},wt.prototype.append=function(h){var l;_t(h)==="object"?F.selector==="body"?document.body.appendChild(h.get(0)):this[0].appendChild(h.get(0)):F.selector==="body"?((l=document.createElement("div")).innerHTML=h,document.body.appendChild(l)):((l=document.createElement("div")).innerHTML=h,this[0].appendChild(l))},F.ajax=function(h){var l=new XMLHttpRequest;h.type=h.type||"GET",h.timeout_ms=h.timeout_ms||15e3,h.withCredentials&&(l.withCredentials=!0),l.open(h.type,h.url,!0),l.timeout=h.timeout_ms,h.type!=="POST"&&h.type!=="PUT"||!h.contentType||l.setRequestHeader("Content-Type",h.contentType),l.onload=function(){l.status>=200&&l.status<400?F.isFunction(h.success)&&h.success(l.responseText&&JSON.parse(l.responseText),l):F.isFunction(h.error)&&h.error(l)},l.onerror=function(){F.isFunction(h.error)&&h.error(l)},l.ontimeout=function(){F.isFunction(h.timeout)&&h.timeout(l)},F.isFunction(h.requestAnnotator)&&h.requestAnnotator(l),h.type!=="POST"&&h.type!=="PUT"||!h.data?l.send():l.send(h.data)},F.eventHandlers={},F.selector="";var ln={get:function(h,l,d){l=l||F.noop,d=d||F.noop,F.ajax({url:h,success:hj.tryCatch(l,"Data"),error:hj.tryCatch(d,"Data")})},post:function(h,l,d,y){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{contentType:"json"};d=d||F.noop,y=y||F.noop;var b=m!=null&&m.query?"".concat(h,"?").concat(m.query):h;return F.ajax({url:b,type:"POST",data:(m==null?void 0:m.contentType)==="json"?F.stringify(l):l,contentType:"text/plain; charset=UTF-8",success:hj.tryCatch(d,"Data"),error:hj.tryCatch(y,"Data")})},putAsJSON:function(h,l,d,y){d=d||F.noop,y=y||F.noop,F.ajax({url:h,type:"PUT",data:F.stringify(l),contentType:"text/plain; charset=UTF-8",success:hj.tryCatch(d,"Data"),error:hj.tryCatch(y,"Data")})},postAsJSON:function(h,l,d,y){return d=d||F.noop,y=y||F.noop,F.ajax({url:h,type:"POST",data:F.stringify(l),contentType:"application/json; charset=UTF-8",success:hj.tryCatch(d,"Data"),error:hj.tryCatch(y,"Data")})}},ni=[],ps=[];function Wn(h,l){hj.tryCatch(l,"Rendering")(h)}function Yn(h,l){hj.widgetDelay.set(function(){hj.tryCatch(l,"Rendering")(h)},1e3*h.display_delay)}function Xn(h,l,d){var y=hj.hq(document),m=hj.hq(window),b=[];function D(){hj.tryCatch(l,"Rendering")(h),y.off("mousemove."+d),y.off("mouseout."+d)}ni.push(d),y.off("mousemove."+d),y.off("mouseout."+d),y.on("mousemove."+d,hj.tryCatch(function(M){var R,j,$,W;b.push({x:M.clientX,y:M.clientY}),b.length>2&&(((R=b[1])===null||R===void 0?void 0:R.x)===((j=b[2])===null||j===void 0?void 0:j.x)&&(($=b[1])===null||$===void 0?void 0:$.y)===((W=b[2])===null||W===void 0?void 0:W.y)?b.pop():b.shift())},"Rendering")),y.on("mouseout."+d,hj.tryCatch(function(M){var R=this;M.relatedTarget&&(!R||M.relatedTarget===R||R.compareDocumentPosition(M.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||function(j){var $=b[1],W=b[0];if(j|=0,$!==void 0&&!(W&&$.y>=W.y||j>0)){if(W&&W.x===$.x)D();else if(W){var et=W.y-$.y/W.x-$.x,gt=-(W.y-et*W.x)/et;gt>0&&gt<m.width()&&D()}}}(M.clientY)},"Rendering"))}function oo(h,l,d){var y=hj.hq(document),m=hj.hq(window);ps.push(d),m.off("scroll."+d),m.on("scroll."+d,hj.tryCatch(function(){var b=y.height();(y.scrollTop()+tt().height)/b>=.5&&(m.off("scroll."+d),l(h))},"Rendering"))}var Ms={clearAllAbandonEvents:hj.tryCatch(function(){ni.forEach(function(h){hj.log.debug("Removing abandon events for "+h,"rendering"),hj.hq(document).off("mousemove."+h),hj.hq(document).off("mouseout."+h)}),ni=[]},"hj.rendering.clearAllAbandonEvents"),clearAllScrollEvents:hj.tryCatch(function(){ps.forEach(function(h){hj.log.debug("Removing scroll events for "+h,"rendering"),hj.hq(window).off("scroll."+h)}),ps=[]},"hj.rendering.clearAllScrollEvents"),callAccordingToCondition:hj.tryCatch(function(h,l,d){var y={immediate:Wn,delay:Yn,abandon:Xn,scroll:oo}[h.display_type==="inline"?"immediate":h.display_condition];if(hj.log.debug("Calling active item ("+l+"): "+h.display_condition,"rendering"),!y)throw new Error('Unhandled display condition: "'+h.display_condition+'"');hj.tryCatch(y,"Rendering")(h,d,l)},"hj.rendering.callAccordingToCondition")},_e=function(h,l){return h+l&4294967295};function bi(h,l){var d=zt(d=h[0],b=h[1],m=h[2],y=h[3],l[0],7,-680876936),y=zt(y,d,b,m,l[1],12,-389564586),m=zt(m,y,d,b,l[2],17,606105819),b=zt(b,m,y,d,l[3],22,-1044525330);d=zt(d,b,m,y,l[4],7,-176418897),y=zt(y,d,b,m,l[5],12,1200080426),m=zt(m,y,d,b,l[6],17,-1473231341),b=zt(b,m,y,d,l[7],22,-45705983),d=zt(d,b,m,y,l[8],7,1770035416),y=zt(y,d,b,m,l[9],12,-1958414417),m=zt(m,y,d,b,l[10],17,-42063),b=zt(b,m,y,d,l[11],22,-1990404162),d=zt(d,b,m,y,l[12],7,1804603682),y=zt(y,d,b,m,l[13],12,-40341101),m=zt(m,y,d,b,l[14],17,-1502002290),d=qt(d,b=zt(b,m,y,d,l[15],22,1236535329),m,y,l[1],5,-165796510),y=qt(y,d,b,m,l[6],9,-1069501632),m=qt(m,y,d,b,l[11],14,643717713),b=qt(b,m,y,d,l[0],20,-373897302),d=qt(d,b,m,y,l[5],5,-701558691),y=qt(y,d,b,m,l[10],9,38016083),m=qt(m,y,d,b,l[15],14,-660478335),b=qt(b,m,y,d,l[4],20,-405537848),d=qt(d,b,m,y,l[9],5,568446438),y=qt(y,d,b,m,l[14],9,-1019803690),m=qt(m,y,d,b,l[3],14,-187363961),b=qt(b,m,y,d,l[8],20,1163531501),d=qt(d,b,m,y,l[13],5,-1444681467),y=qt(y,d,b,m,l[2],9,-51403784),m=qt(m,y,d,b,l[7],14,1735328473),d=Jt(d,b=qt(b,m,y,d,l[12],20,-1926607734),m,y,l[5],4,-378558),y=Jt(y,d,b,m,l[8],11,-2022574463),m=Jt(m,y,d,b,l[11],16,1839030562),b=Jt(b,m,y,d,l[14],23,-35309556),d=Jt(d,b,m,y,l[1],4,-1530992060),y=Jt(y,d,b,m,l[4],11,1272893353),m=Jt(m,y,d,b,l[7],16,-155497632),b=Jt(b,m,y,d,l[10],23,-1094730640),d=Jt(d,b,m,y,l[13],4,681279174),y=Jt(y,d,b,m,l[0],11,-358537222),m=Jt(m,y,d,b,l[3],16,-722521979),b=Jt(b,m,y,d,l[6],23,76029189),d=Jt(d,b,m,y,l[9],4,-640364487),y=Jt(y,d,b,m,l[12],11,-421815835),m=Jt(m,y,d,b,l[15],16,530742520),d=Qt(d,b=Jt(b,m,y,d,l[2],23,-995338651),m,y,l[0],6,-198630844),y=Qt(y,d,b,m,l[7],10,1126891415),m=Qt(m,y,d,b,l[14],15,-1416354905),b=Qt(b,m,y,d,l[5],21,-57434055),d=Qt(d,b,m,y,l[12],6,1700485571),y=Qt(y,d,b,m,l[3],10,-1894986606),m=Qt(m,y,d,b,l[10],15,-1051523),b=Qt(b,m,y,d,l[1],21,-2054922799),d=Qt(d,b,m,y,l[8],6,1873313359),y=Qt(y,d,b,m,l[15],10,-30611744),m=Qt(m,y,d,b,l[6],15,-1560198380),b=Qt(b,m,y,d,l[13],21,1309151649),d=Qt(d,b,m,y,l[4],6,-145523070),y=Qt(y,d,b,m,l[11],10,-1120210379),m=Qt(m,y,d,b,l[2],15,718787259),b=Qt(b,m,y,d,l[9],21,-343485551),h[0]=_e(d,h[0]),h[1]=_e(b,h[1]),h[2]=_e(m,h[2]),h[3]=_e(y,h[3])}function ks(h,l,d,y,m,b){return l=_e(_e(l,h),_e(y,b)),_e(l<<m|l>>>32-m,d)}function zt(h,l,d,y,m,b,D){return ks(l&d|~l&y,h,l,m,b,D)}function qt(h,l,d,y,m,b,D){return ks(l&y|d&~y,h,l,m,b,D)}function Jt(h,l,d,y,m,b,D){return ks(l^d^y,h,l,m,b,D)}function Qt(h,l,d,y,m,b,D){return ks(d^(l|~y),h,l,m,b,D)}function ao(h){var l,d=[];for(l=0;64>l;l+=4)d[l>>2]=h.charCodeAt(l)+(h.charCodeAt(l+1)<<8)+(h.charCodeAt(l+2)<<16)+(h.charCodeAt(l+3)<<24);return d}var hn="0123456789abcdef".split("");function co(h){for(var l="",d=0;4>d;d++)l+=hn[h>>8*d+4&15]+hn[h>>8*d&15];return l}var un=function(h,l){var d="";try{d=function(y){for(var m=0;m<y.length;m++)y[m]=co(y[m]);return y.join("")}(function(y){var m,b=y.length,D=[1732584193,-271733879,-1732584194,271733878];for(m=64;m<=y.length;m+=64)bi(D,ao(y.substring(m-64,m)));y=y.substring(m-64);var M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(m=0;m<y.length;m++)M[m>>2]|=y.charCodeAt(m)<<(m%4<<3);if(M[m>>2]|=128<<(m%4<<3),55<m)for(bi(D,M),m=0;16>m;m++)M[m]=0;return M[14]=8*b,bi(D,M),D}(e(h)))}catch(y){l?d="":hj.exceptions.log(y,"md5")}return d};un("hello")!="5d41402abc4b2a76b9719d911017c592"&&(_e=function(h,l){var d=(65535&h)+(65535&l);return(h>>16)+(l>>16)+(d>>16)<<16|65535&d});var St={id:void 0,attributes:{},init:hj.tryCatch(function(){if(hj.settings.user_attributes_enabled){var h=function(){var l=hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.get()==="true"?hj.bridge.storage.localStorage.USER_ATTRIBUTES.get():void 0;if(l)try{var d=function(y){try{var m=JSON.parse(y);if(m&&Y(m)==="object")return!0}catch{}return!1}(l)?l:hj.b64DecodeUnicode(l);return JSON.parse(d)}catch{return}}();h&&(St.id=h.userId,St.attributes=h.attributes,delete St.attributes.contentsquare_replay_link)}},"userAttributes.init"),reset:hj.tryCatch(function(){St.id=void 0,St.attributes={},hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.clear(),hj.bridge.storage.localStorage.USER_ATTRIBUTES.clear()},"userAttributes.reset"),set:hj.tryCatch(function(h,l){var d,y,m,b,D;l&&l.contentsquare_replay_link&&(hj.log.debug("Storing contentsquare_replay_link user attribute: ".concat(l.contentsquare_replay_link),"userAttributes"),St.attributes.contentsquare_replay_link=l.contentsquare_replay_link),hj.settings.user_attributes_enabled?(St.id!==void 0&&St.id!==null&&St.id!==h&&(hj.log.debug("User ID changed, resetting all attributes before continuing.","userAttributes"),St.reset()),St.id=h,St.attributes=(d=St.attributes,y={},m={},[d,l].forEach(function(M){if(M)for(var R in M)Object.prototype.hasOwnProperty.call(M,R)&&R!=="length"&&(y[R]=M[R])}),Object.keys(y).sort().forEach(function(M){m[M]=y[M]}),m),b={attributes:St.attributes,userId:St.id},D=hj.b64EncodeUnicode(JSON.stringify(b)),hj.bridge.storage.localStorage.USER_ATTRIBUTES.set(D),hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.set("true",!0),hj.event.signal("user-attributes-set"),hj.bridge.isRecordingEnabled()?St.flush():hj.log.debug("No recording in progress. Not sending.","userAttributes")):hj.log.debug("User attributes not enabled. Doing nothing.","userAttributes")},"userAttributes.set"),flush:hj.tryCatch(function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hj.hq.noop;if(St.id!==void 0||Object.keys(St.attributes).length){var l=hj.bridge.storage.items.USER_ATTRIBUTES_HASH.get({resetExpiry:!0}),d=hj.md5(JSON.stringify({allAttributes:St.attributes,userId:St.id}));if(l===d)return h(null,St.id,St.attributes),void hj.log.debug("No changed user attributes. Not sending.","userAttributes");hj.bridge.storage.items.USER_ATTRIBUTES_HASH.set(d),hj.debug.isOn()&&function(y,m){hj.ajax.post("".concat(hj.identifyEndpoint,"/sites/").concat(hj.settings.site_id,"/users/").concat(hj.bridge.getSessionUserId(!0),"/validate"),{user_id:y,attributes:m},hj.tryCatch(function(b){b.errors&&Object.keys(b.errors).length>0?hj.log.debug("User validation API call PARTIALLY successful (some errors).","userAttributes",b):hj.log.debug("User validation API call successful.","userAttributes",b)},"userAttributes"),hj.tryCatch(function(b){hj.log.debug("User Attributes validation API call failed.","userAttributes",b.responseText&&JSON.parse(b.responseText)||"unknown_failure")},"userAttributes"))}(St.id,St.attributes),hj.bridge.flushUserAttributes(St.id,St.attributes),h(null,St.id,St.attributes)}else h(Error("no_user"))},"userAttributes.flush"),get:hj.tryCatch(function(h){return h==="user_id"?St.id:h&&St.attributes[h]},"userAttributes.get")},ri={},Ai={"user.id":void 0},lo={get:function(h){return Ai[h]},set:function(h,l){Ai[h]=l;var d=ri[h];typeof d=="function"&&l&&(d(l),delete ri[h])},on:function(h,l){ri[h]=l;var d=Ai[h];d&&(l(d),delete ri[h])},reset:function(){ri={},Ai={"user.id":void 0}}},Kn=hj.tryCatch(function(){var h=function(){try{return window.self!==window.top}catch{return!0}}(),l={width:!h&&window.screen?window.screen.width:document.body.clientWidth,height:!h&&window.screen?window.screen.height:document.body.clientHeight};return{width:window.innerWidth||document.documentElement.clientWidth||l.width,height:window.innerHeight||document.documentElement.clientHeight||l.height}},"common"),ho=hj.tryCatch(function(){var h,l;if(document&&document.documentElement&&document.documentElement.clientWidth)h=document.documentElement.clientWidth,l=document.documentElement.clientHeight;else{var d=Kn();h=d.width,l=d.height}return{width:h,height:l}},"common"),uo=hj.tryCatch(function(h){return h=h||window,{left:hj.hq(h).scrollLeft(),top:hj.hq(h).scrollTop()}},"common"),po=hj.tryCatch(function(){var h=parseInt(1e3*(hj.hq(window).scrollTop()+hj.ui.getWindowSize().height)/hj.hq(document).height(),10);return Math.min(1e3,h)},"common"),fo=hj.tryCatch(function(h){var l=hj.ui.getScrollPosition();hj.hq(document).on("scroll.hotjarDisable resize.hotjarDisable mousewheel.hotjarDisable DOMMouseScroll.hotjarDisable touchmove.hotjarDisable",hj.tryCatch(function(d){d.preventDefault(),window.scrollTo(l.left,l.top),h&&h()},"common"))},"common"),wc=hj.tryCatch(function(){hj.hq(document).off("scroll.hotjarDisable"),hj.hq(document).off("resize.hotjarDisable"),hj.hq(document).off("mousewheel.hotjarDisable"),hj.hq(document).off("DOMMouseScroll.hotjarDisable"),hj.hq(document).off("touchmove.hotjarDisable")},"common"),Jn={getWindowSize:Kn,getDocumentSize:ho,getScrollPosition:uo,getBottomAsPercentage:po,disableScrolling:fo,enableScrolling:wc},go=function(){var h=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).uuid;hj.debug=o,hj.log=f,hj.hq=F,hj.ajax=ln,hj.uuid=h||window.hj.uuid,hj.encodeAsUtf8=e,hj.b64EncodeUnicode=i,hj.b64DecodeUnicode=r,hj.md5=un,hj.event=_,hj.userAttributes=St,hj.targeting=B,hj.features=ge,hj.rendering=Ms,hj.ui=Jn,hj.store={session:lo}},mo=hj.tryCatch(function(){var h=C("hjDebug");h&&(h==="1"||h==="true"?hj.debug.on(!0):hj.debug.off())},"init"),Qn={storage:{},set:hj.tryCatch(function(h){Qn.storage.events=h},"sessionEvents.set"),get:hj.tryCatch(function(){return Qn.storage.events},"sessionEvents.get")};function Qe(h,l){return function(d){if(Array.isArray(d))return d}(h)||function(d,y){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var b,D,M,R,j=[],$=!0,W=!1;try{if(M=(m=m.call(d)).next,y===0){if(Object(m)!==m)return;$=!1}else for(;!($=(b=M.call(m)).done)&&(j.push(b.value),j.length!==y);$=!0);}catch(et){W=!0,D=et}finally{try{if(!$&&m.return!=null&&(R=m.return(),Object(R)!==R))return}finally{if(W)throw D}}return j}}(h,l)||function(d,y){if(d){if(typeof d=="string")return Ds(d,y);var m=Object.prototype.toString.call(d).slice(8,-1);return m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set"?Array.from(d):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?Ds(d,y):void 0}}(h,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ds(h,l){(l==null||l>h.length)&&(l=h.length);for(var d=0,y=new Array(l);d<l;d++)y[d]=h[d];return y}var Ti,fs,Ls,Zn={getAsNumber:function(){var h=hj.bridge.getSessionUserId(!0);return(parseInt((h==null?void 0:h.slice(-10))||"",16)+1)/Math.pow(2,40)},compareRatio:hj.tryCatch(function(h,l){return Zn.getAsNumber()*(l?100:1)<=h},"identifier.compareRatio")},Ze=["af","ar","bg","ca","cs","cy","da","de","el","en","es","et","fa","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","mis","nb","nl","pl","pt_BR","pt","ro","ru","sk","sl","sq","sr","sv","sw","th","tl","tr","uk","vi","zh_CN","zh_TW"],he=Object.freeze({POPOVER:"popover",FULL_SCREEN:"full_screen",EXTERNAL:"external_link",BUTTON:"button",INLINE_EMBEDDED:"inline",BUBBLE:"bubble",MOBILE_POPOVER:"mobile_popover"}),ts=hj.tryCatch(function(){hj.widget=function(){var h,l={},d=["ar","fa","he"],y=[],m=[],b=[],D=[],M=!1;return l.ctrl=void 0,l.data=void 0,l.model={},l.activeLanguageDirection="ltr",l.widgetAttributePrefix="_hj-f5b2a1eb-9b07",l.getCtaLinks=function(){return{polls:"https://www.hotjar.com/feedback-surveys?utm_source=client&utm_medium=poll&utm_campaign=insights",surveys:"https://www.hotjar.com/?utm_source=client&utm_medium=survey&utm_campaign=insights"}},l.getActiveLanguage=function(){var R;return(R=h)!==null&&R!==void 0?R:"en"},l.addMatchingWidget=function(R,j,$,W,et,gt,lt,ie){var Wt=lt===he.INLINE_EMBEDDED;if(W===void 0||hj.isPreview||Zn.compareRatio(W,!0)){var ye={type:R,id:j,created:$,runCallback:et,removeCallback:gt,isInlineEmbedded:Wt,targetingRules:ie,displayType:lt};M?l.setActiveWidget(ye):((Wt?m:y).push(ye),Wt&&D.push(ye))}else hj.log.debug("Session identifier not in targeting percentage. Widget will not match.","targeting")},l.clearWidget=hj.tryCatch(function(){var R="#_hj_poll_container,._hj-widget-container";hj.hq(R).length>0&&(hj.log.debug("Removing previously shown widget from DOM","widgets"),hj.hq(R).remove())},"widgets"),l.emptyMatchingWidgets=function(){y=[],m=[],b.forEach(function(R){R.disconnect()}),b=[],M=!1},l.isPhoneOrTablet=hj.tryCatch(function(){return hj.widget.isVeryNarrowScreen()||X()==="phone"||X()==="tablet"},"common"),l.isVeryNarrowScreen=hj.tryCatch(function(){return hj.hq(window).width()<=450},"common"),l.removeActiveWidget=function(R){hj.widgetDelay.clear(),Ms.clearAllAbandonEvents(),Ms.clearAllScrollEvents(),R=R||function(){},l.activeWidget?(l.activeWidget.removeCallback&&l.activeWidget.removeCallback(R),delete l.activeWidget):R()},l.runLatestMatchingWidget=function(){var R,j;y.forEach(function($){var W=function(et){return et.type==="incoming"||et.displayType==="button"||et.displayType==="bubble"?0:1}($);(!R||W>j||W===j&&$.created>R.created)&&(R=$,j=W)}),R?l.setActiveWidget(R):l.removeActiveWidget(),M=!0},l.runInlineEmbeddedWidgets=function(){D=D.filter(function(R){var j=hj.targeting.matchUrl(R.targetingRules,location.href);return j||R.removeCallback(),j}),m.forEach(function(R){R.runCallback()})},l.setActiveWidget=function(R){l.activeWidget&&R.type===l.activeWidget.type&&R.id===l.activeWidget.id||l.removeActiveWidget(function(){R.runCallback(),l.activeWidget=R})},l.setLanguage=hj.tryCatch(function(R){var j=(R||"en").replace("-","_");if(!Ze.includes(j))throw new Error('Invalid language "'+R+'"');h=j,hj.widget.activeLanguageDirection=d.indexOf(j)>-1?"rtl":"ltr",hj.widget.isActiveLanguageDirectionRtl=hj.widget.activeLanguageDirection==="rtl"},"common"),l.registerObserverForInlineWidget=function(R){b.push(R)},l}(),hj.widgetDelay=function(){var h={},l=null;return h.clear=hj.tryCatch(function(){clearTimeout(l),l=null},"hj.widgetDelay.clear"),h.set=hj.tryCatch(function(d,y){h.clear(),l=setTimeout(d,y)},"hj.widgetDelay.set"),h}()},"widgets"),Tt=Object.freeze({LIVE:"LIVE",REVIEW_WEBAPP:"REVIEW_WEBAPP",REVIEW:"REVIEW",STAGING:"STAGING",DEV:"DEV",DEV_OLD:"DEV_OLD"}),Ri=(Ti=(Ls=document.location.host.match(/^(insights-webapp|surveys-webapp|insights|surveys)-(.*?)((?:\.[^.]+)?(?:\.hotjarians\.net)|(?:\.[^.]+)?(?:\.eks\.hotjar\.com))$/))&&{component:Ls[1],reviewId:Ls[2],domain:Ls[3],reviewUrlSuffix:Ls[2]+Ls[3]})===null||Ti===void 0?void 0:Ti.reviewUrlSuffix,se=Object.freeze(((fs={})[Tt.LIVE]={INSIGHTS:"insights.hotjar.com",SURVEYS:"surveys.hotjar.com"},fs[Tt.REVIEW]={INSIGHTS:"insights-".concat(Ri),SURVEYS:"surveys-".concat(Ri)},fs[Tt.REVIEW_WEBAPP]={INSIGHTS:"insights-webapp-".concat(Ri),SURVEYS:"surveys-webapp-".concat(Ri)},fs[Tt.STAGING]={INSIGHTS:"insights-staging.hotjar.com",SURVEYS:"surveys-staging.hotjar.com"},fs[Tt.DEV]={INSIGHTS:"local.hotjar.com:8443",SURVEYS:"surveys.local.hotjar.com:8443"},fs[Tt.DEV_OLD]={INSIGHTS:"local.hotjar.com",SURVEYS:"surveys.local.hotjar.com"},fs)),gs=function(h){return function(l,d){return l===se[h][d]}},ke=gs(Tt.DEV),tr=gs(Tt.DEV_OLD),me=gs(Tt.LIVE),yo=gs(Tt.REVIEW_WEBAPP),dn=gs(Tt.REVIEW),Eo=gs(Tt.STAGING),er=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.location.href,l=[se[Tt.LIVE].SURVEYS,se[Tt.REVIEW_WEBAPP].SURVEYS,se[Tt.REVIEW].SURVEYS,se[Tt.STAGING].SURVEYS,se[Tt.DEV].SURVEYS,se[Tt.DEV_OLD].SURVEYS],d=document.createElement("a");return d.href=h,l.indexOf(d.hostname)>=0},Ci=(Object.freeze({LAST_RECORDING_ACTIVITY_STORE_DEBOUNCE:5e3,MAX_TIME_SINCE_LAST_RECORDING_ACTIVITY_IN_SESSION:12e4}),window.hjLazyModules,"js"),Ii=(Object.freeze({id:null,selector_version:2}),function(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vo,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wo,y=0,m=!1;function b(){--y!=0||m||l.bind(this)()}function D(){m=!0,d.bind(this)()}Object.keys(h).forEach(function(M){var R=h[M];typeof R=="string"&&(R=[R]),y+=R.length,R.forEach(function(j){So(j,M,b,D)})})}),So=function(h,l,d,y){var m;l===Ci?(m=document.createElement("script")).src="".concat(hj.scriptDomain).concat(h):l==="css"&&((m=document.createElement("link")).href="".concat(hj.scriptDomain).concat(h),m.rel="stylesheet"),m.onload=d,m.onerror=y,document.getElementsByTagName("head")[0].appendChild(m)};function vo(){}function wo(){var h=this.src||this.href;hj.exceptions.log(new Error("Failed to load module: ".concat(h,".")),"loader")}var oi=function(h,l){var d,y,m,b,D=(d=window.CS_CONF)===null||d===void 0||(y=d.voc)===null||y===void 0?void 0:y.enabled;if(hj.isPreview||D&&hj.settings.state_change_listen_mode==="manual")return!1;var M=((m=h.targeting)===null||m===void 0?void 0:m.filter(function(et){return et.component==="url"}))||[],R=(b=h.targeting)===null||b===void 0?void 0:b.some(function(et){return et.component==="trigger"}),j=h.display_type===he.EXTERNAL||h.display_type===he.MOBILE_POPOVER,$=D?location.href:hj.currentUrl,W=R||j||hj.targeting.matchUrl(M,$)===!0;return hj.tryCatch(function(){if(!W)throw new Error("Rendered survey out of URL targeting in ".concat(l," with ID: ").concat(h.id))},"render-out-of-targeting")(),!W};function sr(h,l){for(var d=h.querySelectorAll(l),y=0;y<d.length;y++){var m=d[y];m&&m.parentElement&&m.parentElement.removeChild(m)}}var _o=hj.tryCatch(function(){hj.surveyImpressionsMoved=!0,hj.polls=function(){var h,l={},d=window.hjLazyModules,y=hj.tryCatch(function(R,j){oi(R,"doRenderSurvey")||hj.widget.renderSurvey(R,j)},"polls");function m(){return d.SURVEY_V2}var b=hj.tryCatch(function(R,j){if(!oi(R,"renderWidget")){hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[R.id]=R,hj.widget.pollsResponsesUUID=hj.widget.pollsResponsesUUID||{},hj.widget.pollsResponsesUUID[R.id]=hj.uuid(),hj.widget.setLanguage(R.language),hj.log.debug("Rendering poll widget.","poll");var $=m();$!==h?Ii(m(),function(){h=$,y(R,j)}):y(R,j)}},"polls"),D=hj.tryCatch(function(R){var j=JSON.parse(JSON.stringify(R));return function($){hj.hq.each($.content.questions,function(W,et){et.answers&&hj.hq.each(et.answers,function(gt,lt){lt.index=gt})})}(j),function($){hj.hq.each($.content.questions,function(W,et){et.randomize_answer_order&&(et.pin_last_to_bottom?et.answers=O(et.answers.slice(0,-1)).concat(et.answers.slice(-1)):O(et.answers))})}(j),j},"polls"),M=hj.tryCatch(function(R,j){hj.widget.pollsData=hj.widget.pollsData||{};var $=D(R);hj.widget.pollsData[R.id]=$,hj.settings.legal_name=R.legal_name,hj.settings.privacy_policy_url=R.privacy_policy_url,j&&(hj.settings.features=j),hj.tryCatch(function(){b($)},$,"polls")()},"polls");return l.add=hj.tryCatch(function(R){hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[R.id]=D(R),hj.tryCatch(Ms.callAccordingToCondition,"polls")(hj.widget.pollsData[R.id],"poll",b)},"polls"),l.addEmbedded=hj.tryCatch(function(R,j){hj.widget.emptyMatchingWidgets();var $=R.display_type==="external_link"?void 0:R.targeting_percentage;hj.widget.addMatchingWidget("poll",R.id,R.created_epoch_time,$,function(){var W=D(R),et=W.display_type===he.MOBILE_POPOVER;et||(W.skin="light",W.background="#ffffff",W.pageBackground=R.background),hj.bridge.storage.items.POLL_DONE.exists(R.id)&&R.persist_condition!=="always"&&(hj.log.debug("Offsite poll "+R.id+" was already submitted.","poll"),W.is_submitted=!0),hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[W.id]=W,b(W,j[0]),typeof window.hjRenderCallback!="function"||et||window.hjRenderCallback({background:R.background})},l.remove,R.display_type)},"polls"),l.remove=hj.tryCatch(function(R,j){hj.widget.pollsData[j]?(sr(document.body,".".concat("_hj-widget-container")),sr(document.body,".".concat("_hj-widget-iframe")),delete hj.widget.pollsData[j],R&&setTimeout(function(){R()},1)):R&&R()},"polls"),l.run=hj.tryCatch(function(R){var j=hj.hq("._hj-survey-embed-container"),$=j.attr("data-survey-id"),W=er(R),et=!1;hj.hq.each(hj.settings.polls||[],function(gt,lt){var ie=lt.display_type===he.EXTERNAL||lt.display_type===he.MOBILE_POPOVER,Wt=lt.display_type===he.POPOVER||lt.display_type===he.FULL_SCREEN||lt.display_type===he.BUTTON||lt.display_type===he.INLINE_EMBEDDED||lt.display_type===he.BUBBLE;j.length>0&&ie?lt.uuid===$&&(hj.log.debug("Offsite poll #"+lt.id+" has matched with the embedded UUID "+$,"poll"),et=!0,l.addEmbedded(lt,j)):!W&&Wt&&hj.targeting.matchRules({rules:lt.targeting,userAttributeMatchLogic:lt.targeting_user_attribute_match_logic},R,hj.tryCatch(function(){hj.log.debug("Poll #"+lt.id+" has matched.","poll"),hj.bridge.storage.items.POLL_DONE.exists(lt.id)&&lt.persist_condition!=="always"?hj.log.debug("Poll was already submitted.","poll"):hj.widget.addMatchingWidget("poll",lt.id,lt.created_epoch_time,lt.targeting_percentage,function(){return l.add(lt)},function(ye){return l.remove(ye,lt.id)},lt.display_type,lt.targeting)},"polls.run.matchRules-callback"))}),W&&!et&&(hj.hq(document).trigger("hj-embedded-survey-mismatch"),hj.widgetDelay.clear(),hj.widget.emptyMatchingWidgets(),hj.log.debug("Could not match the embedded UUID.","poll"))},"polls"),l.enablePreview=function(){window._hjPollReload=M},hj.isPreview&&l.enablePreview(),l}()},"polls"),ir=Object.freeze({MODAL:"_hj-modal",FOOTER:"_hj-footer",SURVEY_INVITES:"_hj_survey_invite_container",HEATMAP_RETAKER:"_hj-heatmap-retaker",ADMIN_WIDGET:"_hj_admin_widget",NOTICATION:"_hj-notification"}),_c=(Object.freeze({RETAKER:"_hjRetakerTrsToken",TARGETING:"_hjRetakerTargeting"}),function(h){if(h){if(h.startsWith("data:image")||h.startsWith("blob:")||h.startsWith("http"))return h;var l=hj.environment==="live"?hj.surveyImagesHost:"d23waydkwbngmu.cloudfront.net";return"https://".concat(l,"/").concat(h)}}),bc=function(){var h={},l=window.hjLazyModules;function d(y){return y.display_type===he.EXTERNAL?function(m,b){if(b)return"https://".concat(b,"/").concat(m);var D=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"INSIGHTS",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.location.host;return me(j,R)?Tt.LIVE:ke(j,R)?Tt.DEV:tr(j,R)?Tt.DEV_OLD:yo(j,R)?Tt.REVIEW_WEBAPP:dn(j,R)?Tt.REVIEW:Eo(j,R)?Tt.STAGING:Tt.LIVE}(),M=se[D].SURVEYS;return"https://".concat(M,"/").concat(m)}(y.uuid,hj.surveysHost):y.public_url}return h.run=hj.tryCatch(function(y){if(!er(y)){var m=(hj.settings.polls||[]).filter(function(D){return D.invite_enabled&&D.display_type===he.EXTERNAL}),b=(hj.settings.surveys||[]).concat(m);hj.hq.each(b||[],function(D,M){B.matchRules({rules:M.targeting,userAttributeMatchLogic:M.targeting_user_attribute_match_logic},y,hj.tryCatch(function(){hj.log.debug("Survey #"+M.id+" has matched.","survey"),hj.bridge.storage.items.SURVEY_INVITES_CLOSED.exists(M.id)?hj.log.debug("Survey was already viewed.","survey"):hj.widget.addMatchingWidget("survey",M.id,M.created_epoch_time,M.targeting_percentage,function(){hj.survey.data=M,Ms.callAccordingToCondition(hj.survey.data,"survey",hj.tryCatch(function(){var R;R=hj.survey.data,hj.widget.surveyInvitationData={id:R.id,title:R.invite.title,description:R.invite.description,button:R.invite.button,close:R.invite.close,url:d(R),logoUrl:_c(R.logo_path||R.logo_url)},Ii(l.SURVEY_INVITATION)},"polls"))},h.remove)},"surveys.run.matchRules-callback"))})}},"surveys"),h.remove=hj.tryCatch(function(y){hj.survey.data?(hj.hq(".".concat(ir.SURVEY_INVITES)).length>0&&hj.hq(".".concat(ir.SURVEY_INVITES)).remove(),delete hj.survey.data,y&&setTimeout(function(){y()},1)):y&&y()}),h},pn=hj.tryCatch(function(){hj.survey={invites:bc(),ctrl:void 0,data:void 0,model:{},activeLanguageDirection:"ltr"}},"surveys");function Pi(){return Pi=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(h[y]=d[y])}return h},Pi.apply(this,arguments)}var nr="https://voc.hotjar.com",fn=[nr,"https://voc.ew1-integration-1.hotjarians.net","https://hj-engage-unmoderated-review.s3.eu-west-1.amazonaws.com"],gn="hj-uut",at={get:function(){var h=window.sessionStorage.getItem(gn);return h?JSON.parse(h):null},getValue:function(h){var l=at.get();return l==null?void 0:l[h]},set:function(h){if(h){var l,d=(l=at.get())!==null&&l!==void 0?l:{};window.sessionStorage.setItem(gn,JSON.stringify(Pi(Pi({},d),h)))}},clear:function(){window.sessionStorage.removeItem(gn)},validDomains:fn},Fe=function(h){var l=new URLSearchParams(h);return!!l.has("project_uuid")||(l.get("is_preview")==="1"?l.has("task_uuid"):l.has("response_uuid")&&l.has("task_uuid")&&l.has("participation_uuid"))},be=function(){var h,l=(h=function(){var m=document.referrer;if(typeof m=="string"&&function(b){if(typeof b!="string")return!1;try{var D=new URL(b),M=D.searchParams.get("is_preview")==="1";return!!fn.some(function(R){return b==null?void 0:b.includes(R)})||!!M&&D.hostname.endsWith(".hotjar.com")&&D.pathname.includes("research/projects/tests")}catch{return!1}}(m)&&Fe(new URL(m).search))return m}())!==null&&h!==void 0?h:function(){var m=new URLSearchParams(window.location.search).get("hj_uut");if(fn.some(function(M){var R;return(R=document.referrer)===null||R===void 0?void 0:R.includes(M)})&&m){var b=window.atob(m);if(Fe(b)){var D=new URL(nr);return D.search=b,D.toString()}}}(),d=l!==void 0,y=at.get()!==null;return d&&at.set({referrer:l}),y||d},rr=!1,Oi=function(){rr||(function(){try{hj.request=function(){var h,l,d=(l=hj.askUrl||((h=hj.defaults)===null||h===void 0?void 0:h.askUrl),{v1:"".concat(l,"api/v1"),v2:"".concat(l,"api/v2")}),y={},m={granted:null,callbacks:[],inProgress:!1},b=function(){return hj.bridge.getSessionUserId(!0)||""},D=[],M=!1;function R(j,$,W,et){D.push([j,$,W,et]),M||function gt(){if(D.length!==0){M=!0;var lt=function(E,v,w){if(v&&!Array.isArray(v)&&typeof v.length=="number"){var g=v.length;return Ds(v,4<g?4:g)}return E(v,4)}(Qe,D.shift()),ie=lt[0],Wt=lt[1],ye=lt[2],a=lt[3];hj.ajax.post(ie,Wt,function(E){try{ye&&ye(E)}finally{gt()}},function(E){try{a&&a(E)}finally{gt()}})}else M=!1}()}return y.getConsentGranted=hj.tryCatch(function(j){var $,W="?";m.granted!==null&&j?j(m.granted):(j&&m.callbacks.push(j),m.inProgress||(W+="user_id="+b(),m.inProgress=!0,hj.ajax.get("".concat(hj.apiUrlBase,"/sites/").concat(hj.settings.site_id,"/consent").concat(W),function(et){for(m.granted=!!et.success&&et.scopes.indexOf("associate")!==-1,m.inProgress=!1;$=m.callbacks.pop();)hj.tryCatch($,"ConsentData")(m.granted)},function(){for(m.granted=!1,m.inProgress=!1;$=m.callbacks.pop();)hj.tryCatch($,"ConsentData")(m.granted)})))},"hj.request.getConsentGranted"),y.grantConsent=hj.tryCatch(function(j,$){j.user_id=b(),j.action="grant_for_response",R("".concat(hj.apiUrlBase,"/sites/").concat(hj.settings.site_id,"/consent/associate"),j,function(W){m.granted=!!W.success,$&&hj.tryCatch($,"GrantConsent")(m.granted)},function(){m.granted=!1})},"hj.request.getConsent"),y.savePollResponse=hj.tryCatch(function(j,$,W,et,gt){var lt=hj.widget.pollsResponsesUUID[j];W.action="create_or_update_poll_response";var ie=Qn.get();ie&&(W.events=hj.hq.stringify(ie)),function(Wt,ye,a,E,v){var w=tt();a.window_width=a.window_width||w.width,a.window_height=a.window_height||w.height,a.user_id=ye?b():void 0,a.url=location.href,a.account_id=hj.settings.account_id||null,a.payload_signature=hj.settings.account_signature||null,hj.userAttributes.flush(function(g,k,I){if(g){a.identify_user_id=hj.userAttributes.get("user_id")||null;var V=hj.userAttributes.get("contentsquare_replay_link");V&&(a.identify_attributes={contentsquare_replay_link:V})}else a.identify_user_id=k,a.identify_attributes=I;R(Wt,a,function(mt){E&&E(mt)},function(){v&&v(new Error("Error sending response"))})})}("".concat(d.v2,"/client/sites/").concat(hj.settings.site_id,"/poll/").concat(j,"/response/").concat(lt),$,W,function(Wt){Wt.is_new_response&&hj.event.signal("poll.send",{id:j,response_id:Wt.poll_response_id}),et==null||et(Wt)},gt)},"data"),y.completePollResponse=hj.tryCatch(function(j,$){var W=hj.widget.pollsResponsesUUID[j];R("".concat(d.v2,"/client/sites/").concat(hj.settings.site_id,"/poll/").concat(j,"/response/").concat(W),{action:"finish_poll_response",completion_time_from_engagement_ms:$.fromEngagement,completion_time_from_render_ms:$.fromRender})},"data"),y}()}catch(h){hj.exceptions.log(h,"hj.request")}}(),ts(),_o(),pn(),rr=!0)},mn=function(h){hj.widget&&(be()?Ii(window.hjLazyModules.USER_TEST,function(){var l,d;(l=(d=hj.widget).initUserTest)===null||l===void 0||l.call(d)},function(){hj.log.error("Failed to load user test module")}):(hj.widget.emptyMatchingWidgets(),hj.polls.run(h),hj.survey.invites.run(h),hj.widget.runLatestMatchingWidget(),hj.widget.runInlineEmbeddedWidgets()))},es=ut("ab-tasty","integration");function Ni(){return window.ABTasty!==void 0&&window.ABTasty.hitServiceNotifierSubscribe!==void 0}var Mi={setup:hj.tryCatch(function(){function h(l){if(l.type==="CAMPAIGN"&&l.data&&l.data.caname&&l.data.vaname){var d=l.data,y=d.caname,m=d.vaname;es("AB Tasty campaign '".concat(y,"' is on variant '").concat(m,"'"),l),hj.event.signal("exp.abt",{experimentId:y,variantId:m},!0);var b=Rt("".concat(y,"-").concat(m));hj("event",b),es("Sending event '".concat(b,"'"))}else es("Invalid AB Tasty event",l)}nt(Ni,function(l){l?(es("AB Tasty global object found"),window.ABTasty.hitServiceNotifierSubscribe(h,"CAMPAIGN",{withHitHistory:!0})):es("AB Tasty global object not found")},2e3,10)},"abTasty.setup")};function De(){return De=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(h[y]=d[y])}return h},De.apply(this,arguments)}function ai(h,l){return function(d){if(Array.isArray(d))return d}(h)||function(d,y){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var b,D,M,R,j=[],$=!0,W=!1;try{if(M=(m=m.call(d)).next,y===0){if(Object(m)!==m)return;$=!1}else for(;!($=(b=M.call(m)).done)&&(j.push(b.value),j.length!==y);$=!0);}catch(et){W=!0,D=et}finally{try{if(!$&&m.return!=null&&(R=m.return(),Object(R)!==R))return}finally{if(W)throw D}}return j}}(h,l)||function(d,y){if(d){if(typeof d=="string")return Ht(d,y);var m=Object.prototype.toString.call(d).slice(8,-1);return m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set"?Array.from(d):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?Ht(d,y):void 0}}(h,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ht(h,l){(l==null||l>h.length)&&(l=h.length);for(var d=0,y=new Array(l);d<l;d++)y[d]=h[d];return y}function xs(){var h;return typeof window[(h=window.GoogleAnalyticsObject)!==null&&h!==void 0?h:"ga"]=="function"}function $e(h,l){!l||!l.length||l.length<2||l[0]!=="event"||ms(h,{action:l[1],category:l[2]&&l[2].event_category||"",label:l[2]&&l[2].event_label||"",value:l[2]&&l[2].value||""})}function ms(h,l){if(!function(m){return m.action==="detect_user"&&m.category==="Hotjar"}(l)){var d=function(m){return"GA_"+[m.action,m.category,m.label,m.value].filter(function(b){return b===0||!!b}).join("-")}(l),y=function(m){return"GA_"+m.action}(l);hj.log.debug("intercepting ".concat(h,": ")+JSON.stringify(l)),hj("event",d),d!==y&&hj("event",y),hj.event.signal("int.ga",l)}}var Us,Le,ki={gaClientSent:!1,gtagClientSent:!1,dataLayerSent:!1},ue=function(h){return ki[h]},ci=function(h,l){ki[h]&&(ki[h]=l)},xe=ut("ga.forward_events","integration"),ze=!1,Gt={setup:hj.tryCatch(function(){if(!ze){ze=!0;var h=xs(),l=typeof window.gtag=="function";nt(function(){return window.dataLayer!==void 0&&window.dataLayer.length!==void 0},function(d){if(d)return xe("Intercepting dataLayer"),function(){var m=window.dataLayer;if(m._hj!==!0){m.forEach(function(D){$e("dataLayer",D)});var b=m.push;m.push=function(){b.apply(m,arguments),$e("dataLayer",arguments[0])},m._hj=!0}}(),void(ue("dataLayerSent")||(hj.metrics.count("ga-version",{tag:{version:"datalayer"}}),ci("dataLayerSent",!0)));var y;l&&(xe("Intercepting gtag"),y=window.gtag,window.gtag=function(){var m=Array.prototype.slice.call(arguments);y.apply(null,m),$e("gtag",m)},ue("gtagClientSent")||(hj.metrics.count("ga-version",{tag:{version:"gtag"}}),ci("gtagClientSent",!0)))},3e3,5),h&&(xe("Intercepting ga"),(0,window[window.GoogleAnalyticsObject||"ga"])(function(d){var y=d.get("sendHitTask");d.set("sendHitTask",function(m){y(m);var b=function(D){var M=decodeURIComponent(D).split("&").map(function(R){return R.split("=")}).filter(function(R){var j=function($,W,et){if(W&&!Array.isArray(W)&&typeof W.length=="number"){var gt=W.length;return Ht(W,1<gt?1:gt)}return $(W,1)}(ai,R)[0];return["t","ec","ea","el","ev"].indexOf(j)>-1}).reduce(function(R,j){var $;return De(De({},R),{},(($={})[j[0]]=j[1],$))},{});return M.t?{event:M.t,category:M.ec||"",action:M.ea||"",label:M.el||"",value:M.ev||""}:{}}(m.get("hitPayload"));b.event==="event"&&ms("ga",b)})}),ue("gaClientSent")||(hj.metrics.count("ga-version",{tag:{version:"ga"}}),ci("gaClientSent",!0)))}},"ga.forward_events")},ct=ut("ga.send_hjuid"),Vs=60,yn=!0,En=!1,ys=hj.tryCatch(function(){En||(En=!0,hj.store.session.on("user.id",function(h){typeof h!="string"||h.length<8?ct("invalid userid: '".concat(h,"'")):(ct("got userId"),Le=h.substring(0,8),Es())}),or())},"integrations.googleAnalytics"),or=hj.tryCatch(function(){if(!Us){if(xs()){ue("gaClientSent")||(hj.metrics.count("ga-version",{tag:{version:"ga"}}),ci("gaClientSent",!0));var h=window[window.GoogleAnalyticsObject||"ga"];return ct("`ga` variable is available, waiting for tracker."),void h(function(l){Di(l,!0)})}Vs<=0?ct("given up looking for GA module"):(Vs-=1,setTimeout(or,500))}},"integrations"),Di=hj.tryCatch(function(h,l){h&&(Us&&l||(Us!==h&&(ct("got fresh tracker"),yn=!0),Us=h,Es()))},"integrations"),Es=hj.tryCatch(function(){yn&&Le&&Us&&(yn=!1,Us.send("event","Hotjar","detect_user",Le,{nonInteraction:1}),ct("successfully sent detect_user event"))},"integrations"),bo={setup:ys,setTracker:hj.tryCatch(function(h){Di(h,!1)},"integrations.googleAnalytics")},ar=ut("ga.send_hjuid_gtag"),Ae=!1,li=hj.tryCatch(function(){if(!Ae){Ae=!0;var h=window.dataLayer;h!==void 0?(ue("datalayerSent")||(hj.metrics.count("ga-version",{tag:{version:"datalayer"}}),ci("datalayerSent",!0)),ue("gtagClientSent")||(hj.metrics.count("ga-version",{tag:{version:"gtag"}}),ci("gtagClientSent",!0)),hj.store.session.on("user.id",function(d){if(d&&typeof d=="string"&&!(d.length<8)){var y=d.substring(0,8);l("set","user_properties",{hjuid:y}),l("event","detect_user",{event_category:"Hotjar",event_label:y,non_interaction:!0})}})):ar("`dataLayer` is undefined")}function l(){var d;ar("calling gtag(".concat((d=arguments,Array.from(d).map(function(y){return JSON.stringify(y)})),")")),h.push(arguments)}},"ga.send_hjuid_gtag"),Sn={forwardEvents:Gt,sendHotjarUserId:bo,sendHotjarUserIdGtag:{setup:li}},Ao=function(){return hj.bridge.storage.items.HUBSPOT_UTK.get()!==null},Li=ut("hubspot","integrations"),cr={setup:hj.tryCatch(function(){Li("HubSpot setup started"),nt(Ao,function(h){if(h){var l=hj.bridge.storage.items.HUBSPOT_UTK.get();Li("HubSpot UTK found: ".concat(l)),hj.event.signal("int.hubspot",{utk:l})}else Li("HubSpot UTK cookie not found")},5e3,5)},"hubspot.setup")},To=ut("kissmetrics","integration"),lr=function(){return window.KM!==void 0&&window.KM.i!==void 0},Ro={setup:hj.tryCatch(function(){nt(lr,function(h){if(h){var l=window.KM.i();To("Kissmetrics User ID found: ".concat(l)),hj("identify",null,{kissmetrics_id:l})}},5e3,5)},"kissmetrics.setup")},vn=ut("mixpanel.send_events"),Co=function(){return window.mixpanel!==void 0&&window.mixpanel.set_config!==void 0},Io={setup:hj.tryCatch(function(){nt(Co,function(h){h?(vn("Registering mixpanel hook"),window.mixpanel.set_config({hooks:{before_send_events:function(l){var d=Rt(l.event);return vn("sending mixpanel payload: ".concat(l.event)),hj("event","MP_".concat(d)),hj.event.signal("int.mp",{event:d}),l}}})):vn("mixpanel global object not found or set_config not ready")},3e3,5)},"mixpanel.setup")},xi=ut("optimizely","integration"),Ss=window.optimizely;function hr(){xi("looking for tags.");var h=Ss.get("state").getExperimentStates({isActive:!0});for(var l in h){var d=h[l],y=(d.isInExperimentHoldback?"HB_":"")+d.experimentName,m=d.variation.name||d.variation.id;hj.event.signal("exp.opt",{experimentId:y,variantId:m}),hj("event",y+"/"+m)}}var Po={setup:hj.tryCatch(function(){Ss!==void 0&&typeof Ss.push=="function"&&typeof Ss.get=="function"&&Ss.get("state")!==void 0&&Ss.get("data")!==void 0?(xi("listening for campaignDecided event."),(Ss=window.optimizely||[]).push({type:"addListener",filter:{name:"campaignDecided"},handler:function(h){h.name==="applied"&&(xi("campaign decided; ready to tag experiments."),hr())}}),hr()):xi("`window.optimizely` is not ready")},"optimizely.setup")},Oo={setup:hj.tryCatch(function(){window.ub!==void 0&&window.ub.page!==void 0&&window.ub.page.variantId!==void 0?(hj.log.debug("Unbounce experiment in page '".concat(window.ub.page.name,"' is on variant '").concat(window.ub.page.variantId,"'"),"integration",window.ub),hj.event.signal("exp.ub",{experimentId:window.ub.page.name,variantId:window.ub.page.variantId}),hj("event","".concat(Rt(window.ub.page.name),"-variant-").concat(window.ub.page.variantId))):hj.log.debug("Unbounce experiment not found","integration")},"unbounce.setup")},No=hj.tryCatch(function(){var h=hj.settings.integrations;if(h){var l=hj.bridge.getSessionUserId();hj.store.session.set("user.id",l),h.optimizely&&h.optimizely.tag_recordings&&Po.setup(),h.google_analytics&&(h.google_analytics.tag_sessions&&Sn.forwardEvents.setup(),h.google_analytics.send_hotjar_id&&(Sn.sendHotjarUserId.setup(),Sn.sendHotjarUserIdGtag.setup())),h.unbounce&&h.unbounce.tag_recordings&&Oo.setup(),h.mixpanel&&h.mixpanel.send_events&&Io.setup(),h.hubspot&&h.hubspot.enabled&&h.hubspot.send_recordings&&cr.setup(),h.abtasty&&h.abtasty.tag_recordings&&Mi.setup(),h.kissmetrics&&h.kissmetrics.send_user_id&&Ro.setup()}},"integrations"),ur=!1,hi=function(h){var l=h.title,d=h.message,y=h.status,m=window.hjLazyModules;ur?hj.widget.renderNotificationWidget({title:l,message:d,status:y}):Ii(m.NOTIFICATION,function(){ur=!0,hj.widget.renderNotificationWidget({title:l,message:d,status:y})})};function Ui(){return Ui=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(h[y]=d[y])}return h},Ui.apply(this,arguments)}var Te,Mo=(Te={_sendVerifyInstallation:function(h){var l="".concat(hj.apiUrlBase,"/client/sites/").concat(hj.settings.site_id,"/verify-installation?sv=").concat(_hjSettings.hjsv||0);hj.ajax.post(l,{},hj.tryCatch(h,"init._sendVerifyInstallation"))},_reportVerificationResults:function(h,l,d){if(h){var y=ge.hasFeature("tcvs_v2")?"https://".concat(hj.environment==="live"?"tcvsapi.contentsquare.com":"gateway-tcvs.staging.eu-west-1.csq.io","/v1/verification/").concat(h,"/result"):"".concat(hj.apiUrlBase,"/tcvs/verification/").concat(h,"/result"),m=Ui(Ui({},d&&{error_detail:d}),{},{status:l});(ge.hasFeature("tcvs_v2")?hj.ajax.postAsJSON:hj.ajax.post)(y,m,function(){hj.tcVerificationResultsSent=!0},function(b){b&&b.status!==400&&b.status!==404&&hj.exceptions.log(new Error("TCVS endpoint failed"),"init._reportVerificationResults"),hj.tcVerificationResultsSent=!0})}}},{verifyInstallationAuto:function(){if(hj.settings.tracking_code_verified)hj.log.debug("Tracking code verified.","init");else{hj.log.debug("Tracking code verified not found, updating first data.","init");var h="".concat(hj.apiUrlBase,"/client/sites/").concat(hj.settings.site_id,"/verify-installation/auto");hj.ajax.post(h,{},void 0,function(l){hj.exceptions.log(new Error("Url: ".concat(h," - Status: ").concat(l.status)),"init._verifyInstallationAuto")})}},verifyInstallation:function(){var h,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Hotjar",d=C("hjVerifyInstall"),y=C("hjVerifyUUID"),m=function(){hi({title:"".concat(l," installation invalid"),message:"The tracking code you are trying to verify does not match the one installed on this page. Please make sure you install the correct tracking code provided for this site.",status:"bad"}),Te._reportVerificationResults(y,"wrong_code",{expected:String(hj.verifyInstall),actual:String(hjSiteSettings.site_id)});var W="Passed Site ID: ".concat(hj.verifyInstall," != Configured Site ").concat(hj.settings.site_id);hj.exceptions.log(new Error(W),"init._verifyInstallation")};try{h=sessionStorage.getItem("hjVerifyInstall")}catch{}if(d||h){hj.verifyInstall=parseInt(d||h);try{sessionStorage.setItem("hjVerifyInstall",d||h)}catch{}if(window.hjBootstrapCalled&&window.hjBootstrapCalled.length>1){var b,D=window.hjBootstrapCalled.filter(function(W,et){return window.hjBootstrapCalled.indexOf(W)===et}),M="You have "+window.hjBootstrapCalled.length+" tracking scripts installed on your site. ",R=window.hjBootstrapCalled.length===2?"script as this":"scripts as these",j=!!window.dataLayer;D.length>1?(b=M+"Please remove the duplicate "+R+" will cause issues.",hi({title:"Multiple different ".concat(l," scripts detected"),message:b,status:"bad"}),Te._reportVerificationResults(y,"multiple_codes",{expected:String(hj.verifyInstall),actual:D,gtm:!1})):j?(b=M+"If you've installed ".concat(l," through GTM - please remove the duplicate ")+R+" will cause issues.",Te._reportVerificationResults(y,"multiple_codes",{expected:String(hj.verifyInstall),actual:D,gtm:!0}),hi({title:"Multiple ".concat(l," scripts detected"),message:b,status:"bad"})):hj.verifyInstall===hj.settings.site_id?(b=M+"This will not affect data collection, but we do suggest removing redundant scripts.",Te._reportVerificationResults(y,"warning",{expected:String(hj.verifyInstall),reason:"multiple scripts"}),hi({title:"Multiple ".concat(l," scripts detected"),message:b,status:"warning"})):m();var $="Passed Site ID: "+hj.verifyInstall+" contains multiple scripts "+window.hjBootstrapCalled.join(", ");hj.exceptions.log(new Error($),"init._verifyInstallation")}else hj.verifyInstall===hj.settings.site_id?(Te._sendVerifyInstallation(function(W){W.success||hj.exceptions.log(new Error("Verify installation endpoint failed"),"init._verifyInstallation")}),hi({title:"".concat(l," installation verified"),message:"The ".concat(l," tracking code has been properly installed on this page. ")+"Browse your site in this window if you wish to verify installation on any other pages.",status:"good"}),Te._reportVerificationResults(y,"ok")):m()}}}).verifyInstallation,ko=n.u6,Do=n.b2,dr=n.Vv,pr=n.pF,ui=n.XA,Lo=n.fd,fr=n.ec;return{cn:ko,un:Do,ln:dr,dn:pr,hn:ui,gn:Lo,fn:fr}}(),hS=_i.cn,uS=_i.un,dS=_i.ln,Pa=_i.dn,pS=_i.hn,Oa=_i.gn,fS=_i.fn,gS=60*60*24*1e3,mS=gS*365,ea=(s,n,t=mS)=>({add:e=>{let i=n.get(s),r=i?`${i},${e}`:e;n.set({key:s,value:r,duration:t})},exists:e=>{let i=(n.get(s)==null?void 0:csString.prototype.split.call(n.get(s),","))||[];for(let r=0;r<i.length;r++)if(csString(e)===i[r])return!0;return!1},remove:e=>{let i=(n.get(s)==null?void 0:csString.prototype.split.call(n.get(s),","))||[],r=csArray.prototype.join.call(csArray.prototype.filter.call(i,o=>o!==csString(e)),",");n.set({key:s,value:r,duration:t})}}),Bi=(s,n,t=!1)=>({set:e=>n.set({key:s,value:e,useLocalStorage:t}),get:()=>n.get(s,t),clear:()=>n.clear(s,t)}),yS=(()=>{class s{constructor(t,e,i){this.h=t,this.M=e,this.xt=i}get(t,e){return this.h.cookielessTrackingEnabled||e?this.xt.getItem(t):this.M.get(t)||this.xt.getItem(t)}set(t){this.h.cookielessTrackingEnabled||t.useLocalStorage?this.xt.setItem(t.key,t.value):this.M.set(t.key,t.value,t.duration)}clear(t,e){this.h.cookielessTrackingEnabled||e?this.xt.removeItem(t):this.M.delete(t)}}return s})(),ES=(s,n,t)=>{hj.bridge={storage:{items:{POLL_DONE:ea("_hjDonePolls",s),POLL_MINIMIZED:ea("_hjMinimizedPolls",s),SURVEY_INVITES_CLOSED:ea("_hjClosedSurveyInvites",s),DEBUG_FLAG:Bi("hjDebug",s),FEEDBACK_SHOW_MESSAGE:Bi("_hjShownFeedbackMessage",s),HUBSPOT_UTK:Bi("hubspotutk",s),HAS_CACHED_USER_ATTRIBUTES:Bi("_hjHasCachedUserAttributes",s),USER_ATTRIBUTES_HASH:Bi("_hjUserAttributesHash",s)},localStorage:{USER_ATTRIBUTES:Bi("_hjUserAttributes",s,!0)}},getSessionUserId:()=>{let e=n.getVisitor();return e==null?void 0:e.id},getSessionFirstSeen:()=>{},getPageContent:e=>t==null?void 0:t.getPageContent(e),isRecordingEnabled:()=>!1,flushUserAttributes:()=>null}};function SS(){window._uxa.push(["replay:link:generate",{},({isRecording:s,replayLink:n})=>{typeof hj=="function"&&s&&n&&hj("identify",null,{contentsquare_replay_link:`https://${n}&vd=hotjar`})}])}function Pl(s){let n=!1,t,e={},i=["event","trigger","identify"];function r(f){return!hj.optOut&&csArray.prototype.indexOf.call(i,f)>=0}function o(){Object.defineProperty(t,"push",{writable:!0,value:function(){for(let f=0;f<arguments.length;f+=1)this[this.length]=arguments[f];return c(),this.length}})}function c(){let f=csArray.prototype.slice.call(csArray.prototype.shift.call(t)),_=e[f[0]],A=csArray.prototype.slice.call(f,1);hj.log.debug("Processing command: "+f[0]+" "+csArray.prototype.join.call(csArray.prototype.map.call(A,function(T){return(typeof T=="object"||typeof T=="function")&&T!==null?csJSON.stringify(T):T}),", ")),typeof _!="function"?hj.log.debug('Unknown command: "'+f[0]+'"',"command"):r(f[0])?Q.tryToExecute("hj-command",_)(A):hj.log.debug('Command "'+f[0]+'" blocked due to opt-out',"command"),t.length>0&&Q.tryToExecute("hj-queue-command",c)()}function u(f){f[0]&&hj.event.signal("trigger:"+f[0])}function p(f){let _=f[0];if(f[1]){let A;!_&&_!==0||_==="null"||_==="undefined"?A=null:A=csString(_),hj.userAttributes.set(A,f[1])}else _!=null&&typeof _=="object"&&hj.userAttributes.set(null,_)}return e.event=function(f){if(u(f),f&&f.length>0){let _=f[0];s.pushExternalEvents([_])}},e.identify=function(f){p(f)},e.trigger=function(f){u(f)},{activate:function(){!n&&hj&&(t=hj.q,n=!0,o(),t.length>0&&c())},isActive:()=>n}}var Ie={invitationDisplayed:"surveyInvitationDisplayed",displayed:"surveyDisplayed",submitted:"surveySubmitted",completed:"surveyCompleted",responseUrl:"surveyResponseUrl"},bn={[Ie.invitationDisplayed]:"Survey Invitation Displayed",[Ie.displayed]:"Survey Displayed",[Ie.submitted]:"Survey Response Submitted",[Ie.completed]:"Survey Completed",[Ie.responseUrl]:"Survey Response URL"},br={[Ie.invitationDisplayed]:"survey_invitation_displayed",[Ie.displayed]:"survey_displayed",[Ie.submitted]:"survey_response_submitted",[Ie.completed]:"survey_completed"},sa="FB_HJ_",vS=(()=>{class s{constructor(t){this.Yf=[],this.$e=t}Vr(t,e,i,r,o){let c=`${t}-${i}`,u=sa+e,p=o?t:`Survey ID : ${i}`,S=!1,f=`${window.location.pathname}?cs_hotjar=${r}`;csArray.prototype.includes.call(this.Yf,c)||(csArray.prototype.push.call(this.Yf,c),this.$e.pushDynamicVariable(u,p)),S&&r&&this.$e.pushPageView(f)}listen(){window.addEventListener("hotjar-survey-event",t=>{if(t&&t.detail&&t.detail.event){let{event:e,surveyId:i,question:r,questionIndex:o,response:c,insightsUrl:u}=t.detail;if(i)switch(e){case Ie.invitationDisplayed:this.Vr(e,bn.surveyInvitationDisplayed,i,br.surveyInvitationDisplayed);break;case Ie.displayed:this.Vr(e,bn.surveyDisplayed,i,br.surveyDisplayed);break;case Ie.completed:this.Vr(e,bn.surveyCompleted,i,br.surveyCompleted);break;case Ie.submitted:{if(this.Vr(e,bn.surveySubmitted,i,br.surveySubmitted),r){let p=c&&c[0]&&c[0].answer;r.type!="multiple-close-ended"&&r.text&&typeof p!="undefined"&&(isNaN(p)||(p=parseInt(p)),this.$e.pushDynamicVariable(`${sa+i} : ${r.text}`,p),this.$e.pushDynamicVariable(`${sa+i} : Question ${o+1}`,p))}u&&this.Vr(u,bn.surveyResponseUrl,i,null,!0)}break}}})}}return s})(),Ol=250,Na=class{constructor(n){this.J=n}pushPageView(n){window._uxa.push(["trackPageview",n])}pushDynamicVariable(n,t){window._uxa.push(["trackDynamicVariable",{key:n,value:t}])}pushInternalEvents(n){csArray.prototype.forEach.call(n,({key:t,val:e})=>this.pushDynamicVariable(t,e))}pushExternalEvents(n){var t;if(!this.J)return;let e=this.Ob(n);for(let i=0;i<e.length;i+=1){let r=this.Nb(e[i]);r.length&&r.length<=Ol?(hj.log.debug(`Sending event: tag_recording:${r}`),(t=this.J)===null||t===void 0||t.emitExternalEvent(r)):Q.warn(`Invalid recording tag: " ${r} ", should have length 1.. ${Ol} characters, was ${r.length}.`)}}Mb(n){let t=typeof n=="string";return!!(Ge.mayHaveNumberSequence(n.toString())||t&&csString.prototype.indexOf.call(n,"@")>-1&&Ge.mayHaveEmail(n)||t&&Ge.mayHaveIPAddress(n))}Ob(n){let t=/^[a-zA-Z0-9 _\-.:/]*$/;return n?csArray.prototype.filter.call(n,e=>e?t.test(e.toString())?this.Mb(e)?(hj.log.debug("Tag "+e+" has been removed due to possible PII information included"),!1):!0:(hj.log.debug("Tag "+e+" has been removed due to having invalid characters"),!1):!1):[]}Nb(n){return typeof n=="string"?csString.prototype.replace.call(n,/^\s+|\s+$/gm,""):""}},wS=Na,Ma=class{constructor(n){this.$e=n}send(n){hj.log.debug(`Sending tags: ${csJSON.stringify(n)}`),this.$e.pushInternalEvents(n)}tag(n,t,e,i,r){let o=this;return function(c){if(c){let u=csArray.prototype.reduce.call(e,function(p,S){let f=n,_="",A=Object.keys(S);return csArray.prototype.forEach.call(A,function(T){let x=S[T],U=c[x];U==null&&(U=""),i&&(U=i(x,U)),x===t&&(_=U),x===t&&!r?f+=`.${T}`:U!==""&&(f+=`.${T}:${U}`)}),csArray.prototype.push.call(p,{key:f,val:_}),p},[]);o.send(u)}}}setup({vocEnabled:n,integrationsEnabled:t}){let e=function(p,S){return typeof S=="string"?csString.prototype.replace.call(S,/\.|:/g,"_"):S},i=function(p,S){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.toString.call(S),".e:",".E:"),".v:",".V:"),".c:",".C:")},r=function(p,S){if(p==="answer"){let _=parseInt(S);return isNaN(_)?(Q.warn(`Poll question answer should be a number type, received ${S} instead`),S):_}return p!=="type"?S:{"rating-scale-5":"rating5","rating-scale-7":"rating7","net-promoter-score":"nps","single-close-ended":"singleClose","multiple-close-ended":"multiClose","single-open-ended-multiple-line":"singleOpenMulti","single-open-ended-single-line":"singleOpenSingle"}[S]||S},o={"poll.show":this.tag("poll.show","id",[{id:"id"}]),"poll.send":this.tag("poll.send","response_id",[{id:"id",r_id:"response_id"}]),"poll.question":this.tag("poll.q","answer",[{t:"type",a:"answer",id:"id",qid:"questionUuid"}],r),"feedback.show":this.tag("feedback.show","id",[{id:"id"}]),"feedback.send":this.tag("feedback.send","id",[{id:"id"}]),"feedback.sentiment":this.tag("feedback.sentiment","emotion",[{e:"emotion",id:"id",r_id:"response_id"}]),"survey.show":this.tag("survey.show","id",[{id:"id"}]),"survey.open":this.tag("survey.open","id",[{id:"id"}])},c={"exp.opt":this.tag("exp.opt","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.ub":this.tag("exp.ub","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.abt":this.tag("exp.abt","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.go":this.tag("exp.go","variantId",[{e:"experimentId",v:"variantId",c:"containerId"}],i),"int.ga":this.tag("int.ga","action",[{a:"action"}],e,!0),"int.mp":this.tag("int.mp","event",[{event:"event"}],e,!0),"int.hubspot":this.tag("int.hubspot","utk",[{utk:"utk"}])};return Object.assign({},n?o:{},t?c:{})}listen(n){let t=this.setup(n);csArray.prototype.forEach.call(Object.keys(t),function(e){hj.event.listen(e,t[e])})}},_S=Ma,Nl=["start:hotjar"],bS="static.hj.contentsquare.net",fu=(()=>{class s{constructor(t,e,i,r,o,c,u,p,S){this.h=t,this.f=e,this.M=i,this.xt=r,this.C=o,this.A=c,this.kb=u,this.J=p,this.Db=S,this.Li=!1,this.jr=!1,this.nt=new yS(this.h,this.M,this.xt),this.$e=new wS(this.J)}init(){var t,e,i;this.Li=this.h.isSMB,this.jr=!!(!((t=this.h.voc)===null||t===void 0)&&t.enabled&&(!((e=this.h.voc)===null||e===void 0)&&e.siteId)),this.ht(),uS({uuid:pu.generate}),ES(this.nt,this.C,this.kb),this.Li&&Pl(this.$e).activate(),(i=this.Db)===null||i===void 0||i.start()}onAfterNaturalPageView(){this.startHotjar()}onAfterArtificialPageView(){if(this.jr){let t=this.A.getUrl();hj.currentUrl=t,Pa(),Oa(t)}}startHotjar(){var t;if(this.Li&&window.hjSiteSettings&&window._uxa.push([Nl,window.hjSiteSettings]),!this.Li&&this.jr){let e=(t=this.h.voc)===null||t===void 0?void 0:t.siteId,i=window.document,r=i.head||i.getElementsByTagName("head")[0],o=i.createElement("script");o.async=!0,o.src=`https://${bS}/c/hotjar-${e}.js`,o.charset="utf-8",r.appendChild(o)}}ht(){this.f.register(Nl,t=>{if(t&&(hj.settings=t,hS(),new _S(this.$e).listen({vocEnabled:this.jr,integrationsEnabled:this.Li}),this.Li?(hj.scriptLoaded=!0,dS(),pS(),window.hjBootstrapCalled=csArray.prototype.concat.call(window.hjBootstrapCalled||[],t.site_id),fS("Contentsquare")):Pl(this.$e).activate(),this.jr)){let i=this.A.getUrl();hj.currentUrl=i,this.Li||new vS(this.$e).listen(),Pa(),SS(),Oa(i)}})}}return s})();var ws;(function(s){s.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",s.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",s.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",s.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"})(ws||(ws={}));var ns;(function(s){s.START="start",s.NOT_START="not-start",s.END="end",s.NOT_END="not-end",s.CONTAIN="contain",s.NOT_CONTAIN="not-contain",s.EXACT="exact",s.NOT_EXACT="not-exact"})(ns||(ns={}));var gu=(()=>{class s{constructor(t,e,i,r){this.pe=t,this.h=e,this.A=i,this.Hr=r}init(){this.Vb()}shouldMaskNonTextElements(){if(this.h.anonymisationMethod!==ws.replayRecordingMaskedUrlRegexRules)return!1;if(this.h.isSMB)return this.shouldUseAnonymization();let t=this.Hr.getMatchingRules(this.A.getAnonymizedUrl());return csArray.prototype.some.call(t,e=>e.maskMedia)}shouldUseAnonymization(){if(this.pe.isReplayUnanonymizedAllowedByConsent()){switch(this.h.anonymisationMethod){case null:case ws.replayRecordingMaskedUrlRegex:return!!(this.h.replayRecordingMaskedUrlRegex&&this.h.replayRecordingMaskedUrlRegex.test(this.A.getAnonymizedUrl()));case ws.replayRecordingMaskedUrlRegexRules:return this.Hr.evaluateUrl(this.A.getAnonymizedUrl())}return!1}else{switch(this.h.anonymisationMethod){case null:case ws.replayRecordingUnmaskedUrlRegex:return!(this.h.replayRecordingUnmaskedUrlRegex&&this.h.replayRecordingUnmaskedUrlRegex.test(this.A.getAnonymizedUrl()));case ws.replayRecordingUnmaskedUrlRegexRules:return!this.Hr.evaluateUrl(this.A.getAnonymizedUrl())}return!0}}Vb(){this.h.anonymisationMethod===ws.replayRecordingMaskedUrlRegexRules&&this.h.replayRecordingMaskedUrlRegexRules?this.Hr.setRegexRules(this.h.replayRecordingMaskedUrlRegexRules):this.h.anonymisationMethod===ws.replayRecordingUnmaskedUrlRegexRules&&this.h.replayRecordingUnmaskedUrlRegexRules&&this.Hr.setRegexRules(this.h.replayRecordingUnmaskedUrlRegexRules)}}return s})(),mu=(()=>{class s{constructor(){this.Ih=[]}setRegexRules(t){this.Ih=csArray.prototype.map.call(t,e=>this.jb(e))}evaluateUrl(t){return csArray.prototype.some.call(this.Ih,e=>this.Jf(t,e))}getMatchingRules(t){return csArray.prototype.filter.call(this.Ih,e=>this.Jf(t,e))}Jf(t,e){var i,r;let o=this.Hb(t,e);return!!(e!=null&&e.notOperator?!(!((i=e.regex)===null||i===void 0)&&i.test(o)):!((r=e.regex)===null||r===void 0)&&r.test(o))}Hb(t,e){let i=Xa(t);return i?e.ignoreQueryParams&&e.ignoreURIFragments?`${i.origin}${i.pathname}`:e.ignoreQueryParams?`${i.origin}${i.pathname}${i.hash}`:e.ignoreURIFragments?`${i.origin}${i.pathname}${i.search}`:t:t}_a(t){return t.ignoreCaseSensitivity?"i":""}jb(t){switch(t.operator){case ns.NOT_START:t.notOperator=!0;case ns.START:t.regex=new csRegExp(`^${t.value}`,this._a(t));break;case ns.NOT_END:t.notOperator=!0;case ns.END:t.regex=new csRegExp(`${t.value}$`,this._a(t));break;case ns.NOT_CONTAIN:t.notOperator=!0;case ns.CONTAIN:t.regex=new csRegExp(`${t.value}`,this._a(t));break;case ns.NOT_EXACT:t.notOperator=!0;case ns.EXACT:t.regex=new csRegExp(`^${t.value}$`,this._a(t));break;default:Q.warn(`buildRegexWithRule, unknown type: ${t.operator}`)}return t}}return s})(),yu=(()=>{class s{constructor(){this.Bb=["application/json","application/graphql","application/xml","text/plain","text/csv","text/html","text/xml","text/javascript"]}setCollectionOptions(t){this.Ph=t}isValidBodyType(t){let e=t["content-type"];if(!e)return!1;let i=csString.prototype.toLocaleLowerCase.call(e);return Vr(this.Bb,r=>Ps(i,r))}canCollect(t,e){return this.Fb(t,e)&&this.$b(e)}Fb(t,e){return t>=400||t>=200&&t<300&&this.Ph.statusCodes.has(t)&&this.Oh(e)}Oh(t){return Vr(this.Ph.urls,e=>csString.prototype.indexOf.call(t,e)!==-1)}$b(t){return za(this.Ph.excludedDomains,e=>csString.prototype.indexOf.call(t,e)===-1)}}return s})(),AS=0,TS=(()=>{class s extends yu{constructor(){super(),this.$t=csSymbol("ApiCall"),this.N=!1,this.bn=null,this.An=null,this.ba=null,this.zb=({context:t,args:e,callerName:i})=>this.interceptOpen(t,e,i),this.qb=({context:t,args:e})=>this.interceptSetRequestHeader(t,e),this.Gb=({context:t,args:e})=>this.interceptSend(t,e)}onEvent(t){this.O=t}start(){this.N||(this.Nh(),this.bn&&this.bn.activate(),this.An&&this.An.activate(),this.ba&&this.ba.activate(),this.N=!0)}stop(){this.N&&(this.bn&&this.bn.deactivate(),this.An&&this.An.deactivate(),this.N=!1)}Nh(){this.bn||(this.bn=Ce({target:XMLHttpRequest.prototype,methodName:"open",hook:this.zb,options:{withCallerName:!0}})),this.An||(this.An=Ce({target:XMLHttpRequest.prototype,methodName:"setRequestHeader",hook:this.qb})),this.ba||(this.ba=Ce({target:XMLHttpRequest.prototype,methodName:"send",hook:this.Gb}))}interceptOpen(t,e,i){if(!e[1]||!L(e[1]))return;let[r,o]=csString.prototype.split.call(e[1],"?");t[this.$t]={library:i,requestTime:z.now(),method:e[0],url:cs(r),queryParameters:o,statusCode:AS,responseHeaders:{},requestHeaders:{},responseBody:"",requestBody:""},t.addEventListener("readystatechange",()=>this.readyStateChangeListener(t))}readyStateChangeListener(t){t[this.$t]&&t.readyState===XMLHttpRequest.DONE&&this.canCollect(t.status,t[this.$t].url)&&(t[this.$t].responseTime=z.now(),t[this.$t].statusCode=t.status,t[this.$t].responseHeaders=this.Wb(t.getAllResponseHeaders()),super.isValidBodyType(t[this.$t].responseHeaders)&&(t.responseType===""||t.responseType==="text")&&(t[this.$t].responseBody=t.responseText),this.O(t[this.$t]))}interceptSetRequestHeader(t,e){if(!t[this.$t])return;let i=e[0],r=csString.prototype.valueOf.call(new csString(e[1]));typeof i!="string"||r.length===0||(i=csString.prototype.toLowerCase.call(csString.prototype.trim.call(i)),r=csString.prototype.trim.call(r),t[this.$t].requestHeaders[i]?t[this.$t].requestHeaders[i]+=`, ${r}`:t[this.$t].requestHeaders[i]=r)}interceptSend(t,e){t[this.$t]&&super.isValidBodyType(t[this.$t].requestHeaders)&&typeof e[0]=="string"&&(t[this.$t].requestBody=e[0])}Wb(t){let e={};return csArray.prototype.forEach.call(csString.prototype.split.call(t,/[\r\n]+/),i=>{let[r,o]=csString.prototype.split.call(i,/:\s*/);o&&(e[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(o))}),e}}return Z([H("XhrRequestTracker.interceptOpen")],s.prototype,"interceptOpen",null),Z([H("XhrRequestTracker.readyStateChangeListener")],s.prototype,"readyStateChangeListener",null),Z([H("XhrRequestTracker.interceptSetRequestHeader")],s.prototype,"interceptSetRequestHeader",null),Z([H("XhrRequestTracker.interceptSend")],s.prototype,"interceptSend",null),s})(),RS=(()=>{class s extends yu{constructor(){super(),this.N=!1,this.Tn=null,this.Yb=({result:t,args:e,callerName:i})=>{this.interceptFetch(t,e,i)}}onEvent(t){this.O=t}start(){this.N||this.Xb()&&(this.Kb(),this.Tn&&this.Tn.activate(),this.N=!0)}stop(){this.N&&(this.Tn&&this.Tn.deactivate(),this.N=!1)}Xb(){return!!window.fetch&&typeof window.fetch=="function"}Jb(t){if(t[0]&&typeof t[0].clone=="function"){let e=Xi(t);return e[0]=t[0].clone(),e}return t}Kb(){this.Tn||(this.Tn=Ce({target:window,methodName:"fetch",hook:this.Yb,hookPrepareArgs:this.Jb,options:{withCallerName:!0}}))}async interceptFetch(t,e,i){let r=e[0],o=e[1],c=new Request(r,o);if(!L(c.url))return;let u=z.now(),p;try{p=await t}catch(A){if(this.Qb(A)||this.Qf(A)||this.Zb(A)||this.tA(A))return;throw A}let[S,f]=csString.prototype.split.call(c.url,"?"),_=cs(S);if(p&&super.canCollect(p.status,_)){let A={library:i,method:c.method,url:_,queryParameters:f,requestTime:u,responseTime:z.now(),statusCode:p.status,requestBody:"",responseBody:"",requestHeaders:this.Zf(c.headers),responseHeaders:this.Zf(p.headers)};if(!p.bodyUsed&&super.isValidBodyType(A.responseHeaders))try{A.responseBody=await p.clone().text()}catch(T){if(this.Qf(T))return}super.isValidBodyType(A.requestHeaders)&&(A.requestBody=await c.text()),this.O(A)}}Qb(t){return t instanceof TypeError}Qf(t){return t instanceof DOMException&&t.name==="AbortError"}tA(t){return t instanceof DOMException&&t.name==="TimeoutError"}Zb(t){return t instanceof DOMException&&csArray.prototype.some.call(s.eA,e=>e===t.name)}Zf(t){let e={};return t.forEach((i,r)=>{i&&(e[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(i))}),e}}return s.eA=["NoModificationAllowedError","InvalidStateError","OperationError"],Z([H("FetchRequestTracker.interceptFetch")],s.prototype,"interceptFetch",null),s})(),CS=(()=>{class s{constructor(){this.sA=64e3,this.iA=5e3,this.nA=2e3,this.tg=8e3,this.Es=!!self.TextEncoder,this.Es&&(this.rA=new TextEncoder)}Br(t){return this.rA.encode(t).byteLength}eg(t,e,i){let r=0;t[e]&&(r+=this.Br(t[e]),r>this.tg&&(r=0,t[e]=Pt.ELLIPSIS)),t[i]&&(r+=this.Br(csJSON.stringify(t[i])),r>this.tg&&(t[i]=s.truncatedObjectMarker))}oA(t){t.queryParameters&&this.Br(t.queryParameters)>this.nA&&(t.queryParameters=Pt.ELLIPSIS)}aA(t){t.requestBody&&this.Br(t.requestBody)>this.sA&&(t.requestBody=Pt.ELLIPSIS),t.responseBody&&this.Br(t.responseBody)>this.iA&&(t.responseBody=Pt.ELLIPSIS)}truncate(t){this.Es?(this.oA(t),this.aA(t),this.eg(t,"customResponseHeaders","plainCustomResponseHeaders"),this.eg(t,"customRequestHeaders","plainCustomRequestHeaders")):(t.queryParameters="",t.requestBody="",t.responseBody="",t.customResponseHeaders="",t.customRequestHeaders="",t.plainCustomResponseHeaders={},t.plainCustomRequestHeaders={})}}return s.truncatedObjectMarker={[Pt.ELLIPSIS]:Pt.ELLIPSIS},s})(),IS=(()=>{let s;return function(n){function t(r){let o="[",c="]",u=[];for(let p=0;p<r.length;++p)if(r[p]===o)csArray.prototype.push.call(u,r[p]);else if(r[p]===c)if(csString.prototype.indexOf.call(r,o)>-1)csArray.prototype.pop.call(u);else return!1;return u.length===0}function e(r){if(!r)return!0;if(!t(r))return!1;let o=csString.prototype.split.call(r,/[\[\]]/);return csArray.prototype.every.call(o,c=>{let u=c[0],p=c[c.length-1];if((u==="'"||u==='"')&&u!==p)return!1;let S=csString.prototype.split.call(c,".");return S[0].length===0&&csArray.prototype.shift.call(S),csArray.prototype.every.call(S,f=>{let _=/^\-?\d+$/.exec(f);return _?parseInt(_[0],10)>=0:f==="$"||/\w+/.test(f)})})}n.isValidJSONPath=e;function i(r,o){if(!r)return;let c=csString.prototype.split.call(r,/[\$\[\]]/),u=[];csArray.prototype.forEach.call(c,S=>{if(S[0]==="'"||S[0]==='"'){csArray.prototype.push.call(u,csString.prototype.substring.call(S,1,S.length-1));return}csArray.prototype.push.call(u,...csArray.prototype.filter.call(csString.prototype.split.call(S,"."),f=>f.length>0))}),u[0]==="$"&&csArray.prototype.shift.call(u);let p=o;for(let S of u)if(p[S]!==void 0)p=p[S];else return;return p}n.getJSONPathValue=i}(s||(s={})),s})(),PS=(()=>{class s{constructor(){this.cA=new Set(["age","cache-control","clear-site-data","expires","pragma","warning","downlink","ect","rtt","last-modified","connection","keep-alive","accept","accept-encoding","accept-language","expect","access-control-allow-origin","access-control-allow-credentials","access-control-allow-headers","access-control-allow-methods","access-control-expose-headers","access-control-max-age","access-control-request-headers","access-control-request-method","origin","timing-allow-origin","content-length","content-type","content-encoding","content-language","via","host","referrer-policy","user-agent","allow","server","accept-ranges","range","if-range","content-range","cross-origin-embedder-policy","cross-origin-opener-policy","cross-origin-resource-policy","content-security-policy","content-security-policy-report-only","expect-ct","feature-policy","strict-transport-security","upgrade-insecure-requests","x-content-type-options","x-download-options","x-frame-options","x-permitted-cross-domain-policies","x-powered-by","x-xss-protection","sec-fetch-site","sec-fetch-mode","sec-fetch-user","sec-fetch-dest"])}isValidStandardHeader(t){return this.cA.has(t)}}return s})(),Eu=(()=>{class s{constructor(){this.lA=64e3,this.hA=100,this.L={collectQueryParam:!1,collectRequestBody:!1,collectResponseBody:!1,matchingBodyContents:[],plainResponseBodyAttributes:{},plainRequestBodyAttributes:{},requestBodyAttributes:{},responseBodyAttributes:{},standardRequestHeaders:{},standardResponseHeaders:{},customRequestHeaders:{},customResponseHeaders:{},plainCustomRequestHeaders:{},plainCustomResponseHeaders:{}},this.sg=new PS}uA(t){return t.length<=this.lA}dA(t){let e=t["content-type"];return e!==void 0&&(Ne(e,"application/json")||Ne(e,"application/graphql"))}pA(t,e){return t&&this.uA(t)&&this.dA(e)}Aa(t,e,i,r){let o=r==="request"?this.fA:this.gA;if(o!==void 0||this.pA(e,i)){if(o===void 0)try{o=csJSON.parse(e),r==="request"?this.fA=o:this.gA=o}catch{return}let c=IS.getJSONPathValue(t,o);if(c!==void 0&&(c===null||!ti(c))){let u=L(c)?c:csJSON.stringify(c);return Pt.truncate(u,this.hA,Pt.ELLIPSIS)}}}isBodyAttributeValueFound(t,e){let i,r;return(e.type==="request-response"||e.type==="response")&&(i=this.Aa(e.path,t.responseBody,t.responseHeaders,"response")),(e.type==="request-response"||e.type==="request")&&(r=this.Aa(e.path,t.requestBody,t.requestHeaders,"request")),dt(i)||dt(r)}collectBodyAttribute(t,e,i){let r;(e.type==="request-response"||e.type==="response")&&(r=this.Aa(e.path,t.responseBody,t.responseHeaders,"response"),r&&(e.encrypted?this.L.responseBodyAttributes[e.path]=r:(r=i(r),this.L.plainResponseBodyAttributes[e.path]=r))),(e.type==="request-response"||e.type==="request")&&(r=this.Aa(e.path,t.requestBody,t.requestHeaders,"request"),r&&(e.encrypted?r&&(this.L.requestBodyAttributes[e.path]=r):(r=i(r),this.L.plainRequestBodyAttributes[e.path]=r)))}isBodyContentMatching(t,e){return t.responseBody?!!new csRegExp(e,"i").test(t.responseBody):!1}collectBodyContent(t){csArray.prototype.indexOf.call(this.L.matchingBodyContents,t)===-1&&csArray.prototype.push.call(this.L.matchingBodyContents,t)}collectCustomHeaders(t,e,i){let r=csString.prototype.toLocaleLowerCase.call(e.headerName);t.responseHeaders[r]&&(e.type==="request-response"||e.type==="response")&&(e.encrypted?this.L.customResponseHeaders[r]=t.responseHeaders[r]:this.L.plainCustomResponseHeaders[r]=i(t.responseHeaders[r])),t.requestHeaders[r]&&(e.type==="request-response"||e.type==="request")&&(e.encrypted?this.L.customRequestHeaders[r]=t.requestHeaders[r]:this.L.plainCustomRequestHeaders[r]=i(t.requestHeaders[r]))}collectStandardHeaders(t){if(!(Object.keys(this.L.standardRequestHeaders).length>0||Object.keys(this.L.standardResponseHeaders).length>0)){for(let[e,i]of Object.entries(t.requestHeaders))this.sg.isValidStandardHeader(e)&&(this.L.standardRequestHeaders[e]=i);for(let[e,i]of Object.entries(t.responseHeaders))this.sg.isValidStandardHeader(e)&&(this.L.standardResponseHeaders[e]=i)}}setCollectQueryParam(t){t&&(this.L.collectQueryParam=!0)}setCollectResponseBody(t){t&&(this.L.collectResponseBody=!0)}setCollectRequestBody(t){t&&(this.L.collectRequestBody=!0)}getCollectedDataPoints(){return this.L}}return s})(),Rs=(()=>{let s;return function(n){n.CONTENTSQUARE="contentsquare.net",n.CLICKTALE="clicktale.net",n.FAKE_TRACKER="fake-tracker.content-square.fr"}(s||(s={})),s})(),Su=(()=>{class s{computeApiErrorCollectionOptions(){let t=new Set,e=[];if(this.rules)for(let r of this.rules)r.statusCode!==void 0&&t.add(r.statusCode),r.url!==void 0&&csArray.prototype.indexOf.call(e,r.url)===-1&&csArray.prototype.push.call(e,r.url);let i=[Rs.CONTENTSQUARE,Rs.CLICKTALE];return csArray.prototype.push.call(i,Rs.FAKE_TRACKER),{statusCodes:t,urls:e,excludedDomains:i}}}return s})(),OS=(()=>{class s extends Su{constructor(t,e){super(),this.Tt=t,this.I=e,this.rules=t.collectionRules}collectDataPoints(t,e){this.L=new Eu;let i=!1;if(this.Tt.collectionRules)for(let r of this.Tt.collectionRules)this.mA(r,t)&&this.yA(r,t)&&this.EA(r,t)&&(i=!0,this.SA(t,r,e));return i||(i=this.vA(t)),i&&e&&this.Tt.collectStandardHeaders&&this.L.collectStandardHeaders(t),i?this.L.getCollectedDataPoints():null}computeApiErrorCollectionOptions(){let t=this.Tt.collectionRules||[],e=new Set,i=[];for(let o of t)o.statusCode!==void 0&&e.add(o.statusCode),o.url!==void 0&&csArray.prototype.indexOf.call(i,o.url)===-1&&csArray.prototype.push.call(i,o.url);let r=[Rs.CONTENTSQUARE,Rs.CLICKTALE];return csArray.prototype.push.call(r,Rs.FAKE_TRACKER),{statusCodes:e,urls:i,excludedDomains:r}}mA(t,e){return(!t.statusCode&&e.statusCode>=400||t.statusCode!==void 0&&t.statusCode===e.statusCode)&&(!t.url||csString.prototype.indexOf.call(e.url,t.url)!==-1)}yA(t,e){return t.bodyContent?this.L.isBodyContentMatching(e,t.bodyContent):!0}EA(t,e){let i=csArray.prototype.find.call(t.bodyAttributePaths,r=>r.primary);return i===void 0?!0:this.L.isBodyAttributeValueFound(e,i)}vA(t){return t.statusCode>=400}SA(t,e,i){e.bodyContent&&this.L.collectBodyContent(e.bodyContent);let r=os(e.bodyAttributePaths,o=>o.primary===1);if(r&&this.L.collectBodyAttribute(t,r,o=>this.I.anonymizePII(o)),i){this.L.setCollectQueryParam(e.collectQueryParam),this.L.setCollectResponseBody(e.collectResponseBody),this.L.setCollectRequestBody(e.collectRequestBody);for(let c of e.customHeaders)this.L.collectCustomHeaders(t,c,u=>this.I.anonymizePII(u));let o=Ln(e.bodyAttributePaths,c=>!c.primary);for(let c of o)this.L.collectBodyAttribute(t,c,u=>this.I.anonymizePII(u))}}}return s})(),NS=(()=>{class s extends Su{constructor(t,e){super(),this.Tt=t,this.I=e,this.rules=t.configurableApiErrorRules}collectDataPoints(t,e){this.L=new Eu;let i=this.wA(t,this.Tt.configurableApiErrorRules);return i.isMatching?(i.matchingBodyContents.length>0&&this.L.collectBodyContent(i.matchingBodyContents[0]),e&&this._A(t),this.L.getCollectedDataPoints()):null}computeApiErrorCollectionOptions(){let t=this.Tt.configurableApiErrorRules||[],e=new Set,i=[];for(let o of t)o.statusCode!==void 0&&e.add(o.statusCode),o.url!==void 0&&csArray.prototype.indexOf.call(i,o.url)===-1&&csArray.prototype.push.call(i,o.url);let r=[Rs.CONTENTSQUARE,Rs.CLICKTALE];return csArray.prototype.push.call(r,Rs.FAKE_TRACKER),{statusCodes:e,urls:i,excludedDomains:r}}wA(t,e){if(t.statusCode>=400)return{isMatching:!0,matchingBodyContents:[]};if(e){for(let i of e)if(this.bA(t,i))return{isMatching:!0,matchingBodyContents:i.bodyContent?[i.bodyContent]:[]}}return{isMatching:!1,matchingBodyContents:[]}}bA(t,e){return!!(t.statusCode===e.statusCode&&csString.prototype.indexOf.call(t.url,e.url)!==-1&&(!e.bodyContent||this.L.isBodyContentMatching(t,e.bodyContent)))}_A(t){this.Tt.collectStandardHeaders&&this.L.collectStandardHeaders(t),this.Tt.validCustomHeaders&&this.ig(t,this.Tt.validCustomHeaders,1),this.Tt.plainCustomHeaders&&this.ig(t,this.Tt.plainCustomHeaders,0),this.Oh(t.url,this.Tt.validUrls)&&(this.Tt.collectQueryParam&&this.L.setCollectQueryParam(Number(this.Tt.collectQueryParam)),this.Tt.collectResponseBody&&this.L.setCollectResponseBody(Number(this.Tt.collectResponseBody)),this.Tt.collectRequestBody&&this.L.setCollectRequestBody(Number(this.Tt.collectRequestBody)))}ig(t,e,i){for(let r of e)this.L.collectCustomHeaders(t,{headerName:r,encrypted:i,type:"request-response"},o=>this.I.anonymizePII(o))}Oh(t,e){return e?csArray.prototype.some.call(e,i=>csString.prototype.indexOf.call(t,i)!==-1):!1}}return s})();function MS(s){return ot.traverse(s,n=>{if(n.nodeType===11){let t=ot.getProperty(n,"styles");t&&(n.adoptedStyleSheets=t)}}),s}function kS(s){if(s!=null&&s.length)return Ye(s,n=>LS(n))}function DS(){Pe(document).visitAll(s=>{var n;if(Yi(s)&&((n=s.adoptedStyleSheets)===null||n===void 0?void 0:n.length)>0){let t=kS(s.adoptedStyleSheets);ot.setProperty(s,"styles",t)}})}function LS(s){let n=[];try{n=Ye(s.cssRules,t=>t.cssText)}catch{}return{cssRules:n,disabled:s.disabled}}var vu=(()=>{class s{constructor(t,e,i,r,o){this.AA=t,this.h=e,this.Bt=i,this.ft=r,this.Ot=o}getPageContent(t){this.Bt.setMaskedElementSettings(this.ft.getMaskedElementSettings()),this.Bt.startIdentifier(),this.Ot.start(),DS(),bg.serialize(document,e=>{let i=MS(e),r=csArray.prototype.reduce.call(this.AA,(o,c)=>c.sanitize(o),i);this.Ot.stop(),t(csJSON.stringify(r),this.h.projectId)})}}return s})(),wu=(()=>{class s extends us{constructor(t){super(),this.V=null,this.Ta=null,this.P=null,this.Bs=null,this.ng=["value","checked","src","data","alt"],this.Ra={state:G.MaskedElementState.Child},this.TA=e=>{for(let i of e){if(G.isMaskedElement(i.target)||G.isMaskedElementChild(i.target))for(let r=0;r<i.addedNodes.length;r+=1){let o=i.addedNodes[r];G.isMaskedElement(o)||G.isMaskedElementChild(o)||Dt(o)&&this.rg(o)}for(let r=0;r<i.removedNodes.length;r+=1){let o=i.removedNodes[r];At.isConnected(o)||this.og(o)}}},this.RA=t}setMaskedElementSettings(t){this.Rs=t}startIdentifier(){this.isStarted||(this.isStarted=!0,this.onStart())}stopIdentifier(){return this.isStarted=!1,this.onStop()}start(){}stop(){}onStart(){var t,e,i,r;this.Rs||(xt.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.Rs={elementSelector:"",attrSelector:"",attrSelectors:[]});let{elementSelector:o,attrSelector:c,attrSelectors:u}=this.Rs;(t=this.Bs)!==null&&t!==void 0||(this.Bs=this.CA()),o.length!==0&&((e=this.V)!==null&&e!==void 0||(this.V=this.IA()),this.V.observe(o)),c.length!==0&&((i=this.Ta)!==null&&i!==void 0||(this.Ta=this.PA(u)),this.Ta.observe(c)),(r=this.P)!==null&&r!==void 0||(this.P=new hs(this.TA,(p,S)=>S==="added"&&this.OA(p))),this.P.observe(),csSetTimeout(this.RA)}onStop(){var t,e,i;this.V&&(this.og(document),this.V.disconnect()),(t=this.Ta)===null||t===void 0||t.disconnect(),(e=this.P)===null||e===void 0||e.disconnect(),(i=this.Bs)===null||i===void 0||i.disconnect()}CA(){return window.ResizeObserver?new ResizeObserver(t=>{csArray.prototype.forEach.call(t,e=>{this.resizeObserverCallback(e)})}):null}IA(){return new Xe(t=>{csArray.prototype.forEach.call(t,e=>{this.NA(e)?this.rg(e):(this.MA(e),this.kA(e))})})}PA(t){return new Xe(e=>{csArray.prototype.forEach.call(e,i=>this.DA(i,t))})}resizeObserverCallback(t){let e=t.target.getBoundingClientRect(),i=G.getMaskedElementDetails(t.target);if(i.state!==G.MaskedElementState.Parent||e.width===i.width&&e.height===i.height)return;let r={state:G.MaskedElementState.Parent,width:e.width,height:e.height};G.setMaskedElementProperty(t.target,r),this.produceEvent({type:"ResizeMaskedElement",target:bt(t.target),width:e.width,height:e.height})}kA(t){!this.Bs||!Dt(t)||Wr(t)||this.Bs.observe(t)}NA(t){let e=csNodeparentNode.apply(t);return e?G.isMaskedElement(e)||G.isMaskedElementChild(e):Yi(t)?G.isMaskedElement(t.host)||G.isMaskedElementChild(t.host):!1}OA(t){(G.isMaskedElement(t.host)||G.isMaskedElementChild(t.host))&&G.setMaskedElementProperty(t,this.Ra)}og(t){Pe(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{G.unsetMaskedElementProperty(i)})}MA(t){let e=t.getBoundingClientRect(),i={state:G.MaskedElementState.Parent,width:e.width,height:e.height};G.setMaskedElementProperty(t,i),this.LA(t),Pe(t).visitAll(r=>r!=t&&G.setMaskedElementProperty(r,this.Ra))}rg(t){G.setMaskedElementProperty(t,this.Ra),Pe(t).visitAll(e=>e!=t&&G.setMaskedElementProperty(e,this.Ra))}LA(t){var e;let i=(e=ot.getProperty(t,G.maskedAttributeProp))!==null&&e!==void 0?e:{attributes:[]};for(let r=0;r<this.ng.length;r+=1){let o=this.ng[r];csArray.prototype.indexOf.call(i.attributes,o)===-1&&csArray.prototype.push.call(i.attributes,o)}i.attributes.length!==0&&G.setMaskedAttributeProperty(t,i)}DA(t,e){var i;let r=(i=ot.getProperty(t,G.maskedAttributeProp))!==null&&i!==void 0?i:{attributes:[]};for(let o=0;o<t.attributes.length;o+=1){let c=t.attributes[o].name;csArray.prototype.indexOf.call(r.attributes,c)===-1&&csArray.prototype.some.call(e,u=>csString.prototype.indexOf.call(u.attrName,c)>-1&&Oe.call(t,u.selector))&&csArray.prototype.push.call(r.attributes,c)}r.attributes.length!==0&&G.setMaskedAttributeProperty(t,r)}}return Os([H()],s.prototype,"resizeObserverCallback",null),s})(),_u=(()=>{class s{constructor(){this.Mh=0,this.N=!1,this.ag="data-cs-capture",this.Xs=t=>{for(let e of t){if(As.isWhitelistedElement(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let r=e.addedNodes[i];As.isWhitelistedElement(r)||Dt(r)&&this.cg(r)}for(let i=0;i<e.removedNodes.length;i+=1){let r=e.removedNodes[i];At.isConnected(r)||this.lg(r)}}}}start(){this.Mh++,!this.N&&(this.N=!0,this.xA())}xA(){this.V||(this.V=new Xe(e=>pt(e,i=>this.cg(i))));let t=this.kh?`[${this.ag}], ${this.kh}`:`[${this.ag}]`;this.V.observe(t),this.P||(this.P=new hs(this.Xs,(e,i)=>i==="added"&&this.UA(e))),this.P.observe()}stop(){this.N&&(this.Mh--,this.Mh===0&&(this.N=!1,this.VA()))}VA(){this.V&&(this.lg(document),this.V.disconnect()),this.P&&this.P.disconnect()}setWhitelistedElementsSelector(t,e=!0){if(oe(t))this.kh=t;else if(e)throw new Error("Command misuse: setCapturedElementsSelector")}getWhitelistedElementsSelector(){return this.kh}cg(t){Pe(t).visitAll(e=>{As.whitelistElement(e)})}UA(t){As.isWhitelistedElement(t.host)&&As.whitelistElement(t)}lg(t){Pe(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{As.removeWhitelistElement(i)})}}return s})(),xS=(()=>{class s{constructor(){this.V=null,this.P=null,this.N=!1,this.Xs=t=>{for(let e of t)if(Ws.isEditableNode(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let r=e.addedNodes[i];if(!Ws.isEditableNode(r)){if(kr(r)||hd(r)){Ws.markEditableNode(r);continue}Dt(r)&&this.hg(r)}}}}start(){this.N||(this.N=!0,this.V=new Xe(t=>pt(t,e=>{this.hg(e)})),this.V.observe("[contenteditable]"),this.P=new hs(this.Xs,(t,e)=>e==="added"&&this.jA(t)),this.P.observe())}stop(){var t,e;this.N&&(this.N=!1,(t=this.V)===null||t===void 0||t.disconnect(),this.V=null,(e=this.P)===null||e===void 0||e.disconnect(),this.P=null)}hg(t){Pe(t).visitAll(e=>{Ws.markEditableNode(e)})}jA(t){Ws.isEditableNode(t.host)&&Ws.markEditableNode(t)}}return s})();var bu=(()=>{class s{constructor(){}sanitize(t){return ot.traverse(t,e=>{if(e instanceof Zs){let i=G.getMaskedAttributeDetails(e);e.attributes=this.xo(e,i);let r=G.getMaskedElementDetails(e);r.state===G.MaskedElementState.Parent&&this.Zc(e,r)}}),t}xo(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}Zc(t,e){let i=`width: ${e.width}px !important; height: ${e.height}px !important;`;t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),Zs.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})}}return s})(),US=(()=>{class s extends ae{constructor(){super(),this.Lh=[]}onStart(){csArray.prototype.forEach.call(this.Lh,t=>this.triggerHotjarEvent(t)),this.Lh=[]}onStop(){}triggerHotjarEvent(t){if(!this.isStarted){csArray.prototype.push.call(this.Lh,t);return}this.Dl(t)&&hj("event",t)}Dl(t){return L(t)}}return s})(),VS=["event"],jS=(()=>{class s{constructor(t){this.f=t,this.Ze=new US}init(){this.f.register(VS,t=>{this.Ze.triggerHotjarEvent(t)})}start(){this.Ze.start()}}return s})(),HS=s=>{let n=s*60*1e3;return`${Math.floor(csDate.now()/n)}`},BS=5e3,FS=(()=>{class s extends lh{constructor(t,e,i){super(t,e),this.Rn=null,this.BA=(i==null?void 0:i.type)||"json",this.dg=i==null?void 0:i.cacheMinutes,this.Fn=i==null?void 0:i.timeout}onLoad(t){this.ji=t}onError(t){this.Bn=t}onTimeout(t,e){this.ai=t,this.Fn=e}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,r=>r());let t=this.retrieveParameters();this.nc(t);let e=xn.toQuery(t),i=`${this.domainUri}${this.path?`/${this.path}`:""}?${e}`;this.eh(i,this.BA)}abort(){this.Rn&&(this.Rn.abort(),this.Rn=null)}isInProgress(){return this.Rn!==null}eh(t,e){var i;let r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onerror=()=>{var o;return(o=this.Bn)===null||o===void 0?void 0:o.call(this,r)},r.ontimeout=()=>{var o;return(o=this.ai)===null||o===void 0?void 0:o.call(this,r)},r.onload=()=>{var o,c;r.status>=200&&r.status<400?((o=this.ji)===null||o===void 0||o.call(this,this.FA(r,e)?r.response:r.responseText),csArray.prototype.forEach.call(this.afterRequestCallbacks,u=>u())):(c=this.Bn)===null||c===void 0||c.call(this,r)},r.onloadend=()=>{this.Rn=null},r.timeout=(i=this.Fn)!==null&&i!==void 0?i:BS,this.Rn=r,r.send()}FA(t,e){let i=t.getResponseHeader("Content-Type");return i===null?e==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0}nc(t){let e;this.dg?e=`${HS(this.dg)}`:e=csString.prototype.slice.call(`${Math.random()}`,2,8),t.r=e}}return s})();var $S=["hidePageTitle"],zS=["resetHidePageTitle"],qS="onNextPageviewOnly",GS=(()=>{class s{constructor(t,e){this.rs=t,this.f=e}init(){this.f.register($S,t=>{let e=t===qS;this.rs.setHidePageTitle(e)}),this.f.register(zS,()=>this.rs.resetHidePageTitle())}onAfterNaturalPageView(){this.rs.updateStateOnAfterPageview()}onAfterArtificialPageView(){this.rs.updateStateOnAfterPageview()}}return s})(),WS=(()=>{class s{constructor(){this.gg=255,this.KA="****",this.JA="data-cs-hide-title",this.QA="data-heap-redact-text",this.Ca={value:!1,onNextPageviewOnly:!1}}getRequestParameters(){return{t:this.Ca.value||this.ZA()?this.KA:this.t0(window.document.title)}}setHidePageTitle(t){this.Ca={value:!0,onNextPageviewOnly:t}}resetHidePageTitle(){this.Ca={value:!1,onNextPageviewOnly:!1}}updateStateOnAfterPageview(){this.Ca.onNextPageviewOnly&&this.resetHidePageTitle()}ZA(){let t=window.csquerySelector[document.nodeType].call(document,"head > title");return t===null?!1:t.getAttribute(this.JA)!==null||t.getAttribute(this.QA)!==null}t0(t){return t.length>this.gg?csString.prototype.substring.call(t,0,this.gg):t}}return s})(),YS=(()=>{class s{constructor(t,e,i,r,o){this.ot=t,this.ft=e,this.ge=i,this.Ot=r,this.tt=o}getSensitiveStatus(){var t,e;return{started:this.ge.isStarted,useAnonymization:this.ot.shouldUseAnonymization(),capturedElementSelector:this.Ot.getWhitelistedElementsSelector(),maskedElementSettings:this.ft.getMaskedElementSettings((t=this.ot)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.tt)===null||e===void 0?void 0:e.getEncryptionSelectors()}}getElementSensitiveStatus(t){let e=this.ge.isStarted,i=this.ot.shouldUseAnonymization();return e?G.isMaskedElement(t)||G.isMaskedElementChild(t)?Gs.MASKED:om.shouldEncrypt(t)?Gs.ENCRYPTED:Ws.isEditableNode(t)?Gs.ANONYMIZED:i?As.isWhitelistedElement(t)?Gs.CAPTURED:Gs.ANONYMIZED:Gs.CAPTURED:Gs.ANONYMIZED}}return s})(),Au=["setEncryptionSelectors"],ro=["setPIISelectors"],Tu=["setCapturedElementsSelector"],XS=(()=>{class s{constructor(t,e,i,r,o,c,u){this.E=t,this.f=e,this.ft=i,this.ge=r,this.Ot=o,this.tt=c,this.Pn=u}init(){var t,e;this.Pn&&this.tt&&((t=this.Pn)===null||t===void 0||t.addSelector((e=this.tt)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ht()}onStartTracking(t){this.ge.start(),this.E.emitSensitiveStatusChange()}onBeforeArtificialPageView(){this.ge.stop(),this.E.emitSensitiveStatusChange()}onAfterArtificialPageView(){this.ge.start(),this.E.emitSensitiveStatusChange()}onBeforeSessionRenewal(){this.ge.stop(),this.E.emitSensitiveStatusChange()}onOptout(){this.ge.stop(),this.E.emitSensitiveStatusChange()}onReplayUnanonymizationConsentGranted(){this.E.emitSensitiveStatusChange()}onReplayUnanonymizationConsentWithdrawn(){this.E.emitSensitiveStatusChange()}ht(){this.f.register(ro,t=>{this.ft.setMaskedElementSettingsFromCommand(t),this.E.emitSensitiveStatusChange()}),this.f.register(Tu,t=>{this.Ot.setWhitelistedElementsSelector(t),this.E.emitSensitiveStatusChange()}),this.f.register(Au,t=>{var e,i;(e=this.tt)===null||e===void 0||e.setEncryptionSelectors(t),(i=this.Pn)===null||i===void 0||i.addSelector(t)})}}return s})(),KS=(()=>{class s extends ae{constructor(t,e,i,r,o,c){super(),this.Bt=t,this.ft=e,this.Ot=i,this.Pn=r,this.On=o,this.ot=c}onStart(){var t,e,i;this.Ot.start(),this.Bt.setMaskedElementSettings(this.ft.getMaskedElementSettings((t=this.ot)===null||t===void 0?void 0:t.shouldMaskNonTextElements())),this.Bt.startIdentifier(),(e=this.Pn)===null||e===void 0||e.start(),(i=this.On)===null||i===void 0||i.start()}onStop(){var t,e;this.Ot.stop(),this.Bt.stopIdentifier(),(t=this.Pn)===null||t===void 0||t.stop(),(e=this.On)===null||e===void 0||e.stop()}}return s})(),Ru=["networkRequest:maskUrls"],JS=["networkRequest:maskUrls:reset"],QS=(()=>{class s{constructor(t,e){this.mg=t,this.lt=e}init(){this.mg.register(Ru,t=>{if(L(t)){this.lt.addPartialUrlMaskingPattern(t);return}if(csArray.isArray(t))for(let e of t)L(e)&&this.lt.addPartialUrlMaskingPattern(e)}),this.mg.register(JS,()=>this.lt.resetPartialUrlMaskingPatterns())}}return s})(),ZS=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last|user|profile|primary|primary[ _-]?last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["']|$)|(\b["']?(?:first|last|user|profile|primary|primary[ _-]?last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["']|$)/gi,tv="$1$4CS_ANONYMIZED_NAME$3$6",ev=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,sv="CS_ANONYMIZED_PHONE",iv=(()=>{class s{constructor(t,e){this.I=t,this.K=e}anonymize(t){return this.K?csArray.prototype.join.call(csArray.prototype.map.call(Yf(t),({content:e,isUrl:i})=>{var r;return i?(r=this.K)===null||r===void 0?void 0:r.anonymizeUrl(e,{maskNames:!0}):this.yg(e)}),""):this.yg(t)}yg(t){t=this.I.anonymizePII(t);let e=t;t=this.Dr(t),t!==e&&(Ot.counters.redactedPII.count("name"),Ot.counters.redactedPII.count("name-in-custom-error"));let i=t;return t=this.e0(t),t!==i&&(Ot.counters.redactedPII.count("phone"),Ot.counters.redactedPII.count("phone-in-custom-error")),t}Dr(t){return csString.prototype.replace.call(t,ZS,tv)}e0(t){return csString.prototype.replace.call(t,ev,sv)}}return s})(),Ml=(()=>{let s;return function(n){function t(f,_){for(let A of f)if(i(A,_))return!0;return!1}n.isUrlMatching=t;function e(f,_){if(L(_)){for(let A of f)if(i(A,_))return!0}else if(Ac(_)){for(let A of f)if(i(A,csString(_)))return!0}return!1}n.isMatching=e;function i(f,_){let A=r(f,_);return f.negate?!A:A}function r(f,_){switch(f.rule_type==="date"&&(f.match_operation==="less_than"||f.match_operation==="greater_than")&&(_=(new csDate(_).valueOf()/1e3).toFixed(0)),f.match_operation){case"exact":switch(f.rule_type){case"string":return L(f.pattern)?csString.prototype.toLowerCase.call(_)===csString.prototype.toLowerCase.call(f.pattern):!1;case"boolean":return _===f.pattern||_===csString(f.pattern);case"number":return jt(_)?Number(_)===Number(f.pattern):!1;default:return _===f.pattern}case"starts_with":return L(f.pattern)?csString.prototype.indexOf.call(_,f.pattern)===0:!1;case"ends_with":return L(f.pattern)?rn(_,f.pattern):!1;case"contains":return L(f.pattern)?csString.prototype.indexOf.call(_,f.pattern)!==-1:!1;case"regex":if(!L(f.pattern))return!1;try{return new csRegExp(f.pattern).test(_)}catch(A){return Q.warn(`targeting.matchOperation.regex invalid ${A==null?void 0:A.message}`),!1}case"simple":return L(f.pattern)?S(_)===S(f.pattern):!1;case"greater_than":return Number(_)>Number(f.pattern);case"less_than":return Number(_)<Number(f.pattern);case"exact_date":{let A=Number(f.pattern);if(!te(A))return!1;let T=new csDate(A*1e3);return new csDate(_).toDateString()===T.toDateString()}case"exact_days_ago":return o(f,_);case"more_than_days_ago":return c(f,_);case"less_than_days_ago":return u(f,_);case"unknown":return p(_);default:return Q.warn(`targeting.matchOperation.regex not managed operation ${f.match_operation}`),!1}}function o(f,_){let A=new csDate,T=A.setDate(A.getDate()-Number(f.pattern)),x=new csDate(T);return new csDate(_).toDateString()===x.toDateString()}function c(f,_){let A=Number(f.pattern);if(!te(A))return!1;let T=Number(A)+1,x=new csDate,U=new csDate(x);return U.setDate(x.getDate()-T),new csDate(_).getTime()<=U.getTime()}function u(f,_){let A=Number(f.pattern);if(!te(A))return!1;if(A===0)return o(f,_);let T=new csDate,x=new csDate(T);return x.setDate(T.getDate()-A),new csDate(_).getTime()>=x.getTime()}function p(f){return jt(f)?L(f)?csString.prototype.trim.call(f)==="":Ac(f)?f===!0:te(f)?f!==0:!1:!0}function S(f){let _=Ne(f,"http://")||Ne(f,"https://")?f:`https://${f}`,A=Xa(_);return A!==null?csString.prototype.replace.call(A.host,/^www./,""):f}}(s||(s={})),s})(),nv=(()=>{class s{constructor(){this.Eg=[],this.Sg=[]}setTargetingRules(t){for(let e of t)e.component==="url"?csArray.prototype.push.call(this.Eg,e):e.component==="trigger"&&csArray.prototype.push.call(this.Sg,e)}matchUrl(t){return Ml.isUrlMatching(this.Eg,t)}matchTrigger(t){return Ml.isMatching(this.Sg,t)}}return s})(),rv=(()=>{class s extends ae{constructor(t,e,i){super(),this.Ia=t,this.Hh=e,this.A=i}init(){this.Bh=new nv,this.Ia&&this.Bh.setTargetingRules(this.Ia)}onStart(){}checkInitialUrlTargetingRules(){let t=this.A.getAnonymizedUrl();this.Fh(t,"url")&&this.Hh()}onStop(){}onTargetingRulesArtificialPageview(t){this.isStarted&&this.Fh(t,"url")&&this.Hh()}onExternalEvent(t){this.isStarted&&this.Fh(t.name,"trigger")&&this.Hh()}Fh(t,e){var i,r;return e==="url"&&L(t)&&(!((i=this.Bh)===null||i===void 0)&&i.matchUrl(t))?!0:!!(e==="trigger"&&(!((r=this.Bh)===null||r===void 0)&&r.matchTrigger(t)))}}return s})(),ov=(()=>{class s{constructor(t,e,i,r,o,c){this.Ia=t,this.s0=e,this.E=i,this.et=r,this.J=o,this.A=c}init(){this.Fr=new rv(this.Ia,this.s0,this.A),this.J.addListener(this.Fr),this.Fr.init()}start(){this.Fr.start()}stop(){this.Fr.stop()}checkInitialUrlTargetingRules(){this.Fr.checkInitialUrlTargetingRules()}emitTargetingCollectState(){let t=this.et.getInitialCollectState();t===q.ANALYTICS_ONLY?this.E.emitCollectStateChange(q.ANALYTICS_ONLY_RULES_TARGETING,fe.ETR_OFF):t===q.RECORDING_GLOBAL_SAMPLING&&this.E.emitCollectStateChange(q.RECORDING_RULES_TARGETING,fe.ETR_OFF)}}return s})();var av=(()=>{class s{getRequestParameters(){if(!this.Js)return{};let t={hr:this.Js.hrfs,hl:cv(this.Js),hpd:this.Js.hpd,hpp:this.Js.hpp,hpq:this.Js.hps,hph:this.Js.hph};return lv(t)}setHeapPageViewProps(t){this.Js=t}resetHeapPageViewProps(){this.Js=void 0}}return s})();function cv(s){let{hsd:n,hsp:t,hss:e,hsh:i}=s;return n?csString.prototype.concat.call(n,t||"",e||"",i||""):void 0}function lv(s){return ah(s,n=>!n)}var hv=["hpd"],uv=["hrfs","hsd","hsp","hss","hsh","hpp","hps","hph"],dv=["sendHeapContext"],pv=(()=>{class s{constructor(t,e){this.rn=t,this.f=e}init(){this.f.register(dv,t=>{let e=this.i0(t);e&&this.rn.setHeapPageViewProps(e)})}onAfterNaturalPageView(){this.rn.resetHeapPageViewProps()}onAfterArtificialPageView(){this.rn.resetHeapPageViewProps()}i0(t){if(!ft(t)){Q.error("heapPvProps must be an object");return}let e={};for(let i of hv){let r=t[i];if(!L(r)||r.length===0){Q.error(`heapPvProps.${i} is required and must be a non-empty string`);return}e[i]=r}for(let i of uv){let r=t[i];if(r!=null&&!L(r)){Q.error(`heapPvProps.${i} must be a string, undefined or null`);return}e[i]=r||void 0}return fv(e)}}return s})();function fv(s){return ah(s,n=>n===void 0)}var gv=(()=>{let s;return function(n){n.COMPRESSION_DISABLED="compressionDisabled"}(s||(s={})),s})(),mv=(()=>{class s{constructor(){}static init(t){(!this.$h||t!==void 0)&&this.initFlags(t)}static initFlags(t=document.cookie){var e;let i=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.$h=new Map,i){let r=csString.prototype.split.call(i,".");for(let o=0;o<r.length;o++){let[c,u]=csString.prototype.split.call(r[o],"=");this.$h.set(c,u||"true")}}}static getBoolean(t){let e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0}static getString(t){var e;return this.init(),(e=this.$h)===null||e===void 0?void 0:e.get(t)}static isCompressionEnabled(){return!this.getBoolean(gv.COMPRESSION_DISABLED)}static Log(t){return(e,i,r)=>{var o;let c=i.toString(),u=`${(o=e.constructor)===null||o===void 0?void 0:o.name}.${c}`,p=r.value;yv(s.getString("debugLog"),t)&&(r.value=function(...S){return console.log(u,...S),p.bind(this)(...S)})}}}return s})();function yv(s,n){var t;return s==null?!1:s===n||!!(!((t=csString.prototype.match.call(s,new csRegExp("(^|,)("+n+")(,|$)")))===null||t===void 0)&&t.length)}function kl(){function i(a){let E=a.length;for(;--E>=0;)a[E]=0}let r=0,o=1,c=2,u=3,p=258,S=29,f=256,_=f+1+S,A=30,T=19,x=2*_+1,U=15,N=16,P=7,Y=256,O=16,X=17,tt=18,nt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ut=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Rt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Lt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=512,B=new Array((_+2)*2);i(B);let K=new Array(A*2);i(K);let st=new Array(C);i(st);let vt=new Array(p-u+1);i(vt);let Nt=new Array(S);i(Nt);let Bt=new Array(A);i(Bt);function Ke(a,E,v,w,g){this.static_tree=a,this.extra_bits=E,this.extra_base=v,this.elems=w,this.max_length=g,this.has_stree=a&&a.length}let ds,Ns,ce;function Be(a,E){this.dyn_tree=a,this.max_code=0,this.stat_desc=E}let Je=a=>a<256?st[a]:st[256+(a>>>7)],ge=(a,E)=>{a.pending_buf[a.pending++]=E&255,a.pending_buf[a.pending++]=E>>>8&255},_t=(a,E,v)=>{a.bi_valid>N-v?(a.bi_buf|=E<<a.bi_valid&65535,ge(a,a.bi_buf),a.bi_buf=E>>N-a.bi_valid,a.bi_valid+=v-N):(a.bi_buf|=E<<a.bi_valid&65535,a.bi_valid+=v)},wt=(a,E,v)=>{_t(a,v[E*2],v[E*2+1])},F=(a,E)=>{let v=0;do v|=a&1,a>>>=1,v<<=1;while(--E>0);return v>>>1},ln=a=>{a.bi_valid===16?(ge(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)},ni=(a,E)=>{let v=E.dyn_tree,w=E.max_code,g=E.stat_desc.static_tree,k=E.stat_desc.has_stree,I=E.stat_desc.extra_bits,V=E.stat_desc.extra_base,mt=E.stat_desc.max_length,it,Re,js,Ct,di,Vi,gr=0;for(Ct=0;Ct<=U;Ct++)a.bl_count[Ct]=0;for(v[a.heap[a.heap_max]*2+1]=0,it=a.heap_max+1;it<x;it++)Re=a.heap[it],Ct=v[v[Re*2+1]*2+1]+1,Ct>mt&&(Ct=mt,gr++),v[Re*2+1]=Ct,!(Re>w)&&(a.bl_count[Ct]++,di=0,Re>=V&&(di=I[Re-V]),Vi=v[Re*2],a.opt_len+=Vi*(Ct+di),k&&(a.static_len+=Vi*(g[Re*2+1]+di)));if(gr!==0){do{for(Ct=mt-1;a.bl_count[Ct]===0;)Ct--;a.bl_count[Ct]--,a.bl_count[Ct+1]+=2,a.bl_count[mt]--,gr-=2}while(gr>0);for(Ct=mt;Ct!==0;Ct--)for(Re=a.bl_count[Ct];Re!==0;)js=a.heap[--it],!(js>w)&&(v[js*2+1]!==Ct&&(a.opt_len+=(Ct-v[js*2+1])*v[js*2],v[js*2+1]=Ct),Re--)}},ps=(a,E,v)=>{let w=new Array(U+1),g=0,k,I;for(k=1;k<=U;k++)w[k]=g=g+v[k-1]<<1;for(I=0;I<=E;I++){let V=a[I*2+1];V!==0&&(a[I*2]=F(w[V]++,V))}},Wn=()=>{let a,E,v,w,g,k=new Array(U+1);for(v=0,w=0;w<S-1;w++)for(Nt[w]=v,a=0;a<1<<nt[w];a++)vt[v++]=w;for(vt[v-1]=w,g=0,w=0;w<16;w++)for(Bt[w]=g,a=0;a<1<<ut[w];a++)st[g++]=w;for(g>>=7;w<A;w++)for(Bt[w]=g<<7,a=0;a<1<<ut[w]-7;a++)st[256+g++]=w;for(E=0;E<=U;E++)k[E]=0;for(a=0;a<=143;)B[a*2+1]=8,a++,k[8]++;for(;a<=255;)B[a*2+1]=9,a++,k[9]++;for(;a<=279;)B[a*2+1]=7,a++,k[7]++;for(;a<=287;)B[a*2+1]=8,a++,k[8]++;for(ps(B,_+1,k),a=0;a<A;a++)K[a*2+1]=5,K[a*2]=F(a,5);ds=new Ke(B,nt,f+1,_,U),Ns=new Ke(K,ut,0,A,U),ce=new Ke(new Array(0),Rt,0,T,P)},Yn=a=>{let E;for(E=0;E<_;E++)a.dyn_ltree[E*2]=0;for(E=0;E<A;E++)a.dyn_dtree[E*2]=0;for(E=0;E<T;E++)a.bl_tree[E*2]=0;a.dyn_ltree[Y*2]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0},Xn=a=>{a.bi_valid>8?ge(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},oo=(a,E,v,w)=>{Xn(a),w&&(ge(a,v),ge(a,~v)),a.pending_buf.set(a.window.subarray(E,E+v),a.pending),a.pending+=v},Ms=(a,E,v,w)=>{let g=E*2,k=v*2;return a[g]<a[k]||a[g]===a[k]&&w[E]<=w[v]},_e=(a,E,v)=>{let w=a.heap[v],g=v<<1;for(;g<=a.heap_len&&(g<a.heap_len&&Ms(E,a.heap[g+1],a.heap[g],a.depth)&&g++,!Ms(E,w,a.heap[g],a.depth));)a.heap[v]=a.heap[g],v=g,g<<=1;a.heap[v]=w},bi=(a,E,v)=>{let w,g,k=0,I,V;if(a.last_lit!==0)do w=a.pending_buf[a.d_buf+k*2]<<8|a.pending_buf[a.d_buf+k*2+1],g=a.pending_buf[a.l_buf+k],k++,w===0?wt(a,g,E):(I=vt[g],wt(a,I+f+1,E),V=nt[I],V!==0&&(g-=Nt[I],_t(a,g,V)),w--,I=Je(w),wt(a,I,v),V=ut[I],V!==0&&(w-=Bt[I],_t(a,w,V)));while(k<a.last_lit);wt(a,Y,E)},ks=(a,E)=>{let v=E.dyn_tree,w=E.stat_desc.static_tree,g=E.stat_desc.has_stree,k=E.stat_desc.elems,I,V,mt=-1,it;for(a.heap_len=0,a.heap_max=x,I=0;I<k;I++)v[I*2]!==0?(a.heap[++a.heap_len]=mt=I,a.depth[I]=0):v[I*2+1]=0;for(;a.heap_len<2;)it=a.heap[++a.heap_len]=mt<2?++mt:0,v[it*2]=1,a.depth[it]=0,a.opt_len--,g&&(a.static_len-=w[it*2+1]);for(E.max_code=mt,I=a.heap_len>>1;I>=1;I--)_e(a,v,I);it=k;do I=a.heap[1],a.heap[1]=a.heap[a.heap_len--],_e(a,v,1),V=a.heap[1],a.heap[--a.heap_max]=I,a.heap[--a.heap_max]=V,v[it*2]=v[I*2]+v[V*2],a.depth[it]=(a.depth[I]>=a.depth[V]?a.depth[I]:a.depth[V])+1,v[I*2+1]=v[V*2+1]=it,a.heap[1]=it++,_e(a,v,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],ni(a,E),ps(v,mt,a.bl_count)},zt=(a,E,v)=>{let w,g=-1,k,I=E[0*2+1],V=0,mt=7,it=4;for(I===0&&(mt=138,it=3),E[(v+1)*2+1]=65535,w=0;w<=v;w++)k=I,I=E[(w+1)*2+1],!(++V<mt&&k===I)&&(V<it?a.bl_tree[k*2]+=V:k!==0?(k!==g&&a.bl_tree[k*2]++,a.bl_tree[O*2]++):V<=10?a.bl_tree[X*2]++:a.bl_tree[tt*2]++,V=0,g=k,I===0?(mt=138,it=3):k===I?(mt=6,it=3):(mt=7,it=4))},qt=(a,E,v)=>{let w,g=-1,k,I=E[0*2+1],V=0,mt=7,it=4;for(I===0&&(mt=138,it=3),w=0;w<=v;w++)if(k=I,I=E[(w+1)*2+1],!(++V<mt&&k===I)){if(V<it)do wt(a,k,a.bl_tree);while(--V!==0);else k!==0?(k!==g&&(wt(a,k,a.bl_tree),V--),wt(a,O,a.bl_tree),_t(a,V-3,2)):V<=10?(wt(a,X,a.bl_tree),_t(a,V-3,3)):(wt(a,tt,a.bl_tree),_t(a,V-11,7));V=0,g=k,I===0?(mt=138,it=3):k===I?(mt=6,it=3):(mt=7,it=4)}},Jt=a=>{let E;for(zt(a,a.dyn_ltree,a.l_desc.max_code),zt(a,a.dyn_dtree,a.d_desc.max_code),ks(a,a.bl_desc),E=T-1;E>=3&&a.bl_tree[Lt[E]*2+1]===0;E--);return a.opt_len+=3*(E+1)+5+5+4,E},Qt=(a,E,v,w)=>{let g;for(_t(a,E-257,5),_t(a,v-1,5),_t(a,w-4,4),g=0;g<w;g++)_t(a,a.bl_tree[Lt[g]*2+1],3);qt(a,a.dyn_ltree,E-1),qt(a,a.dyn_dtree,v-1)},ao=a=>{let E=4093624447,v;for(v=0;v<=31;v++,E>>>=1)if(E&1&&a.dyn_ltree[v*2]!==0)return 0;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return 1;for(v=32;v<f;v++)if(a.dyn_ltree[v*2]!==0)return 1;return 0},hn=!1,co=a=>{hn||(Wn(),hn=!0),a.l_desc=new Be(a.dyn_ltree,ds),a.d_desc=new Be(a.dyn_dtree,Ns),a.bl_desc=new Be(a.bl_tree,ce),a.bi_buf=0,a.bi_valid=0,Yn(a)},un=(a,E,v,w)=>{_t(a,(r<<1)+(w?1:0),3),oo(a,E,v,!0)},St=a=>{_t(a,o<<1,3),wt(a,Y,B),ln(a)},ri=(a,E,v,w)=>{let g,k,I=0;a.level>0?(a.strm.data_type===2&&(a.strm.data_type=ao(a)),ks(a,a.l_desc),ks(a,a.d_desc),I=Jt(a),g=a.opt_len+3+7>>>3,k=a.static_len+3+7>>>3,k<=g&&(g=k)):g=k=v+5,v+4<=g&&E!==-1?un(a,E,v,w):a.strategy===4||k===g?(_t(a,(o<<1)+(w?1:0),3),bi(a,B,K)):(_t(a,(c<<1)+(w?1:0),3),Qt(a,a.l_desc.max_code+1,a.d_desc.max_code+1,I+1),bi(a,a.dyn_ltree,a.dyn_dtree)),Yn(a),w&&Xn(a)},Ai=(a,E,v)=>(a.pending_buf[a.d_buf+a.last_lit*2]=E>>>8&255,a.pending_buf[a.d_buf+a.last_lit*2+1]=E&255,a.pending_buf[a.l_buf+a.last_lit]=v&255,a.last_lit++,E===0?a.dyn_ltree[v*2]++:(a.matches++,E--,a.dyn_ltree[(vt[v]+f+1)*2]++,a.dyn_dtree[Je(E)*2]++),a.last_lit===a.lit_bufsize-1);var lo=co,Kn=un,ho=ri,uo=Ai,po=St,fo={_tr_init:lo,_tr_stored_block:Kn,_tr_flush_block:ho,_tr_tally:uo,_tr_align:po},Jn=(a,E,v,w)=>{let g=a&65535|0,k=a>>>16&65535|0,I=0;for(;v!==0;){I=v>2e3?2e3:v,v-=I;do g=g+E[w++]|0,k=k+g|0;while(--I);g%=65521,k%=65521}return g|k<<16|0};let go=()=>{let a,E=[];for(var v=0;v<256;v++){a=v;for(var w=0;w<8;w++)a=a&1?3988292384^a>>>1:a>>>1;E[v]=a}return E},mo=new Uint32Array(go());var Qe=(a,E,v,w)=>{let g=mo,k=w+v;a^=-1;for(let I=w;I<k;I++)a=a>>>8^g[(a^E[I])&255];return a^-1},Ds={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ti={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:fs,_tr_stored_block:Ls,_tr_flush_block:Zn,_tr_tally:Ze,_tr_align:he}=fo,{Z_NO_FLUSH:ts,Z_PARTIAL_FLUSH:Tt,Z_FULL_FLUSH:Ri,Z_FINISH:se,Z_BLOCK:gs,Z_OK:ke,Z_STREAM_END:tr,Z_STREAM_ERROR:me,Z_DATA_ERROR:yo,Z_BUF_ERROR:dn,Z_DEFAULT_COMPRESSION:Eo,Z_FILTERED:er,Z_HUFFMAN_ONLY:Ci,Z_RLE:Ii,Z_FIXED:So,Z_DEFAULT_STRATEGY:vo,Z_UNKNOWN:wo,Z_DEFLATED:oi}=Ti,sr=9,_o=15,ir=8,pn=256+1+29,Pi=30,nr=19,fn=2*pn+1,gn=15,at=3,Fe=258,be=Fe+at+1,rr=32,Oi=42,mn=69,es=73,Ni=91,Mi=103,De=113,ai=666,Ht=1,xs=2,$e=3,ms=4,Us=3,Le=(a,E)=>(a.msg=Ds[E],E),ki=a=>(a<<1)-(a>4?9:0),ue=a=>{let E=a.length;for(;--E>=0;)a[E]=0},xe=(a,E,v)=>(E<<a.hash_shift^v)&a.hash_mask,ze=a=>{let E=a.state,v=E.pending;v>a.avail_out&&(v=a.avail_out),v!==0&&(a.output.set(E.pending_buf.subarray(E.pending_out,E.pending_out+v),a.next_out),a.next_out+=v,E.pending_out+=v,a.total_out+=v,a.avail_out-=v,E.pending-=v,E.pending===0&&(E.pending_out=0))},Gt=(a,E)=>{Zn(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,E),a.block_start=a.strstart,ze(a.strm)},ct=(a,E)=>{a.pending_buf[a.pending++]=E},Vs=(a,E)=>{a.pending_buf[a.pending++]=E>>>8&255,a.pending_buf[a.pending++]=E&255},yn=(a,E,v,w)=>{let g=a.avail_in;return g>w&&(g=w),g===0?0:(a.avail_in-=g,E.set(a.input.subarray(a.next_in,a.next_in+g),v),a.state.wrap===1?a.adler=Jn(a.adler,E,g,v):a.state.wrap===2&&(a.adler=Qe(a.adler,E,g,v)),a.next_in+=g,a.total_in+=g,g)},En=(a,E)=>{let v=a.max_chain_length,w=a.strstart,g,k,I=a.prev_length,V=a.nice_match,mt=a.strstart>a.w_size-be?a.strstart-(a.w_size-be):0,it=a.window,Re=a.w_mask,js=a.prev,Ct=a.strstart+Fe,di=it[w+I-1],Vi=it[w+I];a.prev_length>=a.good_match&&(v>>=2),V>a.lookahead&&(V=a.lookahead);do if(g=E,!(it[g+I]!==Vi||it[g+I-1]!==di||it[g]!==it[w]||it[++g]!==it[w+1])){w+=2,g++;do;while(it[++w]===it[++g]&&it[++w]===it[++g]&&it[++w]===it[++g]&&it[++w]===it[++g]&&it[++w]===it[++g]&&it[++w]===it[++g]&&it[++w]===it[++g]&&it[++w]===it[++g]&&w<Ct);if(k=Fe-(Ct-w),w=Ct-Fe,k>I){if(a.match_start=E,I=k,k>=V)break;di=it[w+I-1],Vi=it[w+I]}}while((E=js[E&Re])>mt&&--v!==0);return I<=a.lookahead?I:a.lookahead},ys=a=>{let E=a.w_size,v,w,g,k,I;do{if(k=a.window_size-a.lookahead-a.strstart,a.strstart>=E+(E-be)){a.window.set(a.window.subarray(E,E+E),0),a.match_start-=E,a.strstart-=E,a.block_start-=E,w=a.hash_size,v=w;do g=a.head[--v],a.head[v]=g>=E?g-E:0;while(--w);w=E,v=w;do g=a.prev[--v],a.prev[v]=g>=E?g-E:0;while(--w);k+=E}if(a.strm.avail_in===0)break;if(w=yn(a.strm,a.window,a.strstart+a.lookahead,k),a.lookahead+=w,a.lookahead+a.insert>=at)for(I=a.strstart-a.insert,a.ins_h=a.window[I],a.ins_h=xe(a,a.ins_h,a.window[I+1]);a.insert&&(a.ins_h=xe(a,a.ins_h,a.window[I+at-1]),a.prev[I&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=I,I++,a.insert--,!(a.lookahead+a.insert<at)););}while(a.lookahead<be&&a.strm.avail_in!==0)},or=(a,E)=>{let v=65535;for(v>a.pending_buf_size-5&&(v=a.pending_buf_size-5);;){if(a.lookahead<=1){if(ys(a),a.lookahead===0&&E===ts)return Ht;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;let w=a.block_start+v;if((a.strstart===0||a.strstart>=w)&&(a.lookahead=a.strstart-w,a.strstart=w,Gt(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-be&&(Gt(a,!1),a.strm.avail_out===0))return Ht}return a.insert=0,E===se?(Gt(a,!0),a.strm.avail_out===0?$e:ms):(a.strstart>a.block_start&&(Gt(a,!1),a.strm.avail_out===0),Ht)},Di=(a,E)=>{let v,w;for(;;){if(a.lookahead<be){if(ys(a),a.lookahead<be&&E===ts)return Ht;if(a.lookahead===0)break}if(v=0,a.lookahead>=at&&(a.ins_h=xe(a,a.ins_h,a.window[a.strstart+at-1]),v=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),v!==0&&a.strstart-v<=a.w_size-be&&(a.match_length=En(a,v)),a.match_length>=at)if(w=Ze(a,a.strstart-a.match_start,a.match_length-at),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=at){a.match_length--;do a.strstart++,a.ins_h=xe(a,a.ins_h,a.window[a.strstart+at-1]),v=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=xe(a,a.ins_h,a.window[a.strstart+1]);else w=Ze(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(w&&(Gt(a,!1),a.strm.avail_out===0))return Ht}return a.insert=a.strstart<at-1?a.strstart:at-1,E===se?(Gt(a,!0),a.strm.avail_out===0?$e:ms):a.last_lit&&(Gt(a,!1),a.strm.avail_out===0)?Ht:xs},Es=(a,E)=>{let v,w,g;for(;;){if(a.lookahead<be){if(ys(a),a.lookahead<be&&E===ts)return Ht;if(a.lookahead===0)break}if(v=0,a.lookahead>=at&&(a.ins_h=xe(a,a.ins_h,a.window[a.strstart+at-1]),v=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=at-1,v!==0&&a.prev_length<a.max_lazy_match&&a.strstart-v<=a.w_size-be&&(a.match_length=En(a,v),a.match_length<=5&&(a.strategy===er||a.match_length===at&&a.strstart-a.match_start>4096)&&(a.match_length=at-1)),a.prev_length>=at&&a.match_length<=a.prev_length){g=a.strstart+a.lookahead-at,w=Ze(a,a.strstart-1-a.prev_match,a.prev_length-at),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=g&&(a.ins_h=xe(a,a.ins_h,a.window[a.strstart+at-1]),v=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=at-1,a.strstart++,w&&(Gt(a,!1),a.strm.avail_out===0))return Ht}else if(a.match_available){if(w=Ze(a,0,a.window[a.strstart-1]),w&&Gt(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return Ht}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(w=Ze(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<at-1?a.strstart:at-1,E===se?(Gt(a,!0),a.strm.avail_out===0?$e:ms):a.last_lit&&(Gt(a,!1),a.strm.avail_out===0)?Ht:xs},bo=(a,E)=>{let v,w,g,k,I=a.window;for(;;){if(a.lookahead<=Fe){if(ys(a),a.lookahead<=Fe&&E===ts)return Ht;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=at&&a.strstart>0&&(g=a.strstart-1,w=I[g],w===I[++g]&&w===I[++g]&&w===I[++g])){k=a.strstart+Fe;do;while(w===I[++g]&&w===I[++g]&&w===I[++g]&&w===I[++g]&&w===I[++g]&&w===I[++g]&&w===I[++g]&&w===I[++g]&&g<k);a.match_length=Fe-(k-g),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=at?(v=Ze(a,1,a.match_length-at),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(v=Ze(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),v&&(Gt(a,!1),a.strm.avail_out===0))return Ht}return a.insert=0,E===se?(Gt(a,!0),a.strm.avail_out===0?$e:ms):a.last_lit&&(Gt(a,!1),a.strm.avail_out===0)?Ht:xs},ar=(a,E)=>{let v;for(;;){if(a.lookahead===0&&(ys(a),a.lookahead===0)){if(E===ts)return Ht;break}if(a.match_length=0,v=Ze(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,v&&(Gt(a,!1),a.strm.avail_out===0))return Ht}return a.insert=0,E===se?(Gt(a,!0),a.strm.avail_out===0?$e:ms):a.last_lit&&(Gt(a,!1),a.strm.avail_out===0)?Ht:xs};function Ae(a,E,v,w,g){this.good_length=a,this.max_lazy=E,this.nice_length=v,this.max_chain=w,this.func=g}let li=[new Ae(0,0,0,0,or),new Ae(4,4,8,4,Di),new Ae(4,5,16,8,Di),new Ae(4,6,32,32,Di),new Ae(4,4,16,16,Es),new Ae(8,16,32,32,Es),new Ae(8,16,128,128,Es),new Ae(8,32,128,256,Es),new Ae(32,128,258,1024,Es),new Ae(32,258,258,4096,Es)],Sn=a=>{a.window_size=2*a.w_size,ue(a.head),a.max_lazy_match=li[a.level].max_lazy,a.good_match=li[a.level].good_length,a.nice_match=li[a.level].nice_length,a.max_chain_length=li[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=at-1,a.match_available=0,a.ins_h=0};function Ao(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oi,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(fn*2),this.dyn_dtree=new Uint16Array((2*Pi+1)*2),this.bl_tree=new Uint16Array((2*nr+1)*2),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(gn+1),this.heap=new Uint16Array(2*pn+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*pn+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let Li=a=>{if(!a||!a.state)return Le(a,me);a.total_in=a.total_out=0,a.data_type=wo;let E=a.state;return E.pending=0,E.pending_out=0,E.wrap<0&&(E.wrap=-E.wrap),E.status=E.wrap?Oi:De,a.adler=E.wrap===2?0:1,E.last_flush=ts,fs(E),ke},cr=a=>{let E=Li(a);return E===ke&&Sn(a.state),E},To=(a,E)=>!a||!a.state||a.state.wrap!==2?me:(a.state.gzhead=E,ke),lr=(a,E,v,w,g,k)=>{if(!a)return me;let I=1;if(E===Eo&&(E=6),w<0?(I=0,w=-w):w>15&&(I=2,w-=16),g<1||g>sr||v!==oi||w<8||w>15||E<0||E>9||k<0||k>So)return Le(a,me);w===8&&(w=9);let V=new Ao;return a.state=V,V.strm=a,V.wrap=I,V.gzhead=null,V.w_bits=w,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=g+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+at-1)/at),V.window=new Uint8Array(V.w_size*2),V.head=new Uint16Array(V.hash_size),V.prev=new Uint16Array(V.w_size),V.lit_bufsize=1<<g+6,V.pending_buf_size=V.lit_bufsize*4,V.pending_buf=new Uint8Array(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=E,V.strategy=k,V.method=v,cr(a)},Ro=(a,E)=>lr(a,E,oi,_o,ir,vo),vn=(a,E)=>{let v,w;if(!a||!a.state||E>gs||E<0)return a?Le(a,me):me;let g=a.state;if(!a.output||!a.input&&a.avail_in!==0||g.status===ai&&E!==se)return Le(a,a.avail_out===0?dn:me);g.strm=a;let k=g.last_flush;if(g.last_flush=E,g.status===Oi)if(g.wrap===2)a.adler=0,ct(g,31),ct(g,139),ct(g,8),g.gzhead?(ct(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),ct(g,g.gzhead.time&255),ct(g,g.gzhead.time>>8&255),ct(g,g.gzhead.time>>16&255),ct(g,g.gzhead.time>>24&255),ct(g,g.level===9?2:g.strategy>=Ci||g.level<2?4:0),ct(g,g.gzhead.os&255),g.gzhead.extra&&g.gzhead.extra.length&&(ct(g,g.gzhead.extra.length&255),ct(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(a.adler=Qe(a.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=mn):(ct(g,0),ct(g,0),ct(g,0),ct(g,0),ct(g,0),ct(g,g.level===9?2:g.strategy>=Ci||g.level<2?4:0),ct(g,Us),g.status=De);else{let I=oi+(g.w_bits-8<<4)<<8,V=-1;g.strategy>=Ci||g.level<2?V=0:g.level<6?V=1:g.level===6?V=2:V=3,I|=V<<6,g.strstart!==0&&(I|=rr),I+=31-I%31,g.status=De,Vs(g,I),g.strstart!==0&&(Vs(g,a.adler>>>16),Vs(g,a.adler&65535)),a.adler=1}if(g.status===mn)if(g.gzhead.extra){for(v=g.pending;g.gzindex<(g.gzhead.extra.length&65535)&&!(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>v&&(a.adler=Qe(a.adler,g.pending_buf,g.pending-v,v)),ze(a),v=g.pending,g.pending===g.pending_buf_size));)ct(g,g.gzhead.extra[g.gzindex]&255),g.gzindex++;g.gzhead.hcrc&&g.pending>v&&(a.adler=Qe(a.adler,g.pending_buf,g.pending-v,v)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=es)}else g.status=es;if(g.status===es)if(g.gzhead.name){v=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>v&&(a.adler=Qe(a.adler,g.pending_buf,g.pending-v,v)),ze(a),v=g.pending,g.pending===g.pending_buf_size)){w=1;break}g.gzindex<g.gzhead.name.length?w=g.gzhead.name.charCodeAt(g.gzindex++)&255:w=0,ct(g,w)}while(w!==0);g.gzhead.hcrc&&g.pending>v&&(a.adler=Qe(a.adler,g.pending_buf,g.pending-v,v)),w===0&&(g.gzindex=0,g.status=Ni)}else g.status=Ni;if(g.status===Ni)if(g.gzhead.comment){v=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>v&&(a.adler=Qe(a.adler,g.pending_buf,g.pending-v,v)),ze(a),v=g.pending,g.pending===g.pending_buf_size)){w=1;break}g.gzindex<g.gzhead.comment.length?w=g.gzhead.comment.charCodeAt(g.gzindex++)&255:w=0,ct(g,w)}while(w!==0);g.gzhead.hcrc&&g.pending>v&&(a.adler=Qe(a.adler,g.pending_buf,g.pending-v,v)),w===0&&(g.status=Mi)}else g.status=Mi;if(g.status===Mi&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&ze(a),g.pending+2<=g.pending_buf_size&&(ct(g,a.adler&255),ct(g,a.adler>>8&255),a.adler=0,g.status=De)):g.status=De),g.pending!==0){if(ze(a),a.avail_out===0)return g.last_flush=-1,ke}else if(a.avail_in===0&&ki(E)<=ki(k)&&E!==se)return Le(a,dn);if(g.status===ai&&a.avail_in!==0)return Le(a,dn);if(a.avail_in!==0||g.lookahead!==0||E!==ts&&g.status!==ai){let I=g.strategy===Ci?ar(g,E):g.strategy===Ii?bo(g,E):li[g.level].func(g,E);if((I===$e||I===ms)&&(g.status=ai),I===Ht||I===$e)return a.avail_out===0&&(g.last_flush=-1),ke;if(I===xs&&(E===Tt?he(g):E!==gs&&(Ls(g,0,0,!1),E===Ri&&(ue(g.head),g.lookahead===0&&(g.strstart=0,g.block_start=0,g.insert=0))),ze(a),a.avail_out===0))return g.last_flush=-1,ke}return E!==se?ke:g.wrap<=0?tr:(g.wrap===2?(ct(g,a.adler&255),ct(g,a.adler>>8&255),ct(g,a.adler>>16&255),ct(g,a.adler>>24&255),ct(g,a.total_in&255),ct(g,a.total_in>>8&255),ct(g,a.total_in>>16&255),ct(g,a.total_in>>24&255)):(Vs(g,a.adler>>>16),Vs(g,a.adler&65535)),ze(a),g.wrap>0&&(g.wrap=-g.wrap),g.pending!==0?ke:tr)},Co=a=>{if(!a||!a.state)return me;let E=a.state.status;return E!==Oi&&E!==mn&&E!==es&&E!==Ni&&E!==Mi&&E!==De&&E!==ai?Le(a,me):(a.state=null,E===De?Le(a,yo):ke)},Io=(a,E)=>{let v=E.length;if(!a||!a.state)return me;let w=a.state,g=w.wrap;if(g===2||g===1&&w.status!==Oi||w.lookahead)return me;if(g===1&&(a.adler=Jn(a.adler,E,v,0)),w.wrap=0,v>=w.w_size){g===0&&(ue(w.head),w.strstart=0,w.block_start=0,w.insert=0);let mt=new Uint8Array(w.w_size);mt.set(E.subarray(v-w.w_size,v),0),E=mt,v=w.w_size}let k=a.avail_in,I=a.next_in,V=a.input;for(a.avail_in=v,a.next_in=0,a.input=E,ys(w);w.lookahead>=at;){let mt=w.strstart,it=w.lookahead-(at-1);do w.ins_h=xe(w,w.ins_h,w.window[mt+at-1]),w.prev[mt&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=mt,mt++;while(--it);w.strstart=mt,w.lookahead=at-1,ys(w)}return w.strstart+=w.lookahead,w.block_start=w.strstart,w.insert=w.lookahead,w.lookahead=0,w.match_length=w.prev_length=at-1,w.match_available=0,a.next_in=I,a.input=V,a.avail_in=k,w.wrap=g,ke};var xi=Ro,Ss=lr,hr=cr,Po=Li,Oo=To,No=vn,ur=Co,hi=Io,Ui="pako deflate (from Nodeca project)",Te={deflateInit:xi,deflateInit2:Ss,deflateReset:hr,deflateResetKeep:Po,deflateSetHeader:Oo,deflate:No,deflateEnd:ur,deflateSetDictionary:hi,deflateInfo:Ui};let Mo=(a,E)=>Object.prototype.hasOwnProperty.call(a,E);var ko=function(a){let E=Array.prototype.slice.call(arguments,1);for(;E.length;){let v=E.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(let w in v)Mo(v,w)&&(a[w]=v[w])}}return a},Do=a=>{let E=0;for(let w=0,g=a.length;w<g;w++)E+=a[w].length;let v=new Uint8Array(E);for(let w=0,g=0,k=a.length;w<k;w++){let I=a[w];v.set(I,g),g+=I.length}return v},dr={assign:ko,flattenChunks:Do};let pr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pr=!1}let ui=new Uint8Array(256);for(let a=0;a<256;a++)ui[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;ui[254]=ui[254]=1;var Lo=a=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let E,v,w,g,k,I=a.length,V=0;for(g=0;g<I;g++)v=a.charCodeAt(g),(v&64512)===55296&&g+1<I&&(w=a.charCodeAt(g+1),(w&64512)===56320&&(v=65536+(v-55296<<10)+(w-56320),g++)),V+=v<128?1:v<2048?2:v<65536?3:4;for(E=new Uint8Array(V),k=0,g=0;k<V;g++)v=a.charCodeAt(g),(v&64512)===55296&&g+1<I&&(w=a.charCodeAt(g+1),(w&64512)===56320&&(v=65536+(v-55296<<10)+(w-56320),g++)),v<128?E[k++]=v:v<2048?(E[k++]=192|v>>>6,E[k++]=128|v&63):v<65536?(E[k++]=224|v>>>12,E[k++]=128|v>>>6&63,E[k++]=128|v&63):(E[k++]=240|v>>>18,E[k++]=128|v>>>12&63,E[k++]=128|v>>>6&63,E[k++]=128|v&63);return E};let fr=(a,E=a.length)=>{if(E<65534&&a.subarray&&pr)return String.fromCharCode.apply(null,a.length===E?a:a.subarray(0,E));let v="";for(let w=0;w<E;w++)v+=String.fromCharCode(a[w]);return v};var h=(a,E)=>{let v=E||a.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,E));let w,g,k=new Array(v*2);for(g=0,w=0;w<v;){let I=a[w++];if(I<128){k[g++]=I;continue}let V=ui[I];if(V>4){k[g++]=65533,w+=V-1;continue}for(I&=V===2?31:V===3?15:7;V>1&&w<v;)I=I<<6|a[w++]&63,V--;if(V>1){k[g++]=65533;continue}I<65536?k[g++]=I:(I-=65536,k[g++]=55296|I>>10&1023,k[g++]=56320|I&1023)}return fr(k,g)},l=(a,E)=>{E=E||a.length,E>a.length&&(E=a.length);let v=E-1;for(;v>=0&&(a[v]&192)===128;)v--;return v<0||v===0?E:v+ui[a[v]]>E?v:E},d={string2buf:Lo,buf2string:h,utf8border:l};function y(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var m=y;let b=Object.prototype.toString,{Z_NO_FLUSH:D,Z_SYNC_FLUSH:M,Z_FULL_FLUSH:R,Z_FINISH:j,Z_OK:$,Z_STREAM_END:W,Z_DEFAULT_COMPRESSION:et,Z_DEFAULT_STRATEGY:gt,Z_DEFLATED:lt}=Ti;function ie(a){this.options=dr.assign({level:et,method:lt,chunkSize:16384,windowBits:15,memLevel:8,strategy:gt},a||{});let E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;let v=Te.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(v!==$)throw new Error(Ds[v]);if(E.header&&Te.deflateSetHeader(this.strm,E.header),E.dictionary){let w;if(typeof E.dictionary=="string"?w=d.string2buf(E.dictionary):b.call(E.dictionary)==="[object ArrayBuffer]"?w=new Uint8Array(E.dictionary):w=E.dictionary,v=Te.deflateSetDictionary(this.strm,w),v!==$)throw new Error(Ds[v]);this._dict_set=!0}}ie.prototype.push=function(a,E){let v=this.strm,w=this.options.chunkSize,g,k;if(this.ended)return!1;for(E===~~E?k=E:k=E===!0?j:D,typeof a=="string"?v.input=d.string2buf(a):b.call(a)==="[object ArrayBuffer]"?v.input=new Uint8Array(a):v.input=a,v.next_in=0,v.avail_in=v.input.length;;){if(v.avail_out===0&&(v.output=new Uint8Array(w),v.next_out=0,v.avail_out=w),(k===M||k===R)&&v.avail_out<=6){this.onData(v.output.subarray(0,v.next_out)),v.avail_out=0;continue}if(g=Te.deflate(v,k),g===W)return v.next_out>0&&this.onData(v.output.subarray(0,v.next_out)),g=Te.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===$;if(v.avail_out===0){this.onData(v.output);continue}if(k>0&&v.next_out>0){this.onData(v.output.subarray(0,v.next_out)),v.avail_out=0;continue}if(v.avail_in===0)break}return!0},ie.prototype.onData=function(a){this.chunks.push(a)},ie.prototype.onEnd=function(a){a===$&&(this.result=dr.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function Wt(a,E){E=E||{};let v=new ie(E);if(v.push(a,!0),v.err)throw v.msg||Ds[v.err];return v.result}function ye(a,E){return E=E||{},E.gzip=!0,Wt(a,E)}return(a,E,v)=>{let w=ye(a);return E==="base64"?w=btoa(fr(w)):w=w.buffer,v&&v(w),w}}var Ev=(()=>{class s extends Eh{constructor(t){super(t),this.algorithm=Yr.GZIP,this._g=kl(),this.n0=(i,r,o)=>{let c=this._g(i,r);o(c)},this.compress=Dl(),typeof CompressionStream!="undefined"&&Mf||(this.compress=this.n0,this.getCompressorSourceCode=()=>kl.toString())}compressSync(t,e){return this._g(t,e)}getCompressorSourceCode(){return Dl.toString()}}return s})();function Dl(){let s=n=>new Promise(t=>{let e=new FileReader;e.onload=i=>t(i.target.result.split(",")[1]),e.readAsDataURL(new Blob([n]))});return(n,t,e)=>{let i=new Response(n).body.pipeThrough(new CompressionStream("gzip")),r=new Response(i).arrayBuffer();if(t==="base64"){r.then(o=>s(o)).then(o=>e(o));return}r.then(o=>e(o))}}var Sv=(()=>{class s extends Eh{constructor(){super(...arguments),this.algorithm=Yr.UNCOMPRESSED}compress(t,e,i){i(this.compressSync(t,e))}compressSync(t,e){return t}getCompressorSourceCode(){return function(){return(t,e,i)=>i(t)}.toString()}}return s})(),Cu=(()=>{class s{static create(t,e=!0){return this.instance?this.instance:e&&!mv.isCompressionEnabled()?new Sv(t):this.instance=new Ev(t)}}return s})();var vv=(()=>{class s{constructor(t,e,i,r,o,c,u,p,S,f,_,A,T,x,U,N,P,Y,O,X,tt,nt,ut,Rt,Lt,C,B,K,st){this.Q=t,this.le=e,this.C=i,this.w=r,this.E=o,this.f=c,this.qh=u,this.h=p,this.Gh=S,this.Qs=f,this.zr=_,this.pe=A,this.I=T,this.W=x,this.K=U,this.A=N,this.h0=P,this.J=Y,this.it=O,this.wt=X,this.Ag=tt,this.te=nt,this.u0=ut,this.T=Rt,this.St=Lt,this.M=C,this.xt=B,this.et=K,this.ft=st,this.d0=(vt=!1)=>{let Nt=this.w.getSession();Nt===null?(this.Nn=new ov(this.h.recordTargetingRules,this.Tg,this.E,this.et,this.J,this.A),this.Nn.init(),this.Nn.start()):(Nt.collectState===q.RECORDING_RULES_TARGETING||Nt.collectState===q.ANALYTICS_ONLY_RULES_TARGETING)&&this.Tg(vt)},this.Tg=(vt=!1)=>{this.Mn.onLoad(()=>{var Nt,Bt;(Nt=this.Nn)===null||Nt===void 0||Nt.emitTargetingCollectState(),(Bt=this.Nn)===null||Bt===void 0||Bt.stop(),this.E.emitStartTracking(vt)}),this.qr(vt)},this.qr=(vt=!1)=>{this.Qs.isActive()||(this.ft.init(),this.Wh.start(vt),this.Mn.start())},this.p0=()=>{this.E.emitBeforeSessionRenewal(),this.kn(!0),this.E.emitAfterSessionRenewal()},this.f0=()=>{this.E.emitBeforeSessionRenewal(),this.et.refreshQuota(),this.et.onQuotaReady(vt=>{vt!==q.QUOTA_REACHED&&(this.kn(!0),this.E.emitAfterSessionRenewal())})}}start(){var t;if(this.Gh.init(),this.Qs.init(),this.Qs.isActive())return;let e,i,r,o,c,u,p,S,f,_,A,T,x,U,N,P,Y,O,X,tt;if(this.T.schedule(()=>{x=new OE(this.w,this.C),P=new lS(x),T=new EE(this.W),U=new wu(()=>{}),Y=new _u,tt=new xS;let nt=new KS(U,this.ft,Y,X,tt,this.Ma());N=new YS(this.Ma(),this.ft,nt,Y,O);let ut=new XS(this.E,this.f,this.ft,nt,Y,O,X);ut.init(),this.E.addListener(ut),e=new aE(this.h,this.Q,this.C,this.W,T,this.f,x,new zE(Q),this.it,this.St,this.J,N),i=new _y(this.f,this.w,this.h,this.Q,this.le,this.I),A=new WE(N);let Rt=new VE(this.h);_=new UE(this.h,Rt,A,N,this.it),_.init();let Lt=new cS;r=new my(this.C,this.w,this.f,this.it,Rt,this.h,Lt,A),o=new Iy(this.h,this.Q,this.C,this.f,this.I,x,this.A),this.h.isHeapSideloadsCs()&&(this.rs=new WS,this.Rg=new GS(this.rs,this.f),this.E.addListener(this.Rg),this.Rg.init());let C;if(this.h.isHeapSideloadsCs()){C=new av;let B=new pv(C,this.f);this.E.addListener(B),B.init()}this.Wh=new yE(this.h,this.f,this.E,this.Q,this.C,this.w,this.pe,this.wt,this.K,this.A,this.te,Lt,this.J,this.rs,C),this.Cg=new CE(this.h,this.C,this.w,this.f),p=new DE(this.h,this.f,this.le,this.Q,this.J),S=new xE(this.f),f=new GE(this.h,new fh(this.h,this.I),this.St),this.Mn=new SE}),this.h.apiErrors.enabled&&this.T.schedule(()=>{this.lt=new hu,this.g0=new QS(this.f,this.lt),this.g0.init()}),this.h.apiErrors.enabled&&this.T.schedule(()=>{var nt,ut,Rt;let Lt;!((nt=this.h.apiErrors.collectionRules)===null||nt===void 0)&&nt.length?Lt=new OS(this.h.apiErrors,this.I):Lt=new NS(this.h.apiErrors,this.I),this.at=new HE(new TS,new RS,Lt),this.ce=new BE(this.lt,this.K,!!(!((Rt=(ut=this.h)===null||ut===void 0?void 0:ut.experimental)===null||Rt===void 0)&&Rt.anonymizeNameInUrls)),this.Fi=new CS;let C=new KE(this.at,this.ce,this.h,this.Q,this.it,this.f,this.St);C.init(),this.E.addListener(C)}),this.h.customErrors.enabled&&this.T.schedule(()=>{var nt,ut,Rt;let Lt;this.Ks=new iv(this.I,!((Rt=(ut=this.h)===null||ut===void 0?void 0:ut.experimental)===null||Rt===void 0)&&Rt.anonymizeNameInUrls?this.K:void 0);let C=new aS(this.Ks,this.h,this.Q,this.f,this.J,this.St,this.it,Lt);C.init(),this.E.addListener(C)}),this.h.jsErrorsEnabled&&this.T.schedule(()=>{this.As=new LE,this.ae=new $E(this.I,this.A);let nt=new sS(this.As,this.ae,this.h,this.Q,this.it,this.f,this.J,this.A,this.St);nt.init(),this.E.addListener(nt)}),this.T.schedule(()=>{this.zr.init()}),this.T.schedule(()=>{r.init()}),this.T.schedule(()=>{i.init()}),this.T.schedule(()=>{o.init()}),this.T.schedule(()=>{this.Ag.init()}),this.T.schedule(()=>{this.Wh.init()}),this.T.schedule(()=>{this.Cg.init()}),this.T.schedule(()=>{p.init()}),this.T.schedule(()=>{this.h0.init()}),this.T.schedule(()=>{S.init()}),this.T.schedule(()=>{f.init()}),this.T.schedule(()=>{this.u0.init()}),this.T.schedule(()=>{this.E.addListener(this.Cg),this.E.addListener(this.qh),this.E.addListener(e),this.E.addListener(this.zr),this.E.addListener(r),this.E.addListener(o),this.E.addListener(this.Ag),this.E.addListener(this.Wh),this.E.addListener(p),this.E.addListener(i),this.E.addListener(_),this.E.addListener(f),this.E.addListener(P)}),Vn.isRecordingSupported()&&this.T.schedule(()=>{let nt=new ry(A,this.w,this.h,this.Q,this.f,this.I,x,U,this.ae,this.at,this.ce,this.lt,this.E,this.J,this.it,this.te,this.St,this.K,this.Fi,this.Ma(),this.Ks,O);nt.init(),this.E.addListener(nt),r.setRecordingService(nt.recordingService)}),!((t=this.h.voc)===null||t===void 0)&&t.enabled){let nt;this.T.schedule(()=>{var ut;if(!((ut=this.h.voc)===null||ut===void 0)&&ut.enabled){let C=this.Ma().shouldUseAnonymization(),B=[],K=new bu,st=new sc(C,this.h.whitelistedAttributes,this.I,this.h.anonymizeDigits);csArray.prototype.push.call(B,K,st),nt=new vu(B,this.h,U,this.ft,Y)}let Rt=new jS(this.f);Rt.init();let Lt=new fu(this.h,this.f,this.M,this.xt,this.C,this.A,nt,this.J,Rt);Lt.init(),this.E.addListener(Lt)})}this.T.schedule(()=>{e.init()}),this.h.isHeapSideloadsStartDataCollection()&&this.T.schedule(()=>{this.f.register(["startDataCollection"],()=>{this.qr()})}),this.T.schedule(()=>{this.h.isQuotaEnabled()?x.onSessionExpired(()=>{this.f0()}):x.onSessionExpired(()=>{this.p0()}),this.kn()})}kn(t=!1){var e;if(this.h.hasTargetingRules()){this.d0(t),this.f.start(),this.Nn&&this.Nn.checkInitialUrlTargetingRules();return}this.f.start(),this.Mn.onLoad(()=>{this.E.emitStartTracking(t)}),(!du(this.h)&&!this.h.isHeapSideloadsStartDataCollection()||t)&&this.qr(t)}Ma(){if(this.ot)return this.ot;let t=new mu;return this.ot=new gu(this.pe,this.h,this.A,t),this.ot.init(),this.ot.shouldUseAnonymization()&&Ot.counters.pageAnonymisation.count("anonymized-on-start"),this.ot}}return s})(),wv=(()=>{class s{constructor(t,e,i,r,o,c,u,p){this.h=t,this.C=e,this.We=i,this.Ig=r,this.m0=o,this.y0=c,this.E0=u,this.Yh=p}compute(t){var e,i;this.h.crossDomainTracking&&!this.h.cookielessTrackingEnabled?this.h.crossDomainSingleIframeTracking?(e=this.E0)===null||e===void 0||e.start(()=>this.Xh(t)):(i=this.y0)===null||i===void 0||i.applyUpToDate(()=>this.Xh(t)):this.Xh(t)}Xh(t){this.m0.handle(),this.Ig.clear(),this.S0()?(this.Ig.restoreClearedVisitor(),t(!0)):(this.We.exclude(this.h),t(!1))}S0(){let t=Ki.boolean(this.h.sampleRate);return this.Yh.isForceIncluded()||!this.We.isExcluded()&&this.C.doesVisitorExist()||!this.We.isExcluded()&&t}}return s})(),Iu=(()=>{class s{constructor(t,e,i,r){this.h=t,this.nt=e,this.E=i,this.w=r,this.v0=10*1e3}createOrUpdateVisitor(){var t;let e=this.getVisitor();e===null&&(e=this.w0(),(t=this.w)===null||t===void 0||t.removeSession()),this._0(e),this.setVisitor(e)}w0(){return{id:pu.generate(),visitsCount:0,appliedTrackingDraw:this.h.lastTrackingDraw,creationTimestamp:kc(),lastVisitTimestamp:0,hitTimestamp:0,expires:z.now()+this.h.visitorCookieTimeout,allowSubdomains:this.h.allowSubdomains,identityPrint:null}}_0(t){let e=kc();this.w&&!this.w.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.h.lastTrackingDraw,this.Pg=t.visitsCount}getRequestParameters(){let t=this.getVisitor();return t?{uu:t.id,sn:`${t.visitsCount}`,hd:`${t.hitTimestamp}`}:{}}getVisitor(){return this.nt.get()}setVisitor(t){this.nt.set(t)}doesVisitorExist(){return this.nt.get()!==null}resetVisitor(){this.Og(),this.E.emitAfterVisitorCleared()}removeVisitor(){this.nt.remove()}hasAllowSubdomainsChanged(){let t=this.getVisitor();return t?t.allowSubdomains!==this.h.allowSubdomains:!1}handleSubdomainChange(){this.nt.handleSubdomainChange()}isSessionRenewed(){let t=this.getVisitor();return t===null||this.Pg===void 0?!1:t.visitsCount!==this.Pg}b0(){return!dt(this.Ng)||z.now()-this.Ng>this.v0}renewVisitor(){this.b0()?(this.Ng=z.now(),this.Og(),this.E.emitAfterVisitorRenewal()):Q.warn("session:start:newVisitor is trying to renew visitor under time limit")}Og(){this.E.emitBeforeVisitorRenewal(),this.removeVisitor()}}return s})(),qe="_cs_s",Nr=18e5,ia=".",_v=13,Ar=(()=>{let s;return function(n){n[n.NOT_FOUND=0]="NOT_FOUND",n[n.EXPIRED=1]="EXPIRED",n[n.FOUND=2]="FOUND"}(s||(s={})),s})(),bv=(()=>{class s{constructor(t,e,i){this.h=t,this.M=e,this.Xt=i,this.Qt=null,this.Kh=!1}get(t){let e=this.getRawSession(t);return this.isValid(e)?bh(e):null}getRawSession(t){if(t){let S=this.Jh();return ya(S)}let{sessionString:e,status:i}=this.A0(),r=ya(e);if(i!==Ar.EXPIRED)return r;if(this.h.cookielessTrackingEnabled)return null;let o=this.Jh();if(!o)return null;let c=csString.prototype.split.call(o,ia);if(!s.Mg(c))return o;let u=c[c.length-1],p=parseInt(u,10);return isNaN(p)||this.T0(p),r}onCookieToSet(t){this.ci=t}onCookieToRemove(t){this.li=t}set(t,e=Nr){var i;let r=z.now()+e,o=lf(t);o+=`${ia}${r}`,this.R0(o,r),this.h.cookielessTrackingEnabled?this.Xt.setItem(qe,o):(this.M.set(qe,o,e),(i=this.ci)===null||i===void 0||i.call(this,qe,o,e))}remove(){var t;this.h.cookielessTrackingEnabled?this.Xt.removeItem(qe):(this.M.delete(qe),(t=this.li)===null||t===void 0||t.call(this,qe)),this.C0()}handleSubdomainChange(){if(this.h.cookielessTrackingEnabled)return;let t=this.get(!0);t&&(this.h.allowSubdomains?this.M.delete(qe,Bn.CURRENT_DOMAIN):this.M.delete(qe,this.M.getRootDomain()),this.set(t))}isValid(t){return t!==null&&Ja(t)}R0(t,e){this.Qt={sessionString:t,expires:e}}A0(){return this.Qt?this.Qt&&z.now()<=this.Qt.expires?{sessionString:this.Qt.sessionString,status:Ar.FOUND}:{sessionString:this.Qt.sessionString,status:Ar.EXPIRED}:{sessionString:this.Jh(),status:Ar.NOT_FOUND}}C0(){this.Qt=null}T0(t){this.Qt&&(this.Qt.expires=t,this.Kh=!0)}isCacheRefreshed(){return this.Kh}resetCacheRefreshed(){this.Kh=!1}Jh(){if(this.h.cookielessTrackingEnabled){let e=this.Xt.getItem(qe);return!e||this.kg(e)?null:e}let t=this.M.get(qe);return!t||this.kg(t)?null:t}kg(t){let e=csString.prototype.split.call(t,ia);if(!s.Mg(e))return!1;let i=parseInt(e[e.length-1],10);return!isNaN(i)&&z.now()>i}static Mg(t){return t[t.length-1].length===_v}}return s})(),fc=60*1e3,Av=60*fc,Tv=4*Av-fc,Fi=(()=>{let s;return function(n){n[n.NO=0]="NO",n[n.WITHDRAWN=1]="WITHDRAWN",n[n.GRANTED=2]="GRANTED"}(s||(s={})),s})(),Rv=(()=>{class s{constructor(t,e){this.ye=t,this.et=e,this.Gr=null,this.Qh=0,this.Wr=Fi.NO}setDynamicVariablesService(t){this.I0=t}createOrUpdateSession(){this.Zh(),this.P0=z.now(),this.Qh=0;let t=this.Dg();t===null?(t=this.O0(),this.Lg(t),this.ka(t)):(t=this.et.sanitizeSessionCollectState(t),this.Lg(t),t.collectState=this.et.getEligibleCollectState(t)),this.setSession(t)}grantReplayRecording(t){t.collectState=this.et.getInitialCollectState(),t.collectState=this.et.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)}grantReplayRecordingBeforeSessionStart(){this.Wr=Fi.GRANTED}withdrawnReplayRecording(t){t.collectState=this.et.getRecordingConsentWithdrawn(),this.setSession(t)}withdrawnReplayRecordingBeforeSessionStart(){this.Wr=Fi.WITHDRAWN}ka(t){this.Wr===Fi.WITHDRAWN?(t.collectState=this.et.getRecordingConsentWithdrawn(),this.setSession(t)):this.Wr===Fi.GRANTED?t.collectState=this.et.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.et.computeInitialCollectState(t),this.Wr=Fi.NO}O0(){return{pageNumber:0,collectState:this.et.getInitialCollectState(),etrState:fe.ETR_OFF,etrStatus:de.ETR_NOT_SAVED_SESSION}}Lg(t){t.pageNumber+=1}isReplayRecorded(){let t=this.getSession();return!!t&&this.et.isReplayRecorded(t)}isTemporarilyRecorded(){let t=this.getSession();return(t==null?void 0:t.collectState)===q.RECORDING_TEMPORARILY}abortQuotaServiceRequest(){this.et.abortQuotaServiceRequest()}getRequestParameters(){let t={},e=this.getSession();return e!==null&&(t.pn=`${e.pageNumber}`),t}getSession(){return this.ye.get()}Dg(){return this.ye.get(!0)}doesSessionExist(){return this.ye.get()!==null}setSession(t){this.ye.set(t)}refreshSession(){let t=this.Dg();t&&this.setSession(t)}removeSession(){this.ye.remove()}getCollectStates(){let t=this.getSession(),e=[];return t&&(t.collectState!==q.ANALYTICS_ONLY&&csArray.prototype.push.call(e,t.collectState===q.RECORDING_RULES_TARGETING?q.RECORDING_GLOBAL_SAMPLING:t.collectState),t.etrState===fe.ETR_ON&&csArray.prototype.push.call(e,q.RECORDING_ETR_SAMPLING)),e}updateCollectState(t,e){let i=this.getSession();i!==null&&(i.collectState=t,i.etrState=e,this.setSession(i))}hasValidSession(){let t=this.ye.getRawSession();return this.ye.isValid(t)}handleSubdomainChange(){this.ye.handleSubdomainChange()}pollCacheRefreshEvent(t=!0){let e=this.ye.isCacheRefreshed();return e&&t&&this.ye.resetCacheRefreshed(),e}extendSessionPeriodically(){this.Gr||this.xg()}extendSession(){let t=this.getSession();return t===null?(Q.warn("extendSession is trying to extend an expired session"),this.Zh(),!1):(this.ye.set(t,Nr),!0)}xg(){if(this.N0()){this.Zh();return}this.extendSession()&&(this.M0(),this.k0())}k0(){this.Gr=window.csSetTimeout(()=>{this.xg()},Nr-fc)}N0(){return Tv-(z.now()+Nr-this.P0)<0}Zh(){this.Gr&&(window.csClearTimeout(this.Gr),this.Gr=null)}M0(){this.Qh+=1,this.I0.trackDynamicVariable("session_expiry_update",this.Qh)}}return s})(),Cv=(()=>{class s{constructor(t,e,i){this.h=t,this.C=e,this.We=i}clear(){this.D0()&&(this.Ug=this.C.getVisitor(),this.C.removeVisitor()),this.L0()&&this.We.removeExclusion()}D0(){return this.C.doesVisitorExist()&&this.C.getVisitor().appliedTrackingDraw!==this.h.lastTrackingDraw}L0(){return this.We.getAppliedTrackingDraw()!==this.h.lastTrackingDraw}restoreClearedVisitor(){this.Ug&&this.C.setVisitor(this.Ug)}}return s})(),Iv=(()=>{class s{constructor(t,e,i){this.C=t,this.w=e,this.x0=i}handle(){this.C.hasAllowSubdomainsChanged()&&(this.C.handleSubdomainChange(),this.w.handleSubdomainChange(),this.x0.handleSubdomainChange())}}return s})(),zs="_cs_c",fi=(()=>{let s;return function(n){n[n.NOT_REQUIRED=0]="NOT_REQUIRED",n[n.NOT_EXPRESSED=1]="NOT_EXPRESSED",n[n.GRANTED=2]="GRANTED",n[n.WITHDRAWN=3]="WITHDRAWN"}(s||(s={})),s})(),Pu=(()=>{class s{constructor(t,e,i){this.h=t,this.M=e,this.xt=i}get(){let t;return this.h.cookielessTrackingEnabled?t=this.xt.getItem(zs):t=this.M.get(zs),t===null?t:Number(t)}set(t){this.h.cookielessTrackingEnabled?this.xt.setItem(zs,csString(t)):this.M.set(zs,csString(t),qa)}remove(){this.h.cookielessTrackingEnabled?this.xt.removeItem(zs):this.M.delete(zs)}handleSubdomainChange(){this.h.cookielessTrackingEnabled||(this.h.allowSubdomains?this.M.delete(zs,Bn.CURRENT_DOMAIN):this.M.delete(zs,this.M.getRootDomain()))}}return s})(),Pv=(()=>{class s{constructor(t,e,i){this.h=t,this.w=e,this.E=i}grantReplayConsent(){if(!Js.isReplayConsentNeeded(this.h))return;let t=this.w.getSession();if(!t){this.w.grantReplayRecordingBeforeSessionStart();return}Js.isRecordingBlockedByConsent(t)&&(this.w.grantReplayRecording(t),this.E.emitAfterReplayRecordingConsentGranted())}withdrawReplayConsent(){if(!Js.isReplayConsentNeeded(this.h))return;let t=this.w.getSession();if(!t){this.w.withdrawnReplayRecordingBeforeSessionStart();return}Js.isRecordingWithDrawn(t)||(this.w.withdrawnReplayRecording(t),this.E.emitAfterReplayRecordingConsentWithdrawn())}}return s})(),Ov=["replay:consent:unanonymized:granted","trackConsentGranted"],Nv=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],Mv=["replay:consent:startForSession:granted"],kv=["replay:consent:startForSession:withdrawn"],Dv=(()=>{class s{constructor(t,e,i,r,o){this.h=t,this.f=e,this.pe=i,this.w=r,this.E=o}init(){this.Vg=new Pv(this.h,this.w,this.E),this.pe.setInitialConsent(),this.ht()}ht(){this.f.register(Ov,()=>{this.pe.grantReplayAnonymizationConsent()}),this.f.register(Nv,()=>{this.pe.withdrawReplayAnonymizationConsent()}),this.f.register(Mv,()=>{this.Vg.grantReplayConsent()}),this.f.register(kv,()=>{this.Vg.withdrawReplayConsent()})}onOptout(){this.pe.removeAllConsents()}onBeforeVisitorRenewal(){this.pe.removeAllConsents()}onAfterVisitorRenewal(){this.pe.setInitialConsent()}onAfterVisitorCleared(){this.pe.setInitialConsent()}}return s})(),Ou=(()=>{class s{constructor(t,e,i){this.h=t,this.nt=e,this.E=i}setInitialConsent(){let t=this.nt.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()}hasConsentRequiredChanged(t){let e=this.h.consentRequired;return e&&t===fi.NOT_REQUIRED||!e&&t!==fi.NOT_REQUIRED}handleSubdomainChange(){this.nt.handleSubdomainChange()}setDefaultReplayAnonymization(){let t=this.h.consentRequired?fi.NOT_EXPRESSED:fi.NOT_REQUIRED;this.nt.set(t)}grantReplayAnonymizationConsent(){this.h.consentRequired&&(this.nt.set(fi.GRANTED),this.E.emitReplayUnanonymizationConsentGranted())}withdrawReplayAnonymizationConsent(){this.h.consentRequired&&(this.nt.set(fi.WITHDRAWN),this.E.emitReplayUnanonymizationConsentWithdrawn())}removeAllConsents(){this.nt.remove()}isReplayUnanonymizedAllowedByConsent(){return!this.h.consentRequired||this.nt.get()===fi.GRANTED}getRequestParameters(){return{uc:`${this.nt.get()}`}}}return s})(),Lv=(()=>{class s{constructor(t,e,i,r,o,c,u){this.E=t,this.f=e,this.qh=i,this.Gh=r,this.Qs=o,this.U0=c,this.zr=u}start(){this.E.addListener(this.U0),this.E.addListener(this.zr),this.E.addListener(this.qh),this.zr.init(),this.Gh.init(),this.Qs.init(),!this.Qs.isActive()&&this.f.start()}}return s})(),xv=(()=>{class s{constructor(t,e){this.Rt=t,this.nt=e}exclude(t){this.nt.set(csString(t.lastTrackingDraw))}removeExclusion(){this.nt.remove()}isExcluded(){return this.V0()||this.j0()}V0(){return this.getAppliedTrackingDraw()!==0}getAppliedTrackingDraw(){return this.nt.get()}j0(){return csString.prototype.indexOf.call(this.Rt.href,vs)>0}}return s})(),Uv=(()=>{class s{constructor(t){this.Ze=t}onOptout(){this.Ze.removeExclusion()}}return s})(),na=(()=>{let s;return function(n){n.SessionReplay="SR",n.None=""}(s||(s={})),s})(),Vv=".^",Nu=".*",jv=(()=>{class s{constructor(t){this.A=t,this.tu=new csRegExp(`${Vv}`)}setExcludeUrlForSessionReplay(t){try{this.tu=new csRegExp(t)}catch{Q.warn(`excludeURLforReplay - invalid regex '${t}'`),this.tu=new csRegExp(`${Nu}`)}}jg(){return this.tu.test(this.A.getAnonymizedUrl())?na.SessionReplay:na.None}isUrlExcludedForSessionReplay(){return this.jg()===na.SessionReplay}getRequestParameters(){return{ex:this.jg()}}}return s})(),Mu=["excludeURLforReplay"],Hv=(()=>{class s{constructor(t,e){this.Ze=t,this.f=e}init(){this.f.register(Mu,t=>{if(L(t))this.Ze.setExcludeUrlForSessionReplay(t);else throw new Error("Command misuse: excludeURLforReplay")})}}return s})(),ra="_cs_inc",Bv=(()=>{class s{constructor(t,e){this.Rt=t,this.M=e}isForceIncluded(){return this.H0()||this.B0()}isForceReplayRecorded(){return this.F0(q.RECORDING_GLOBAL_SAMPLING)}H0(){return this.M.get(ra)!==null}F0(t){return this.M.get(ra)===t}B0(){return csString.prototype.indexOf.call(this.Rt.href,ra)>0}}return s})(),Rn="_cs_optout",Fv=(()=>{class s{constructor(t,e,i){this.h=t,this.M=e,this.xt=i}get(){return this.h.cookielessTrackingEnabled?this.xt.getItem(Rn):this.M.get(Rn)}set(t){this.h.cookielessTrackingEnabled?this.xt.setItem(Rn,t):this.M.set(Rn,t,qa)}}return s})(),Ll="1",$v=(()=>{class s{constructor(t,e,i){this.E=t,this.Rt=e,this.nt=i}init(){!this.isActive()&&this.$0()&&this.activate()}isActive(){return this.nt.get()===Ll}activate(){this.E.emitOptout(),this.nt.set(Ll)}$0(){return csString.prototype.indexOf.call(this.Rt.href,Rn)>0}}return s})(),zv=["optout"];var qv=(()=>{class s{constructor(t,e){this.f=t,this.Qs=e}init(){this.f.register(zv,()=>{this.Qs.activate()})}}return s})();var Gv=(()=>{class s{constructor(t,e){this.f=t,this.it=e}init(){this.it.addListener(this.f)}onOptout(){this.f.stop()}onBeforeSessionRenewal(){this.f.stop()}}return s})();var ku=(()=>{let s;return function(n){n.UXA="_uxa",n.WVT="cs_wvt"}(s||(s={})),s})(),Du=(()=>{class s extends ae{constructor(t){super(),this.eu=t,this.hs={}}register(t,e,i){for(let r of t){let o=(...c)=>{try{let u=e(...c);return Ot.counters.commandApplied.count(r),u}catch(u){Ot.counters.commandMisuse.count(r),Q.warn(`Misused Command: ${r}; Args: ${csJSON.stringify(c)}; Error: ${ei(u)?u.stack:u}`)}};this.hs[r]={callback:o,configuration:i},this.hs}}onStart(){this.q0(),this.G0()}onStop(){for(let t of this.eu)window[t]=[]}applyFromIntegration(t,e,i){this.Hg(t,e,`Commands.apply.from.integration: ${i}`),Ot.counters.commandsFromIntegrations.count(t)}applyFromImplementation(t,e,i){this.Hg(t,e,`Commands.apply.from.implementation: ${i}`),Ot.counters.commandsFromCSTC.count(t)}onIframeCommands(t){for(let e of t.commands)this.W0(e.name,e.params,t.iframePath),Ot.counters.commandsFromIframe.count(e.name)}Hg(t,e,i){if(!this.isStarted){window._uxa.push([t,...e]);return}Q.tryToExecute(i,()=>{if(this.hs[t])return this.hs[t].callback(...e)})()}W0(t,e,i){Q.tryToExecute(`Commands.apply.from.iframe: ${i}`,()=>{if(this.hs[t])return this.hs[t].callback(...e)})()}q0(){for(let t of this.eu)window[t].forEach(([e,...i])=>this.Bg(e,i,!1))}G0(){for(let t of this.eu)window[t]={push:([e,...i])=>this.Bg(e,i,!0)}}Bg(t,e,i){var r,o;if(this.hs[t]){if(((r=this.hs[t].configuration)===null||r===void 0?void 0:r.disableApplyPending)&&!i||((o=this.hs[t].configuration)===null||o===void 0?void 0:o.disableApplyImmediate)&&i)return;try{return this.hs[t].callback(...e)}catch(u){Ot.counters.commandError.count(t),Q.error(`Command ${t} failed - params: ${csJSON.stringify(e)}`,u)}}}}return s})();var Wv=(()=>{class s{constructor(t,e,i,r){this.h=t,this.C=e,this.w=i,this.Jg=r}getRequestParameters(){var t;let e={...Ga(),...this.h.getRequestParameters()},i=this.w.getSession();i&&(e.pn=`${i.pageNumber}`);let r=this.C.getVisitor();if(r&&(e.sn=`${r.visitsCount}`,e.uu=`${r.id}`),!((t=this.Jg)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID=`${this.Jg.getSubProjectId()}`),window.heap)try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch{delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e}}return s})(),Yv=(()=>{class s{constructor(t,e){this.f=t,this.Ns=e}init(){this.f.register(["debugEvents"],t=>{typeof t=="boolean"&&this.Ns.updateDynamicFields("emitDebugEvents",t)})}}return s})();function xl(s,n,t){if(!dt(n)&&!dt(t))return s.href;let e=dt(n)?Lu(n):s.pathname,i=dt(t)?xu(t):s.search;return`${s.protocol}//${s.host}${e}${i}`}function Lu(s){return Ps(s,"/")?s:`/${s}`}function xu(s){return Ps(s,"?")||s===""?s:`?${s}`}var oa=(()=>{let s;return function(n){n[n.page=1]="page",n[n.onNextPageviewOnly=2]="onNextPageviewOnly"}(s||(s={})),s})(),Uu=(()=>{class s{constructor(t,e){this.Rt=t,this.K=e,this.Z0=10}overridePath(t,e){if(t===""){this.Dn=void 0;return}let i=this.Qg(e);i&&(this.nu=i),this.Dn=e?this.Zg(t,e):t}overrideQuery(t,e){let i=this.Qg(e);i&&(this.ru=i),this.Xr=e?this.Zg(t,e):t}computeOverriddenUrl(t){return this.tT(t)?this.getAnonymizedUrl():t}eT(t){return(typeof t=="string"||typeof t=="number")&&t in oa}tT(t){let e=this.tm(this.Rt.href);return this.tm(t)===e}tm(t){return Kd(t,"/")?csString.prototype.slice.call(t,0,-1):t}Qg(t){return dt(t==null?void 0:t.lifespan)&&this.eT(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null}sT(){return this.nu&&this.nu in oa}iT(){return this.ru&&this.ru in oa}cleanupOverrideLifespan(){this.sT()&&(this.Dn=void 0,this.nu=void 0),this.iT()&&(this.Xr=void 0,this.ru=void 0)}getAnonymizedUrl(){let t=xl(this.Rt,this.Dn,this.Xr);return this.K.anonymizeUrl(t)}getUrl(){return xl(this.Rt,this.Dn,this.Xr)}getAnonymizedPathAndQuery(){let t=dt(this.Dn)?Lu(this.Dn):this.Rt.pathname,e=dt(this.Xr)?xu(this.Xr):this.Rt.search;return this.K.anonymizeUrl(t+e)}getUrlProtocol(){return this.Rt.protocol}getRequestParameters(){return{url:this.getAnonymizedUrl()}}Zg(t,e){return this.nT(e)?this.rT(t):this.oT(e)?this.aT(t):t}oT(t){return!!t.decodeURI}aT(t){return this.em(t,1,!1)}nT(t){return!!t.decodeURIDeep}rT(t){return this.em(t,this.Z0,!0)}em(t,e,i){let r=t;for(let o=0;o<e;o++)try{let c=window.decodeURI(r);if(c===r)return r;r=c}catch{return r}return i&&Q.warn(`decodeURIDeep limit reached: ${r}`),r}}return s})(),gc=(()=>{class s{constructor(){this.listeners=[]}addListener(t){csArray.prototype.push.call(this.listeners,t)}}return s})(),Xv=(()=>{class s extends gc{emitPageEvent(t){for(let e of this.listeners)e.onPageEvent&&e.onPageEvent(t)}emitEventTriggerRecording(t,e){for(let i of this.listeners)i.onEventTriggerRecording&&i.onEventTriggerRecording(t,e)}emitCustomJavaScriptErrorEvent(t){for(let e of this.listeners)e.onCustomJavaScriptErrorEvent&&e.onCustomJavaScriptErrorEvent(t)}emitCustomErrorEvent(t){for(let e of this.listeners)e.onCustomErrorEvent&&e.onCustomErrorEvent(t)}emitUserIdentifierEvent(t){for(let e of this.listeners)e.onUserIdentifierEvent&&e.onUserIdentifierEvent(t)}emitExternalEvent(t){for(let e of this.listeners)e.onExternalEvent&&e.onExternalEvent({type:rt.EXTERNAL_EVENT,name:t,ts:0})}emitTargetingRulesArtificialPageview(t){for(let e of this.listeners)e.onTargetingRulesArtificialPageview&&e.onTargetingRulesArtificialPageview(t)}}return s})(),Dn="|iframe|",Kv=(()=>{class s extends gc{constructor(t,e,i,r){super(),this.cT=t,this.lT=e,this.hT=i,this.uT=r}emitIframeEvent(t,e,i){if(this.dT(e)&&t===null){Q.error(`iframeEventEmitter received event ${e} with null iframe, content:${csJSON.stringify(i)}`);return}switch(e){case yt.ChildLogMessage:this.pT(i);break;case yt.AnalysisEvent:{let r=i,o=this.cT.transformEvent(t,r);o.isUserEvent?this.fT(o.event):this.gT(o.event);break}case yt.RecordingEvent:{let r=i,o=this.uT.transformEvents(t,r);if(o.events.length===0)return;o.containsUserEvent?this.mT(o.events):this.yT(o.events);break}case yt.JavascriptError:this.ET(i);break;case yt.ApiError:this.ST(i);break;case yt.DetailedApiError:this.vT(i);break;case yt.CustomError:this.wT(i);break;case yt.EmerchandisingMessage:{let r=this.hT.transformEvent(t,i);this._T(r);break}case yt.Commands:{let r=this.lT.transformEvent(t,i);this.bT(r);break}case yt.IntegrationCallback:this.AT(i);break;case yt.StaticResource:this.TT(i);break;case yt.TrackingContextRequestMessage:this.RT(i);break;default:Q.error(`Parent received unknown data type from iframe : ${csJSON.stringify(i)}`)}}dT(t){let e=[yt.AnalysisEvent,yt.RecordingEvent,yt.EmerchandisingMessage,yt.Commands];return csArray.prototype.indexOf.call(e,t)!==-1}pT(t){let{message:e,errorCode:i,level:r}=t;switch(r){case Mt.debug:Q.debug(e,i);break;case Mt.warn:Q.warn(e,!0,i);break;case Mt.implementation:Q.implementation(e,i);break;case Mt.error:Q.error(e,i);break;case Mt.critical:Q.critical(e,i);break}}fT(t){for(let e of this.listeners)e.onIframeAnalysisUserEvent&&e.onIframeAnalysisUserEvent(t)}gT(t){for(let e of this.listeners)e.onIframeAnalysisBrowserEvent&&e.onIframeAnalysisBrowserEvent(t)}mT(t){for(let e of this.listeners)e.onIframeRecordingUserEvent&&e.onIframeRecordingUserEvent(t)}yT(t){for(let e of this.listeners)e.onIframeRecordingBrowserEvent&&e.onIframeRecordingBrowserEvent(t)}ET(t){for(let e of this.listeners)e.onIframeJavascriptError&&e.onIframeJavascriptError(t)}ST(t){for(let e of this.listeners)e.onIframeApiError&&e.onIframeApiError(t)}vT(t){for(let e of this.listeners)e.onIframeDetailedApiError&&e.onIframeDetailedApiError(t)}_T(t){for(let e of this.listeners)e.onIframeEmerchandisingMessage&&e.onIframeEmerchandisingMessage(t)}bT(t){for(let e of this.listeners)e.onIframeCommands&&e.onIframeCommands(t)}AT(t){for(let e of this.listeners)e.onIframeIntegrationCallback&&e.onIframeIntegrationCallback(t)}TT(t){for(let e of this.listeners)e.onIframeStaticResource&&e.onIframeStaticResource(t)}RT(t){for(let e of this.listeners)e.onTrackingContextRequestCallback&&e.onTrackingContextRequestCallback(t)}wT(t){for(let e of this.listeners)e.onIframeCustomError&&e.onIframeCustomError(t)}}return s})(),Vu=(()=>{class s{setItem(t,e){window.sessionStorage.setItem(t,e)}getItem(t){return window.sessionStorage.getItem(t)}removeItem(t){window.sessionStorage.removeItem(t)}}return s})(),ju=(()=>{class s{setItem(t,e){window.localStorage.setItem(t,e)}getItem(t){return window.localStorage.getItem(t)}removeItem(t){window.localStorage.removeItem(t)}}return s})(),mc=["setCustomVariable"],Jv=(()=>{class s{constructor(t,e){this.f=t,this.wt=e}init(){this.f.register(mc,(t,e,i,r)=>{this.wt.set(t,e,i,r)})}onAfterArtificialPageView(){this.wt.deleteNextPageOnlyCustomVariables()}onAfterNaturalPageView(){this.wt.deleteNextPageOnlyCustomVariables()}onOptout(){this.wt.removeCustomVariablesSession()}onBeforeVisitorRenewal(){this.wt.removeCustomVariablesSession(),this.wt.removeCustomVariablesPage()}}return s})(),Ul=512,Vl=255,aa={SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]},Qv=(()=>{class s{constructor(t,e){this.I=t,this.nt=e,this.zt={},this.De={}}set(t,e,i,r){let o,c;if((te(t)||L(t))&&Number(t)>0&&jt(e)&&jt(i)&&!ls(e)&&!ls(i)&&this.CT(r)){let u=this.I.anonymizePII(csString(e)),p=this.I.anonymizePII(csString(i));if(o=[csString.prototype.slice.call(u,0,Ul),csString.prototype.slice.call(p,0,Vl)],c=i!=="",!dt(r)||csArray.prototype.indexOf.call(aa.SESSION,r)>=0){let S=this.getCustomVariablesSession();c?S[t]=o:delete S[t],this.setCustomVariableSession(S)}(!dt(r)||csArray.prototype.indexOf.call(aa.PAGE,r)>=0)&&(c?this.zt[t]=o:delete this.zt[t]),dt(r)&&csArray.prototype.indexOf.call(aa.NEXT_PAGE_ONLY,r)>=0&&(c?this.De[t]=o:delete this.De[t])}else throw new Error(`Command misuse: ${mc[0]}`)}getCustomVariablesSession(){let t=this.nt.get();if(!t)return{};let e=window.csJSON.parse(t);return e!==null&&ti(e)?e:{}}setCustomVariableSession(t){this.nt.set(window.csJSON.stringify(t))}removeCustomVariablesSession(){this.nt.remove()}removeCustomVariablesPage(){this.zt={}}getRequestParameters(){let t=this.getCustomVariablesSession();for(let i in this.De)this.De.hasOwnProperty(i)&&(this.zt[i]=this.De[i]);for(let i in this.zt)this.zt.hasOwnProperty(i)&&(t[i]=this.zt[i]);if(window.csJSON.stringify(t).length<=2)return{};let e={cvars:this.sm(t)};return this.zt&&window.csJSON.stringify(this.zt).length>2&&(e.cvarp=this.sm(this.zt)),e}deleteNextPageOnlyCustomVariables(){if(Object.keys(this.De).length>0)for(let t in this.De)this.De[t]===this.zt[t]&&(delete this.zt[t],delete this.De[t])}im(t){for(let e in t)if(t.hasOwnProperty(e)){let i=parseInt(e,10),r=t[e],o=r[0],c=r[1];(!ad(i,1,20)||o.length>Ul||c.length>Vl)&&delete t[e]}}sm(t){this.im(t);let e=cd(t)?[]:t;return window.csJSON.stringify(e)}CT(t){return!dt(t)||L(t)||te(t)}getAllValidCustomVars(){let t=this.getCustomVariablesSession();for(let e in this.De)this.De.hasOwnProperty(e)&&(this.zt[e]=this.De[e]);for(let e in this.zt)this.zt.hasOwnProperty(e)&&(t[e]=this.zt[e]);return this.im(t),t}}return s})(),ss="_cs_id",Hu=(()=>{class s{constructor(t,e,i){this.h=t,this.M=e,this.Xt=i}onCookieToSet(t){this.ci=t}onCookieToRemove(t){this.li=t}get(){let t;return this.h.cookielessTrackingEnabled?t=this.Xt.getItem(ss):t=this.M.get(ss),t?(sf(t)||Q.warn(`Invalid visitor string: ${t}`),tf(t)):null}set(t){var e;let i=ef(t);if(this.h.cookielessTrackingEnabled)this.Xt.setItem(ss,i);else{let r=new csDate(t.expires);this.M.set(ss,i,r),(e=this.ci)===null||e===void 0||e.call(this,ss,i,r)}}remove(){var t;this.h.cookielessTrackingEnabled?this.Xt.removeItem(ss):(this.M.delete(ss),(t=this.li)===null||t===void 0||t.call(this,ss))}handleSubdomainChange(){if(this.h.cookielessTrackingEnabled)return;let t=this.get();t&&(t.allowSubdomains=this.h.allowSubdomains,this.h.allowSubdomains?this.M.delete(ss,Bn.CURRENT_DOMAIN):this.M.delete(ss,this.M.getRootDomain()),this.set(t))}}return s})(),Zv=/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi,tw="$1CS_ANONYMIZED_NAME",Bu=(()=>{class s{constructor(t){this.I=t}anonymizeUrl(t,e={}){let i=e.maskingPatterns||[],r=e.partialMaskingPatterns||[],o=this.I.anonymizePII(t);if(o=this.I.anonymizeJwt(o),e.maskNames){let p=o;o=this.Dr(o),o!==p&&(Ot.counters.redactedPII.count("name"),Ot.counters.redactedPII.count("name-in-url"))}let c=this.IT(o,i);if(c!==o)return Ot.counters.redactedPII.count("url"),c;let u=this.PT(o,r);return u!==o&&Ot.counters.redactedPII.count("url"),u}removeQueryString(t){let{path:e,queryString:i}=this.ou(t);return i!==""?`${e}?`:e}ou(t){let e=csString.prototype.indexOf.call(t,"?"),i,r="";return e!==-1?(i=csString.prototype.slice.call(t,0,e),r=csString.prototype.slice.call(t,e,t.length)):i=t,{path:i,queryString:r}}IT(t,e){if(e.length===0)return t;let{path:i,queryString:r}=this.ou(t),o=csString.prototype.split.call(i,"/");for(let c of e){let u=this.OT(o,c);if(u!==null)return`${u}${r}`}return t}OT(t,e){if(t.length<e.length)return null;let i=[];for(let r=0;r<t.length;r++){let o=t[r];if(r>=e.length){csArray.prototype.push.call(i,o);continue}let c=e[r].key;if(this.nm(c)){let u=e[r].value;csArray.prototype.push.call(i,u);continue}if(o===c){csArray.prototype.push.call(i,o);continue}return null}return csArray.prototype.join.call(i,"/")}PT(t,e){if(e.length===0)return t;let{path:i,queryString:r}=this.ou(t),o=csString.prototype.split.call(i,"/");for(let c of e)o=this.NT(o,c);return`${csArray.prototype.join.call(o,"/")}${r}`}NT(t,e){let i=[],r=0,c=t[0]==="http:"||t[0]==="https:"?2:0;for(let u=0;u<t.length;u++){let p=t[u],S=e[r].key;if(this.nm(S)&&u>=c){let f=e[r].value;csArray.prototype.push.call(i,p.length>0?f:""),r++,r===e.length&&(r=0);continue}if(p===S){csArray.prototype.push.call(i,p),r++,r===e.length&&(r=0);continue}for(let f=0;f<r;f++){let _=u-r+f;i[_]=t[_]}r=0,csArray.prototype.push.call(i,p)}for(let u=0;u<r;u++){let p=t.length-r+u;i[p]=t[p]}return i}nm(t){return Ps(t,lu)}Dr(t){return csString.prototype.replace.call(t,Zv,tw)}}return s})(),ew=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],sw=1024,iw=1024,nw=(()=>{class s{constructor(t,e){this.ut=t,this.h=e}getEventTargetPathAndHierarchy(t,e){let i=Zt(t),r={isNodeSensitive(o){return G.isMaskedElement(o)||G.isMaskedElementChild(o)},isAttributeSensitive(o,c){return G.isMaskedAttribute(o,c)},allWhitelistedAttributes:Hh(this.h.whitelistedAttributes),attributeIgnoreTokens:ew,useAnonymization:e,attrMaxLength:iw,hierarchyMaxLength:sw};return this.ut.getElementPathAndHierarchy(i,r,{dynamicIdRegex:this.h.dynamicIdRegex,...this.h.pathComputationRules})}getEventTargetPath(t){let e=Zt(t);return this.ut.getElementPath(e,{dynamicIdRegex:this.h.dynamicIdRegex,...this.h.pathComputationRules})}getEventTargetPathAndTargetLink(t){let e=Zt(t),{path:i,firstAnchorParent:r}=this.ut.getElementPathAndFirstAnchorParent(e,{dynamicIdRegex:this.h.dynamicIdRegex,...this.h.pathComputationRules}),o=this.MT(r)?r.href:"";return{path:i,targetLink:o}}hasValidEventTarget(t){let e=Zt(t);return this.ut.isValidElement(e)}getElementPath(t){return this.ut.getElementPath(t,{dynamicIdRegex:this.h.dynamicIdRegex,...this.h.pathComputationRules})}MT(t){var e;return t!==null&&t.hasAttribute("href")&&!Ps((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")}}return s})(),rw=(()=>{class s{constructor(t){this.W=t}transformEvent(t,e){this.kT(t,e.event);let i=this.W.getElementPath(t);return this.DT(i,e.event),e}kT(t,e){if(My(e)){let i=t.getBoundingClientRect();e.x=Math.round(i.left+e.x+Kt.windowOffsetX()),e.y=Math.round(i.top+e.y+Kt.windowOffsetY())}}DT(t,e){Qh(e)&&(e.tgt=`${t}${Dn}${e.tgt}`),Oy(e)&&(e.tgtHM=`${t}${Dn}${e.tgtHM}`),Ny(e)&&(e.tgtLk=`${t}${Dn}${e.tgtLk}`)}}return s})(),ow=(()=>{class s{constructor(t){this.W=t}transformEvent(t,e){let i=this.W.getElementPath(t);return{iframePath:e.iframePath?`${i}${Dn}${e.iframePath}`:i,commands:e.commands}}}return s})(),aw=(()=>{class s{constructor(t){this.W=t}transformEvent(t,e){if(e.products.length===0)return e;let i=this.W.getElementPath(t),r=csArray.prototype.map.call(e.products,o=>({...o,targetPath:`${i}${Dn}${o.targetPath}`}));return{...e,products:r}}}return s})(),cw=(()=>{class s{constructor(){this.LT={clientX:2,clientY:3},this.xT={clientX:1,clientY:2},this.UT=[J.POINTER_DOWN,J.POINTER_MOVE,J.POINTER_UP],this.VT=[J.TOUCH_START,J.TOUCH_MOVE,J.TOUCH_END]}transformEvents(t,e){if(!At.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,c=>c.type!==J.VISIBILITY_CHANGE),e.events.length===0||(Q.warn(`IframeRecordingEventsTransformer received event ${yt.RecordingEvent}
        from disconnected iframe, content:${csJSON.stringify(e.events)}`),e.events=[]),e;let i=bt(t),r=null;csArray.prototype.some.call(e.events,c=>this.rm(c)||this.om(c))&&(r=t.getBoundingClientRect());for(let c of e.events)this.rm(c)?this.jT(r,c):this.om(c)&&this.HT(r,c),c.context=c.context&&c.context.length>0?`${i}/${c.context}`:`${i}`;return e}HT(t,e){this.am(this.xT,t,e)}jT(t,e){this.am(this.LT,t,e)}am(t,e,i){i.args&&(i.args[t.clientX]=Math.round(e.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(e.top+i.args[t.clientY]))}rm(t){return csArray.prototype.indexOf.call(this.UT,t.type)!==-1}om(t){return csArray.prototype.indexOf.call(this.VT,t.type)!==-1}}return s})(),lw=(()=>{class s{constructor(t){this.au=t}start(){this.au.onEvent(t=>this.G(t)),this.au.start()}stop(){this.au.stop()}G(t){let e=`Content Security Policy error. Violated directive: ${t.violatedDirective} - Source file: ${t.sourceFile}`;Q.warn(e)}}return s})(),hw=(()=>{class s{constructor(){this.jt={boundElement:document,type:"securitypolicyviolation",listener:t=>this.securityPolicyViolationListener(t)},csArray.prototype.push.call(s.lu,"localhost"),csArray.prototype.push.call(s.lu,"fake-tracker.content-square.fr")}start(){Ut(this.jt)}stop(){Vt(this.jt)}onEvent(t){this.O=t}BT(t){if(!t)return!1;let e=t.disposition;return L(t.sourceFile)&&csArray.prototype.some.call(s.lu,i=>csString.prototype.indexOf.call(t.sourceFile,i)>0)&&e!=="report"}securityPolicyViolationListener(t){this.BT(t)&&this.O({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})}}return s.lu=["contentsquare","cdnssl.clicktale.net"],Z([H("Event handler type: securitypolicyviolation")],s.prototype,"securityPolicyViolationListener",null),s})(),uw=(()=>{class s{init(){this.cm=new lw(new hw),this.cm.start()}onOptout(){this.cm.stop()}}return s})();var jl=1/0,{toString:dw}=Object.prototype;function pw(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":dw.call(s)}var yc=s=>typeof s=="symbol"||typeof s=="object"&&s!=null&&pw(s)==="[object Symbol]";function Fu(s){if(typeof s=="string"||yc(s))return s;let n=`${s}`;return typeof s=="number"?n==="0"&&1/s===-jl?"-0":n:s instanceof Number&&n==="0"&&1/s.valueOf()===-jl?"-0":n}var fw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gw=/^\w*$/;function mw(s,n){return csArray.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||yc(s)?!0:gw.test(s)||!fw.test(s)||n!=null&&s in Object(n)}function Ec(s,n){if(typeof s!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");let t=function(...e){let i=n?n.apply(this,e):e[0],{cache:r}=t;if(r.has(i))return r.get(i);let o=s.apply(this,e);return t.cache=r.set(i,o)||r,o};return t.cache=new(Ec.Cache||Map),t}Ec.Cache=Map;var yw=500;function Ew(s){let n=Ec(s,t=>{let{cache:e}=n;return e.size===yw&&e.clear(),t});return n}var Sw=46,vw=/\\(\\)?/g,ww=csRegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),$u=Ew(s=>{let n=[];return csString.prototype.charCodeAt.call(s,0)===Sw&&csArray.prototype.push.call(n,""),csString.prototype.replace.call(s,ww,(t,e,i,r)=>{let o=t;return i?o=csString.prototype.replace.call(r,vw,"$1"):e&&(o=csString.prototype.trim.call(e)),csArray.prototype.push.call(n,o),t}),n});function _w(s,n){return csArray.isArray(s)?s:mw(s,n)?[s]:$u(s)}function bw(s,n){let t=_w(n,s),e=s,i=0,{length:r}=t;for(;e!=null&&i<r;){let o=Fu(t[i]);e=e[o],i+=1}return i&&i===r?e:void 0}function Aw(s){return"iterable"in s}function zu(s){return dt(s.iterable)?L(s.iterable)||s.iterable===null:!0}function qu(s,n,t){let e=s==null?void 0:bw(s,n);return e===void 0?t:e}var Tw=/\b__p \+= '';/g,Rw=/\b(__p \+=) '' \+/g,Cw=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Iw=/['\n\r\u2028\u2029\\]/g,Gu=/[&<>"']/g,Pw=csRegExp(Gu.source),Ow=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tr=/($^)/,Nw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mw=/[()=,{}[\]/\s]/,kw=/<%-([\s\S]+?)%>/g,Dw=/<%([\s\S]+?)%>/g,Wu=/<%=([\s\S]+?)%>/g,{hasOwnProperty:Hl}=Object.prototype,Lw="Invalid `variable` option passed into `_.template`";function xw(s){return`\\${Nw[s]}`}var Uw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vw={escape:kw,evaluate:Dw,interpolate:Wu,variable:"",imports:{_:{template:Mr,escape(s){return s&&Pw.test(s)?csString.prototype.replace.call(s,Gu,n=>Uw[n]):s!=null?s:""}}}};function Mr(s,n){let t={...Vw,...n},e=Object.keys(t.imports||{}),i=csArray.prototype.map.call(e,T=>t==null?void 0:t.imports[T]),r,o,c=0,u=t.interpolate||Tr,p="__p += '",S=csRegExp(`${(t.escape||Tr).source}|${u.source}|${(u===Wu?Ow:Tr).source}|${(t.evaluate||Tr).source}|$`,"g"),f=`//# sourceURL=${Hl.call(t,"sourceURL")?csString.prototype.replace.call(`${t.sourceURL}`,/\s/g," "):void 0}
`;s==null||csString.prototype.replace.call(s,S,(T,x,U,N,P,Y)=>{let O=U||N;return p+=csString.prototype.replace.call(csString.prototype.slice.call(s,c,Y),Iw,xw),x&&(r=!0,p+=`' +
__e(${x}) +
'`),P&&(o=!0,p+=`';
${P};
__p += '`),O&&(p+=`' +
((__t = (${O})) == null ? '' : __t) +
'`),c=Y+T.length,T}),p+=`';
`;let _=Hl.call(t,"variable")&&t.variable;if(!_)p=`with (obj) {
${p}
}
`;else if(Mw.test(_))throw new Error(Lw);p=csString.prototype.replace.call(csString.prototype.replace.call(o?csString.prototype.replace.call(p,Tw,""):p,Rw,"$1"),Cw,"$1;"),p=`function(${_||"obj"}) {
${_?"":`obj || (obj = {});
`}var __t, __p = ''${r?", __e = _.escape":""}${o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`}${p}return __p
}`;let A;try{A=Function(...e,`${f}return ${p}`)(...i)}catch(T){A=T}if(A.source=p,A instanceof Error)throw A;return A}var jw=/^(\s*("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*,?)+$/,Hw=/<%[\s\S]+?%>|<%-[\s\S]+?%>|<%=[\s\S]+?%>|\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/,Bw=/^document\.querySelector\(("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\)\.(textContent|value)$/;function Bl(s){if(!jw.test(s)||Hw.test(s))throw new Error("whitelisted function is wrongly used")}var Fl={"window.location.hash.replace(":(s,n)=>{let t=csString.prototype.substring.call(s,29,s.length-1);return Bl(t),Mr(`\${${s}}`)(n)},"window.sessionStorage.getItem(":(s,n)=>{let t=csString.prototype.substring.call(s,30,s.length-1);return Bl(t),Mr(`\${${s}}`)(n)},"document.querySelector(":(s,n)=>{if(Bw.test(s))return Mr(`\${${s}}`)(n)},"new Date().getTime()":(s,n)=>new csDate().getTime().toString()};function Fw(s){let n=os(Object.keys(Fl),t=>Ne(s,t));if(n)return Fl[n]}function $w(s){return Ne(s,"'")&&rn(s,"'")}var zw=/\$\{([\s\S]+?)\}/g,qw=s=>(n,t,e)=>{let i="";return csArray.prototype.forEach.call(csString.prototype.split.call(t,"+"),r=>{let o=csString.prototype.trim.call(r),c=qu(s,o);if(c===void 0)if($w(o))c=csString.prototype.substring.call(o,1,o.length-1);else{let u=Fw(o);if(u&&(c=u(o,s)),c===void 0)throw new Error("undefined not allowed")}i+=c}),i};function tn(s,n){try{return csString.prototype.replace.call(s,zw,qw(n))}catch{return null}}function ka(s,n){let t={};for(let e of Object.keys(s)){let i=s[e];if(L(i)){let r=tn(i,n);if(r===null)return null;t[e]=r}else t[e]=i}return t}function Da(s,n){let t=csArray.prototype.join.call(csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(s,","),e=>tn(e,n)),e=>e!==null&&oe(e)),",");return oe(t)?t:null}function Gw(s){return csArray.isArray(s)?csArray.prototype.map.call(s,Fu):yc(s)?[s]:csArray.from($u(s))}function Ww(s,n){try{let e=/^values\(([a-zA-Z0-9_$[\].]+)\)\[\?([a-zA-Z0-9_$]+)\]$/.exec(s);if(!e)return null;let i=e[1],r=e[2],o=qu(n,Gw(i));if(typeof o!="object"||o===null)return null;let c=[];return csArray.prototype.forEach.call(Object.keys(o),u=>{let p=o[u];typeof p=="object"&&p!==null&&!csArray.isArray(p)&&r in p&&csArray.prototype.push.call(c,p)}),c}catch{return null}}function Yw(s,n){let e=/^\[([0-9]+):([0-9+])\]$/.exec(s);if(!e)return null;let i=parseInt(e[1],10),r=parseInt(e[2],10);return r<=i||r>n.length?null:csArray.prototype.slice.call(n,i,r)}function Xw(s,n){let t=csString.prototype.split.call(s,"|");if(t.length>2)return null;let e=Ww(csString.prototype.trim.call(t[0]),n);return t.length===2?e===null?null:Yw(csString.prototype.trim.call(t[1]),e):e}var ca=(()=>{let s;return function(n){n.AND="AND",n.OR="OR"}(s||(s={})),s})(),We=(()=>{let s;return function(n){n.STARTS_WITH="startsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.MATCHES="matches",n.NOT_MATCHES="notMatches",n.EXIST="exist",n.NOT_EXIST="notExist"}(s||(s={})),s})();function Yu(s,n){return Kw(s.operator,t_(s.args,n))}function Kw(s,n){switch(s){case We.EXIST:case We.NOT_EXIST:return Jw(s,n);default:return Qw(s,n)}}function Jw(s,n){let[t]=n;if(!oe(t))return!1;switch(s){case We.EXIST:return window.csquerySelector[document.nodeType].call(document,t)!==null;case We.NOT_EXIST:return window.csquerySelector[document.nodeType].call(document,t)===null;default:return!1}}function Qw(s,n){let[t,e]=n;if(!(s in ca)&&!(L(t)&&L(e)))return!1;switch(s){case ca.AND:return!!csArray.prototype.reduce.call(n,(r,o)=>r&&o);case ca.OR:return!!csArray.prototype.reduce.call(n,(r,o)=>r||o);case We.STARTS_WITH:return Ne(t,e);case We.EQUALS:return t===e;case We.NOT_EQUALS:return t!==e;case We.CONTAINS:return csString.prototype.indexOf.call(t,e)>-1;case We.NOT_CONTAINS:return csString.prototype.indexOf.call(t,e)===-1;case We.MATCHES:{let r=$l(e);return r!==null&&r.test(t)}case We.NOT_MATCHES:{let r=$l(e);return r!==null&&!r.test(t)}default:return!1}}function Zw(s){return!!(s&&s.operator&&s.args)}function t_(s,n){return csArray.prototype.map.call(s,t=>Zw(t)?Yu(t,n):L(t)?tn(t,n):t)}function $l(s){let n=/^\/(.*)\/([gimy]*)$/.exec(s),t=null;if(n){let[,e,i]=n;try{t=new csRegExp(e,i)}catch{}}else try{t=new csRegExp(s)}catch{}return t}function Sc(s){switch(s){case"no decoding":return null;case"decode once":return{decodeURI:!0};case"decode multiple times":return{decodeURIDeep:!0};default:return null}}function vc(s){switch(s==null?void 0:s[0]){case"on next pageview only":return{lifespan:"onNextPageviewOnly"};default:return null}}var $t=(()=>{class s{constructor(t,e){this.commandsService=t,this.args=e}}return s})(),qn=(()=>{class s extends $t{}return s})(),Xu=(()=>{class s extends $t{validateArgs(t){if(ft(t)){let e=dt(t.path)?L(t.path):!0,i=dt(t.decodeURI)?L(t.decodeURI):!0,r=dt(t.lifespan)?csArray.isArray(t.lifespan):!0;return e&&i&&r}return!1}execute(t){if(!t.path)this.Kr([]);else{let e=[t.path],i=Sc(t.decodeURI),r=vc(t.lifespan),o={...i,...r};Object.keys(o).length&&e.push(o),this.Kr(e)}}Kr(t){this.commandsService.applyFromImplementation(uu[0],t,"ArtificialPageviewTemplate")}}return s})(),e_=(()=>{class s extends qn{validateArgs(t){return ft(t)?L(t.message)&&csArray.isArray(t.attributes):!1}execute(t,e){let i=tn(t.message,e);if(!i)return;let r={};for(let o of t.attributes){let c=tn(o.value,e);c!==null&&(r[o.key]=c)}this.commandsService.applyFromImplementation(no[0],[i,r],"CustomErrorTemplate")}}return s})(),s_=(()=>{class s extends $t{validateArgs(t){if(ft(t)){let e=zu(t),i=csArray.isArray(t.scope)?za(t.scope,r=>L(r)):!0;return e&&i&&te(t.index)&&L(t.name)&&L(t.value)}return!1}execute(t){this.commandsService.applyFromImplementation(mc[0],[t.index,t.name,t.value,t.scope[0]],"CustomVariableTemplate")}}return s})(),i_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.selector):!1}execute(t){this.commandsService.applyFromImplementation(Au[0],[t.selector],"DataCsEncryptTemplate")}}return s})(),n_="data-cs-override-id",r_=(()=>{class s extends $t{validateArgs(t){if(ft(t)){let e=jt(t.value)?L(t.value):!0;return L(t.selector)&&e}return!1}execute(t){var e;if(!oe(t.selector))return;let i=window.csquerySelector[document.nodeType].call(document,t.selector);i&&i.setAttribute(n_,(e=t.value)!==null&&e!==void 0?e:"")}}return s})(),o_=20,a_=(()=>{class s extends qn{validateArgs(t){return ft(t)?zu(t)&&L(t.key)&&L(t.value)&&L(t.type):!1}execute(t,e){let i=ka(t,e);i!==null?this.Kr(i):this.$T(t,e)()}$T(t,e){return()=>{let i=0,r=window.csSetInterval(()=>{i+=1;let o=ka(t,e);if(o!==null){window.csClearInterval(r),r=void 0,i=0,this.Kr(o);return}i>=o_&&(window.csClearInterval(r),r=void 0,i=0)},100)}}Kr(t){let e=t.value;if(t.type==="Integer"){let i=Number.parseInt(t.value,10);Number.isNaN(i)||(e=i)}this.commandsService.applyFromImplementation(nc[0],[{key:t.key,value:e}],"DynamicVariableTemplate")}}return s})(),c_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.transactionId)&&te(t.revenue)&&L(t.currency)&&L(t.name)&&L(t.sku)&&L(t.category)&&te(t.price)&&te(t.quantity):!1}execute(t){this.zT({id:t.transactionId,revenue:t.revenue,currency:t.currency}),this.qT({id:t.transactionId,name:t.name,sku:t.sku,category:t.category,price:t.price,quantity:t.quantity}),this.La()}zT(t){this.commandsService.applyFromImplementation(rc[0],[t],"EcTransactionAllTemplate")}qT(t){this.commandsService.applyFromImplementation(to[0],[t],"EcTransactionAllTemplate")}La(){this.commandsService.applyFromImplementation(oc[0],[],"EcTransactionAllTemplate")}}return s})(),l_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.id)&&te(t.revenue)&&L(t.currency):!1}execute(t){this.commandsService.applyFromImplementation(rc[0],[t],"EcTransactionCreateTemplate")}}return s})(),h_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.id)&&L(t.name)&&L(t.sku)&&L(t.category)&&te(t.price)&&te(t.quantity):!1}execute(t){this.commandsService.applyFromImplementation(to[0],[t],"EcTransactionItemsAddTemplate")}}return s})(),u_=(()=>{class s extends $t{validateArgs(t){return!!ft(t)}execute(){this.commandsService.applyFromImplementation(oc[0],[],"EcTransactionSendTemplate")}}return s})(),d_=(()=>{class s extends qn{validateArgs(t){return ft(t)?jt(t)&&L(t.selector):!1}execute(t,e){if(!jt(t)||!L(t==null?void 0:t.selector))return;let i=Da(t.selector,e);i!==null&&this.commandsService.applyFromImplementation(Tu[0],[i],"ElementUnmaskingTemplate")}}return s})(),p_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(zn[0],[`@ETP@${t.eventName}`],"EventTriggerRecordingPageTemplate")}}return s})(),f_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(zn[0],[`@ETS@${t.eventName}`],"EventTriggerRecordingSessionTemplate")}}return s})(),g_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(dc[0],[t.eventName],"PageEventTemplate")}}return s})(),m_=(()=>{class s extends qn{validateArgs(t){if(ft(t)){let e=csArray.isArray(t.cssSelectors),i=csArray.isArray(t.attributes);return e&&i}return!1}execute(t,e){let i=csArray.prototype.filter.call(csArray.prototype.map.call(t.cssSelectors,c=>Da(c,e)),c=>!!c),r=csArray.prototype.filter.call(csArray.prototype.map.call(t.attributes,c=>{let u=tn(c.attrName,e),p=Da(c.selector,e);return{attrName:u,selector:p}}),c=>!!c.attrName&&!!c.selector),o={PIISelectors:[...i],Attributes:[...r]};this.commandsService.applyFromImplementation(ro[0],[o],"PIIMaskingTemplate")}}return s})(),y_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(zn[0],[`${t.eventName}`],"RecordingEventTriggerTemplate")}}return s})(),E_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.path):!1}execute(t){let e=[t.path],i=Sc(t.decodeURI),r=vc(t.lifespan),o={...i,...r};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(Ra[0],e,"SetPathTemplate")}}return s})(),S_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.query):!1}execute(t){let e=[t.query],i=Sc(t.decodeURI),r=vc(t.lifespan),o={...i,...r};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(Ca[0],e,"SetQueryTemplate")}}return s})(),v_=(()=>{class s extends $t{validateArgs(t){return!!ft(t)}execute(){this.commandsService.applyFromImplementation(Xh[0],[],"SrmOnlineAssetsTemplate")}}return s})(),w_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.status)&&L(t.selector):!1}execute(t){if(!oe(t.selector))return;let e=window.csquerySelector[document.nodeType].call(document,t.selector);e&&this.commandsService.applyFromImplementation(uc[0],[t.status,e],"SubmitTemplate")}}return s})(),Me=(()=>{class s{onEvent(t){this.onEventCallback=t}constructor(t,e,i){this.commandsService=t,this.condition=i,this.isStarted=!1,this.lm=!1,this.args=e}start(){this.lm||(this.onInit(),this.lm=!0),this.isStarted||(this.onStart(),this.isStarted=!0)}stop(){this.isStarted&&(this.onStop(),this.isStarted=!1)}}return Z([H()],s.prototype,"start",null),Z([H()],s.prototype,"stop",null),s})(),zl="once per pageview",__="always",b_=(()=>{class s extends Me{constructor(){super(...arguments),this.gt=!0}validateArgs(t){if(ft(t)){let e=L(t.selector),i=t.frequency?t.frequency===zl||t.frequency===__:!0;return e&&i}return!1}onInit(){if(!oe(this.args.selector)){this.gt=!1;return}this.Jr=this.args.frequency?this.args.frequency===zl:!0,this.z=new Xe((t,e)=>this.S(t,e))}onStart(){this.gt&&this.z.observe(this.args.selector)}onStop(){this.gt&&(this.z.processPendingMutations(),this.z.disconnect())}S(t,e){e==="added"&&(this.Jr?(this.stop(),this.onEventCallback({element:t[0]})):new Set(t).forEach(i=>this.onEventCallback({element:i})))}}return s})(),A_=(()=>{class s extends Me{constructor(){super(...arguments),this.gt=!0,this.hm=!1}validateArgs(t){return ft(t)?L(t.selector):!1}onInit(){if(!oe(this.args.selector)){this.gt=!1;return}this.z=new Xe((t,e)=>{this.S(t,e)})}onStart(){this.gt&&(this.z.observe(this.args.selector),this.hm=!0)}onStop(){this.gt&&(this.z.processPendingMutations(),this.z.disconnect())}S(t,e){this.hm?e==="added"&&new Set(t).forEach(i=>this.onEventCallback({element:i})):this.onEventCallback({element:t[0]})}}return s})(),T_=(()=>{class s extends Me{constructor(){super(...arguments),this.gt=!0}validateArgs(t){return ft(t)?L(t.selector):!1}onInit(){if(!oe(this.args.selector)){this.gt=!1;return}this.V=new Xe(t=>this.GT(t)),this.P=new hs(t=>this.WT(t))}onStart(){this.gt&&(this.xa=csSymbol("MatchingElement"),this.V.observe(this.args.selector),this.P.observe())}onStop(){this.gt&&(this.V.processPendingMutations(),this.V.disconnect(),this.P.disconnect())}GT(t){new Set(t).forEach(e=>this.YT(e))}WT(t){let e=$a(t,r=>r.removedNodes),i=[];for(let r of e)csArray.prototype.push.call(i,...this.XT(r));new Set(i).forEach(r=>this.onEventCallback({element:r}))}YT(t){t[this.xa]=!0}XT(t){let e=[];return Pe(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{i[this.xa]&&(At.isConnected(i)?Oe.call(i,this.args.selector)||delete i[this.xa]:delete i[this.xa],csArray.prototype.push.call(e,i))}),e}}return s})(),R_=(()=>{class s{static readyStateChangeListener(t){csArray.prototype.forEach.call(ii(s.callbacks),e=>e(t))}static yl(t){s.callbacks.has(t)||(s.callbacks.add(t),s.callbacks.size===1&&Ut(s.eventHandler,!1))}static El(t){s.callbacks.delete(t),s.callbacks.size===0&&Vt(s.eventHandler,!1)}constructor(t){this.S=t}observe(){s.yl(this.S)}disconnect(){s.El(this.S)}}return s.callbacks=new Set,s.eventHandler={boundElement:It.document,type:"readystatechange",listener:s.readyStateChangeListener},Et([H("readyStateChangeListener"),kt()],s,"readyStateChangeListener",null),s})(),C_=(()=>{class s extends Me{constructor(){super(...arguments),this.du={state:"Any"}}validateArgs(t){var e;return ft(t)&&L(t.state)||(Q.implementation(`PageStateTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.state}, fallback to default config.`),this.args=this.du),!0}onInit(){this._t=this.args.state.toLowerCase(),this.z=new R_(()=>{this.um(this._t,document.readyState)&&(this.onEventCallback(),this.z.disconnect())})}onStart(){this.um(this._t,document.readyState)?this.onEventCallback():this.z.observe()}onStop(){this.z.disconnect()}um(t,e){let i=s.dm[e];return s.dm[t]<=i}}return s.dm={complete:3,interactive:2,loading:1,any:0},s})(),I_=(()=>{class s extends Me{validateArgs(t){return!!ft(t)}KT(){this.isStarted&&this.onEventCallback()}onInit(){this.commandsService.applyFromImplementation(Kh[0],[()=>this.KT()],"AfterPageViewTrigger")}onStart(){}onStop(){}}return s})(),P_=(()=>{class s extends Me{constructor(){super(...arguments),this.pu=!1,this.gt=!0,this.$s=!0,this.ei={boundElement:document,type:"click",listener:t=>{if(this.pu){this.pu=!1;return}this.onClickOrTap(t)}},this.JT=(t,e)=>{t.type===Xt.TAP&&(this.pu=!0,this.onClickOrTap(e))}}validateArgs(t){return ft(t)?L(t.selector):!1}onClickOrTap({target:t}){if(jt(t)&&Cs(t)){let e=Zi(t,this.args.selector);e&&this.onEventCallback({element:e})}}onInit(){if(!oe(this.args.selector)){this.gt=!1;return}this.ur=new qh(this.JT)}onStart(){var t;this.gt&&(Ut(this.ei,this.$s),(t=this.ur)===null||t===void 0||t.observe())}onStop(){var t;this.gt&&(Vt(this.ei,this.$s),(t=this.ur)===null||t===void 0||t.disconnect())}}return Z([H("onClickOrTap"),kt()],s.prototype,"onClickOrTap",null),s})(),Ku=(()=>{class s{static QT(){var t,e,i,r;if("history"in window){let o=Object.getOwnPropertyDescriptors(history);if(!((t=o.pushState)===null||t===void 0)&&t.writable&&(!((e=o.replaceState)===null||e===void 0)&&e.writable))return history}if(History.prototype){let o=Object.getOwnPropertyDescriptors(History.prototype);if(!((i=o.pushState)===null||i===void 0)&&i.writable&&(!((r=o.replaceState)===null||r===void 0)&&r.writable))return History.prototype}xt.warn("Unable to override pushState, replaceState",!0,"HistoryChangeObserver")}static Nh(){let t=s.QT();s.Qr===null&&ls(t==null?void 0:t.pushState)&&(s.Qr=Ce({target:t,methodName:"pushState",hook:({args:e})=>{s.pm("pushstate",e)}})),s.Zr===null&&ls(t==null?void 0:t.replaceState)&&(s.Zr=Ce({target:t,methodName:"replaceState",hook:({args:e})=>{s.pm("replacestate",e)}}))}static $n(t){var e,i;s.ve.add(t),s.ve.size===1&&((s.Qr===null||s.Zr===null)&&s.Nh(),(e=s.Qr)===null||e===void 0||e.activate(),(i=s.Zr)===null||i===void 0||i.activate(),Ut(s.fm),Ut(s.gm))}static qn(t){var e,i;s.ve.delete(t),s.ve.size===0&&((e=s.Qr)===null||e===void 0||e.deactivate(),(i=s.Zr)===null||i===void 0||i.deactivate(),Vt(s.fm),Vt(s.gm))}static pm(t,e){let i={type:t,state:e[0]};L(e[2])&&(i.url=e[2]),s.Gi(i)}static popstateListener(t){s.Gi({type:"popstate",state:t.state})}static hashchangeListener(t){s.Gi({type:"hashchange",state:null,url:t.newURL})}static Gi(t){csArray.prototype.forEach.call(ii(s.ve),e=>{e(t)})}constructor(t){this.S=t}observe(){s.$n(this.S)}disconnect(){s.qn(this.S)}}return s.Qr=null,s.Zr=null,s.fm={boundElement:It,type:"popstate",listener:n=>s.popstateListener(n)},s.gm={boundElement:It,type:"hashchange",listener:n=>s.hashchangeListener(n)},s.ve=new Set,Et([H("popstateListener"),kt()],s,"popstateListener",null),Et([H("hashchangeListener"),kt()],s,"hashchangeListener",null),s})(),O_=(()=>{class s extends Me{validateArgs(t){if(ft(t)){let e=L(t.useDebounce),i=t.useDebounce==="yes"?te(t==null?void 0:t.window):!0,r=L(t.listeners);return e&&i&&r}return!1}onInit(){this.args.useDebounce==="yes"?this.Jt=Fr(()=>{this.onEventCallback()},this.args.window):this.Jt=this.onEventCallback,this.z=new Ku(t=>this.fu(t))}mm(){return window.location.href}fu(t){let e=t.type==="replacestate"&&this.args.listeners.indexOf("replaceState")===-1,i=t.type==="hashchange"&&this.args.listeners.indexOf("hashchange")===-1;if(e||i)return;let r=this.mm();this.ym!==r&&(this.ym=r,this.Jt())}onStart(){this.ym=this.mm(),this.z.observe()}onStop(){this.z.disconnect()}}return s})(),N_=(()=>{class s extends Me{constructor(){super(...arguments),this.gt=!0,this.$s=!0,this.ei={boundElement:document,type:"submit",listener:t=>this.submitListener(t)}}validateArgs(t){return ft(t)?L(t.selector):!1}submitListener({target:t}){jt(t)&&Cs(t)&&Oe.call(t,this.args.selector)&&this.onEventCallback({element:t})}onInit(){oe(this.args.selector)||(this.gt=!1)}onStart(){this.gt&&Ut(this.ei,this.$s)}onStop(){this.gt&&Vt(this.ei,this.$s)}}return Z([H("submitListener"),kt()],s.prototype,"submitListener",null),s})(),M_=(()=>{class s extends Me{constructor(){super(...arguments),this.gt=!0,this.Em={boundElement:document,type:"mouseover",listener:t=>this.mouseoverListener(t)},this.Sm={boundElement:document,type:"mouseleave",listener:t=>this.mouseleaveListener(t)}}validateArgs(t){return ft(t)?L(t.selector):!1}onInit(){oe(this.args.selector)||(this.gt=!1)}mouseleaveListener({target:t}){jt(t)&&Cs(t)&&t[this.Ua]&&delete t[this.Ua]}mouseoverListener({target:t}){if(jt(t)&&Cs(t)){let e=Zi(t,this.args.selector);e!==null&&!e[this.Ua]&&(e[this.Ua]=!0,this.onEventCallback({element:e}))}}onStart(){this.gt&&(this.Ua=csSymbol("Hovered"),Ut(this.Sm,!0),Ut(this.Em,!0))}onStop(){this.gt&&(Vt(this.Em),Vt(this.Sm))}}return Z([H("mouseleaveListener"),kt()],s.prototype,"mouseleaveListener",null),Z([H("mouseoverListener"),kt()],s.prototype,"mouseoverListener",null),s})(),k_=(()=>{class s extends Me{constructor(){super(...arguments),this.ei={boundElement:window,type:"hashchange",listener:t=>this.hashChangedListener(t)}}validateArgs(t){return!!ft(t)}hashChangedListener(t){t.newURL&&t.newURL===t.oldURL||this.onEventCallback()}onInit(){}onStart(){Ut(this.ei)}onStop(){Vt(this.ei)}}return Z([H("hashChangedListener"),kt()],s.prototype,"hashChangedListener",null),s})(),D_=(()=>{class s extends Me{constructor(){super(...arguments),this.Va=!0}validateArgs(t){return ft(t)?L(t.selector):!1}onInit(){if(!oe(this.args.selector)||!Br.isSupported()){this.Va=!1;return}this.bt=new Br({delay:0,trackOnce:!0,reobserve:!0}),this.V=new Xe(t=>this.gu(t),{closest:!0})}gu(t){for(let e of t)this.bt.observe(e)}mu(t,e){if(this.isStarted&&e===Mn.VisibleInViewPort){let i=Zi(t,this.args.selector);i&&(this.onEventCallback({element:i}),this.stop(),this.Va=!1)}}onStart(){this.Va&&(this.bt.start((t,e)=>this.mu(t,e)),this.V.observe(this.args.selector))}onStop(){this.Va&&(this.bt.stop(),this.V.disconnect())}}return s})(),L_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.url):!1}execute(t){this.commandsService.applyFromImplementation(Ia[0],[t.url],"ApiErrorsMaskUrlTemplate")}}return s})(),x_=(()=>{class s extends $t{validateArgs(t){return ft(t)?L(t.maskingPattern):!1}execute(t){this.commandsService.applyFromImplementation(Ru[0],[t.maskingPattern],"NetworkRequestMaskUrlTemplate")}}return s})(),ql="once per pageview",U_="always",V_=(()=>{class s extends Me{constructor(){super(...arguments),this.yu=!1,this.je=!1,this.Jr=!0}validateArgs(t){if(ft(t)){let e=L(t.selector),i=t.frequency?t.frequency===ql||t.frequency===U_:!0;return e&&i}return!1}onInit(){Br.isSupported()&&(this.je=!0,this.Jr=this.args.frequency?this.args.frequency===ql:!0,this.V=new Xe((t,e)=>{if(e==="initial")for(let i of t)At.isVisibleInViewportInForeground(i)&&(i[this.Eu]=!0);this.gu(t)},{closest:!0}),this.bt=new Br({delay:0,trackOnce:!1,reobserve:!0,allowSameMatch:!0}))}onStart(){!this.je||this.isStarted||(this.Eu=csSymbol("skipElement"),this.yu=!1,this.bt.start((t,e)=>this.mu(t,e)),this.V.observe(this.args.selector))}onStop(){!this.je||!this.isStarted||(this.V.disconnect(),this.bt.stop())}mu(t,e){if(this.isStarted&&e===Mn.VisibleInViewPort){let i=t.closest(this.args.selector);if(i){if(i[this.Eu]){delete i[this.Eu];return}this.Jr&&this.stop(),(!this.Jr||!this.yu)&&(this.yu=!0,this.onEventCallback({element:i}))}}}gu(t){for(let e of t)this.bt.observe(e)}}return s})(),La=(()=>{class s extends Me{constructor(){super(...arguments),this.du={pageviewTypes:["natural","artificial"]}}validateArgs(t){var e;return ft(t)&&ti(t)&&csArray.isArray(t.pageviewTypes)&&za(t.pageviewTypes,r=>L(r))||(Q.implementation(`BeforePageViewTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.pageviewTypes}, fallback to default config.`),this.args=this.du),!0}onInit(){this.ZT=this.args.pageviewTypes}onPageView(t){this.isStarted&&csArray.prototype.indexOf.call(this.ZT,t)!==-1&&this.onEventCallback()}onStart(){}onStop(){}}return s})(),j_=(()=>{class s extends $t{constructor(){super(...arguments),this.Su=!1}validateArgs(t){return ft(t)&&L(t.type)&&L(t.urls)&&(t.type==="allow"||t.type==="block")&&csString.prototype.trim.call(t.urls).length>0?(this.Su=!1,!0):(Q.implementation(`BlockAllowListForSRTemplate has wrong argument: ${t}, fallback to default config.`),this.Su=!0,!0)}execute(t){let e="";this.Su?e=Nu:e=this.tR(t.urls,t.type),this.commandsService.applyFromImplementation(Mu[0],[e],"BlockAllowListForSRTemplate")}tR(t,e){let i=e==="allow"?"?!":"";return i+=csArray.prototype.join.call(csArray.prototype.map.call(csString.prototype.split.call(t,","),r=>`.*${csString.prototype.trim.call(r)}`),"|"),`^(${i}).*?`}}return s})(),H_=(()=>{class s{constructor(t){this.f=t,this.eR={ApiErrorsMaskUrl:L_,NetworkRequestMaskUrls:x_,ArtificialPageview:Xu,BlockAllowListForSr:j_,CustomError:e_,CustomVariable:s_,DataCsEncrypt:i_,DataCsOverride:r_,DynamicVariable:a_,EcTransactionAll:c_,EcTransactionCreate:l_,EcTransactionItemsAdd:h_,EcTransactionSend:u_,ElementUnmasking:d_,EventTriggerRecordingPage:p_,EventTriggerRecordingSession:f_,PageEvent:g_,PiiMasking:m_,RecordingEventTrigger:y_,SetPath:E_,SetQuery:S_,SrmOnlineAssets:v_,Submit:w_},this.Ln={AfterPageView:I_,ElementAdded:b_,ElementBecomesVisible:V_,ElementExist:A_,ElementRemoved:T_,ElementVisibility:D_,ElementClick:P_,FormSubmit:N_,HashChange:k_,HistoryChange:O_,Mouseover:M_,PageState:C_,BeforePageView:La}}sR(t){let e=this.eR[t.name];return e?new e(this.f,t.args):(Q.error(`Implementations: template ${t.name} does not exist`),null)}iR(t){let e=this.Ln[t.name];return e?new e(this.f,t.args,t.condition):(Q.error(`Implementations: trigger ${t.name} does not exist`),null)}parse(t){let e=[];for(let{triggers:i,template:r}of t){let o=this.sR(r);if(!o)continue;if(!o.validateArgs(o.args)){Q.implementation(`${r.name} has wrong argument.`);continue}for(let u of i){let p=this.iR(u);if(!p)continue;if(!p.validateArgs(p.args)){Q.implementation(`${u.name} has wrong argument.`);continue}csArray.prototype.push.call(e,{name:`${u.name}_${r.name}`,trigger:p,template:o})}}return e}}return s})(),B_=(()=>{class s{constructor(t,e,i){this.nR=t,this.T=i,this._e={window,document,location,cookies:{}},this.Ln=new Set,this.rR=new H_(e)}init(){Object.defineProperty(this._e,"cookies",{get:()=>this.oR()});let t=this.rR.parse(this.nR);for(let{name:e,trigger:i,template:r}of t)i instanceof La&&r instanceof Xu||(this.Ln.add(i),i.onEvent(o=>{this.onTriggerEvent(o,r),Ot.counters.CSTCSnippetUsed.count(e)}))}start(t=!1){this.Ln.forEach(e=>{e.condition&&!Yu(e.condition,this._e)||(t?this.T.schedule(()=>{e.start()}):e.start())})}stop(){this.Ln.forEach(t=>{t.stop()})}onBeforePageView(t){this.Ln.forEach(e=>{if(e instanceof La){e.onPageView(t);return}})}onTriggerEvent(t,e){let i=this.aR(t),r={...this._e,...i},o=[];if(Aw(e.args)&&L(e.args.iterable)&&e.args.iterable.length>0){let c=Xw(e.args.iterable,r);if(jt(c)){let u=csArray.prototype.map.call(c,p=>({...r,$:p}));csArray.prototype.push.call(o,...u)}}else csArray.prototype.push.call(o,r);if(e instanceof qn){for(let c of o)e.execute(e.args,c);return}for(let c of o){let u=ka(e.args,c);u&&e.execute(u)}}oR(){let t;try{t=document.cookie}catch{t=""}return csArray.prototype.reduce.call(csString.prototype.split.call(t,"; "),(e,i)=>{let[r,o]=csString.prototype.split.call(i,"=");return o!==void 0&&(e[r]=o),e},{})}aR(t){let e={...t};for(let i in e)Dt(e[i])&&(G.isMaskedElement(e[i])||G.isMaskedElementChild(e[i]))&&delete e[i];return e}}return Z([ee("implementationsService.start")],s.prototype,"start",null),Z([H()],s.prototype,"onTriggerEvent",null),s})(),F_=(()=>{class s{constructor(t,e,i){this.Cs=new B_(t,e,i)}init(){this.Cs.init()}onInitTracking(){this.Cs.start(!0)}onOptout(){this.Cs.stop()}onBeforeSessionRenewal(){this.Cs.stop(),this.Cs.start()}onBeforeArtificialPageView(){this.Cs.stop(),this.Cs.start(),this.Cs.onBeforePageView("artificial")}onBeforeNaturalPageView(){this.Cs.onBeforePageView("natural")}}return s})(),Ju=(()=>{class s{constructor(t){this.configuration=t}}return s})(),$_=(()=>{class s extends Ju{constructor(t,e,i){super(t),this.configuration=t,this.to=e,this.E=i,this.cR=q.RECORDING_GLOBAL_SAMPLING}refreshQuota(){this.eo=void 0,this.ja()}onQuotaReady(t){this.vm=t}init(){this.lR()}sanitizeSessionCollectState(t){return t}canCollect(t){return t!==null&&t.collectState!==q.QUOTA_REACHED}computeInitialCollectState(t){return this.eo?(this.E.emitCollectStateChange(this.eo,fe.ETR_OFF),this.eo):(Q.warn("Quota file error computeInitialCollectState() called before quota answered"),q.QUOTA_REACHED)}getEligibleCollectState(t){return t.collectState===q.QUOTA_REACHED?q.QUOTA_REACHED:!Vn.isRecordingSupported()&&this.isReplayRecorded(t)?q.ANALYTICS_ONLY:t.collectState===q.RECORDING_RULES_TARGETING?q.RECORDING_RULES_TARGETING:t.collectState===q.ANALYTICS_ONLY_RULES_TARGETING?q.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===q.RECORDING_GLOBAL_SAMPLING?q.RECORDING_GLOBAL_SAMPLING:q.ANALYTICS_ONLY}abortQuotaServiceRequest(){}isReplayRecorded(t){return t.collectState===q.RECORDING_GLOBAL_SAMPLING||t.collectState===q.RECORDING_RULES_TARGETING}getInitialCollectState(){return this.eo||q.QUOTA_REACHED}setVisitorService(t){}computeInitialCollectStateFromRecordingConsentGranted(t){return q.ANALYTICS_ONLY}so(t){this.eo=t,this.vm&&this.vm(t)}lR(){this.to.onError(t=>this.quotaServiceErrorHandler(`HTTP:${t.status} - fetching quota file for pid: ${this.configuration.projectId}`)),this.to.onTimeout(()=>this.quotaServiceErrorHandler("timeout")),this.to.onLoad(t=>this.quotaFileHandler(t))}ja(){this.to.isInProgress()||this.to.send()}quotaFileHandler(t){var e;if(!(!((e=t==null?void 0:t.quotas)===null||e===void 0)&&e.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.hR(t)}quotaServiceErrorHandler(t){let e=`Quota error - ${t}`;Q.warn(e),this.so(this.cR)}hR(t){let e=!1,i=!1;for(let r of t.quotas)r.quotaType==="ANALYTICS"&&r.value?e=!0:r.quotaType==="RECORDING"&&r.value&&Ki.boolean(Math.round(r.value*100))&&(i=!0);!e&&i?this.quotaServiceErrorHandler(`Quota types impossible: replay without analytics - ${csJSON.stringify(t)}`):e&&i?Vn.isRecordingSupported()?this.so(q.RECORDING_GLOBAL_SAMPLING):this.so(q.ANALYTICS_ONLY):e&&!i?this.so(q.ANALYTICS_ONLY):this.so(q.QUOTA_REACHED)}getRecordingConsentWithdrawn(){return q.ANALYTICS_ONLY}}return Z([H("Quota File: quotaFileHandler")],s.prototype,"quotaFileHandler",null),Z([H("Quota File: onerror")],s.prototype,"quotaServiceErrorHandler",null),s})(),z_=3e3,q_=(()=>{class s extends Ju{constructor(t,e,i,r,o){super(t),this.configuration=t,this.io=e,this.E=i,this.Yh=r,this.A=o,this.ze=[]}refreshQuota(){}onQuotaReady(t){}canCollect(t){return!0}init(){this.uR()}sanitizeSessionCollectState(t){return(t.collectState===q.QUOTA_REACHED||t.collectState===q.RECORDING_RULES_TARGETING||t.collectState===q.RECORDING_TEMPORARILY)&&(t.collectState=q.ANALYTICS_ONLY),t}computeInitialCollectState(t){return Js.isReplayConsentNeeded(this.configuration)?q.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.ka(t)}computeInitialCollectStateFromRecordingConsentGranted(t){return this.ka(t)}ka(t){return Vn.isRecordingSupported()?(this.ze=[],Ki.percentage()<this.configuration.replayRecordingRate||this.Yh.isForceReplayRecorded()?csArray.prototype.push.call(this.ze,q.RECORDING_GLOBAL_SAMPLING):this.configuration.malkaUrlEnabled&&csArray.prototype.push.call(this.ze,q.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.ze,q.RECORDING_ETR_SAMPLING),this.ze.length>0?(this.ja(t),q.RECORDING_TEMPORARILY):q.ANALYTICS_ONLY):q.ANALYTICS_ONLY}getEligibleCollectState(t){return Vn.isRecordingSupported()?Js.isRecordingBlockedByConsent(t)?t.collectState===q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:q.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:t.collectState===q.RECORDING_GLOBAL_SAMPLING?q.RECORDING_GLOBAL_SAMPLING:(this.ze=[],this.configuration.malkaUrlEnabled&&(csArray.prototype.push.call(this.ze,q.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.ze,q.RECORDING_ETR_SAMPLING)),this.ze.length>0?(this.ja(t),q.RECORDING_TEMPORARILY):(t.etrState===fe.ETR_ON&&this.E.emitCollectStateChange(q.ANALYTICS_ONLY,fe.ETR_ON),q.ANALYTICS_ONLY)):q.ANALYTICS_ONLY}ja(t){var e;let i=(e=this.C)===null||e===void 0?void 0:e.getVisitor();this.io.send({recordingTypes:csArray.prototype.map.call(this.ze,Number),url:this.A.getAnonymizedUrl(),projectId:this.configuration.projectId,uu:(i==null?void 0:i.id)||"",sn:(i==null?void 0:i.visitsCount)||"",pn:(t==null?void 0:t.pageNumber)||""})}abortQuotaServiceRequest(){this.io.abort()}isReplayRecorded(t){return Js.isRecordingBlockedByConsent(t)?!1:t.collectState===q.RECORDING_TEMPORARILY||t.collectState===q.RECORDING_GLOBAL_SAMPLING||t.collectState===q.RECORDING_URL_SAMPLING||t.etrState===fe.ETR_ON}uR(){this.io.onError(()=>this.quotaServiceErrorHandler("NetworkError")),this.io.onTimeout(()=>this.quotaServiceTimeoutHandler(),z_),this.io.onLoad(t=>this.quotaServiceLoadHandler(t))}quotaServiceErrorHandler(t){this.wm(`error - ${t}`)}quotaServiceTimeoutHandler(){this.wm("timeout")}wm(t){let e=q.ANALYTICS_ONLY;this._m(this.ze)?(e=q.RECORDING_GLOBAL_SAMPLING,Q.warn(`Quota Service: request ${t} - bypassed by GLOBAL_SAMPLING`)):Q.warn(`Quota Service: request ${t}`),this.E.emitCollectStateChange(e,fe.ETR_OFF)}quotaServiceLoadHandler(t){if(t.status!==200){this.quotaServiceErrorHandler(`Status code: ${t.status}`);return}let e;try{e=csJSON.parse(t.responseText)}catch{this.quotaServiceErrorHandler(`Unable to parse the quota service response: ${t.responseText}`);return}let i=e.allowedRecordingTypes==null?void 0:csArray.prototype.map.call(e.allowedRecordingTypes,csString);if(!i){this.quotaServiceErrorHandler("recording types missing from quota service response");return}let r=fe.ETR_OFF,o=q.ANALYTICS_ONLY;this._m(i)?o=q.RECORDING_GLOBAL_SAMPLING:this.dR(i)&&(o=q.RECORDING_URL_SAMPLING),this.pR(i)&&(r=fe.ETR_ON),this.E.emitCollectStateChange(o,r)}_m(t){return csArray.prototype.some.call(t,e=>e===q.RECORDING_GLOBAL_SAMPLING)}dR(t){return csArray.prototype.some.call(t,e=>e===q.RECORDING_URL_SAMPLING)}pR(t){return csArray.prototype.some.call(t,e=>e===q.RECORDING_ETR_SAMPLING)}setVisitorService(t){this.C=t}getInitialCollectState(){return q.ANALYTICS_ONLY}getRecordingConsentWithdrawn(){return q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}return Z([H("Quota Service: onerror")],s.prototype,"quotaServiceErrorHandler",null),Z([H("Quota Service: ontimeout")],s.prototype,"quotaServiceTimeoutHandler",null),Z([H("Quota Service: onload")],s.prototype,"quotaServiceLoadHandler",null),s})();function G_(){let s="[data-cs-mask]",n="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],i=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return[s,n,t,...e,...i]}function W_(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var Qu=(()=>{class s{constructor(){this.fR={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.Rs={elementSelector:"",attrSelector:"",attrSelectors:[]};let t={PIISelectors:G_(),Attributes:W_()};this.Rs=G.getComputedSelectorSettings(t,this.Rs)}init(){this.gR()}setMaskedElementSettingsFromCommand(t){if(t=G.sanitizeSelectorUserInput(t),!G.isSelectorUserInput(t))throw new Error(`Command misuse: ${ro[0]}`);this.vu(t)}setMaskedElementSettingsFromParent(t){let e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.vu(e)}getMaskedElementSettings(t){return t?this.bm(this.fR):this.Rs}gR(){var t,e,i,r,o,c;let u={PIISelectors:[],Attributes:[]};((i=(e=(t=window==null?void 0:window.ClickTaleSettings)===null||t===void 0?void 0:t.DOM)===null||e===void 0?void 0:e.PII)===null||i===void 0?void 0:i.Text)instanceof Array&&u.PIISelectors.push(...window.ClickTaleSettings.DOM.PII.Text),((c=(o=(r=window==null?void 0:window.ClickTaleSettings)===null||r===void 0?void 0:r.DOM)===null||o===void 0?void 0:o.PII)===null||c===void 0?void 0:c.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(p=>{L(p.attr)&&L(p.rule)&&u.Attributes.push({selector:p.rule,attrName:p.attr})}),this.vu(u)}vu(t){this.Rs=this.bm(t)}bm(t){return G.getComputedSelectorSettings(t,this.Rs)}}return s})(),Y_=(()=>{class s{constructor(t,e,i,r,o,c,u,p,S,f,_){this.h=t,this.Bt=e,this.ft=i,this.Ot=r,this.f=o,this.M=c,this.xt=u,this.I=p,this.ot=S,this.C=f,this.A=_}init(){var t,e;let i=[],r=new bu,o=new sc(this.ot.shouldUseAnonymization(),this.h.whitelistedAttributes,this.I,this.h.anonymizeDigits);csArray.prototype.push.call(i,r,o);let c=new vu(i,this.h,this.Bt,this.ft,this.Ot),u=new fu(this.h,this.f,this.M,this.xt,this.C,this.A,c);this.C.createOrUpdateVisitor(),this.f.register(ro,S=>{this.ft.setMaskedElementSettingsFromCommand(S)}),u.init(),this.f.start(),u.startHotjar();let p=(e=(t=window.hjSiteSettings)===null||t===void 0?void 0:t.state_change_listen_mode)!==null&&e!==void 0?e:"manual";p!=="manual"&&(this.Am=new Ku(S=>{S.type==="hashchange"&&p!=="automatic_with_fragments"||this.fu()}),this.Am.observe())}stop(){var t;(t=this.Am)===null||t===void 0||t.disconnect()}fu(){let t=this.A.getUrl();hj.currentUrl=t,Pa(),Oa(t)}}return s})(),la=(s,n,t)=>{let e=new nn,i=new Bu(e),r=new Uu(window.location,i),o=new Bn(s,r,n);o.init();let c=new ju,u=new Vu,p=new Du([ku.UXA]),S=new wu(()=>{}),f=new _u,_=new Qu;_.init();let A=new mu,T=new Ou(s,new Pu(s,o,c),t),x=new gu(T,s,r,A),U=new Hu(s,o,u),N=new Iu(s,U,t);new Y_(s,S,_,f,p,o,c,e,x,N,r).init()};var X_=(()=>{class s{constructor(t,e,i,r,o){this.h=t,this.Ge=e,this.ps=i,this.T=r,this.E=o,this.mR=()=>{var c;let u=Ft.get(qe);u!==null&&Ja(u)?this.et.canCollect(hf(u))?this.init():!((c=this.h.voc)===null||c===void 0)&&c.enabled&&la(this.h,this.Ge,this.E):(this.et.onQuotaReady(p=>{var S;p!==q.QUOTA_REACHED?this.init():!((S=this.h.voc)===null||S===void 0)&&S.enabled&&la(this.h,this.Ge,this.E)}),this.et.refreshQuota())}}initWithQuota(){var t;if(!this.h.collectionEnabled){!((t=this.h.voc)===null||t===void 0)&&t.enabled&&la(this.h,this.Ge,this.E);return}let e=new FS(this.h.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this.et=new $_(this.h,e,this.E),this.et.init(),this.mR()}init(){Cn.isSupported()&&Cn.setDigestSalt(this.h.projectId.toString());let t,e,i,r,o,c,u,p,S,f,_,A,T,x,U,N,P,Y,O,X,tt,nt,ut,Rt,Lt,C,B,K,st,vt,Nt,Bt,Ke,ds,Ns;this.T.schedule(()=>{t=new nn,e=new Bu(t),r=new Uu(window.location,e),i=new Bn(this.h,r,this.Ge),i.init()}),this.T.schedule(()=>{o=new Vu,c=new ju,P=new Bv(window.location,i),new uw().init(),Y=Cu.create(Q.warn),N=new Sh(Y);let Be=N.create(`${this.h.getLegacyQuotaUri()}/quota`,!0);this.et===void 0&&(this.et=new q_(this.h,Be,this.E,P,r),this.et.init())}),this.T.schedule(()=>{u=new bv(this.h,i,o),S=new Rv(u,this.et)}),this.T.schedule(()=>{f=new Hu(this.h,i,o),_=new Iu(this.h,f,this.E,S),this.ps.setContext(_,S),this.et.setVisitorService(_)}),this.T.schedule(()=>{ds=new Ou(this.h,new Pu(this.h,i,c),this.E),A=new Iv(_,S,ds),T=new df(this.h,i,o),x=new xv(window.location,T),U=new Uv(x),tt=new Cv(this.h,_,x),Bt=new nw(Ts,this.h),B=new rw(Bt),K=new ow(Bt),st=new aw(Bt),vt=new cw,Nt=new Kv(B,K,st,vt),C=new Du([ku.UXA]),nt=new Gv(C,Nt),ut=new jv(r),Rt=new Hv(ut,C);let ce=new pf(this.h,i,o);Ke=new Qv(t,ce),Lt=new Jv(C,Ke);let Be=new Qp(_,S,x,Ke,this.h)}),this.T.schedule(()=>{let ce=new wv(this.h,_,x,tt,A,O,p,P);this.h.implementations&&(Ns=new F_(this.h.implementations,C,this.T),Ns.init(),this.E.addListener(Ns)),ce.compute(Be=>{this.T.schedule(()=>{nt.init();let Je=new Xv,ge=new Dv(this.h,C,ds,S,this.E),_t=new Fv(this.h,i,c),wt=new $v(this.E,window.location,_t),F=new qv(C,wt),ln=new Yv(C,this.h),ni=new Wv(this.h,_,S,X);if(Be){this.E.emitInitTracking();let ps=new Qu;new vv(ni,Y,_,S,this.E,C,nt,this.h,F,wt,ge,ds,t,Bt,e,r,ln,Je,Nt,Ke,Lt,ut,Rt,this.T,N,i,c,this.et,ps).start()}else new Lv(this.E,C,nt,F,wt,U,ge).start()})})})}}return s})(),mi=(()=>{let s;return function(n){let t="{domain}/tag/tag.bundle.js?v={version}",e,i={loadBundle(P){let Y=P.source,O=P.data;if(c(O)){let X=()=>{let tt=r(t,O);_(tt,()=>Y.postMessage("csBundleLoaded",P.origin))};e=O.token,N(i.loadBundle),u(P.origin)&&X()}}};function r(P,Y){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(P,"{version}",Y.version),"{token}",Y.token),"{domain}",Y.domain)}function o(){return e}n.getToken=o;function c(P){return P&&P.type==="csBundleInjection"&&u(P.domain)&&S(P.version)&&p(P.token)}n.isAuthorizedIncomingMessage=c,n.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function u(P){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(P)||n.hjDomainRegex.test(P)}n.isAuthorizedDomain=u;function p(P){return/^[a-zA-Z0-9]+$/.test(P)}n.isAuthorizedToken=p;function S(P){return/^[a-zA-Z0-9\.]+$/.test(P)}n.isAuthorizedTagVersion=S;function f(){let P=window.opener||window.parent;return window!==P&&window.addEventListener}n.isActivable=f;function _(P,Y){let O=document.createElement("script");O.type="text/javascript",O.async=!0,O.src=P,O.onload=Y,O.charset="utf-8",document.head.appendChild(O)}n.addScript=_;function A(P){let Y=document.createElement("link");Y.rel="stylesheet",Y.href=P,document.head.appendChild(Y)}n.addStyle=A;function T(P){return`${P}?cb=${new csDate().getTime()}`}n.addCacheBusting=T;function x(){U(i.loadBundle)}n.waitForBundleInjection=x;function U(P){window.addEventListener("message",P,!1)}n.listen=U;function N(P){window.removeEventListener("message",P,!1)}n.removeListener=N}(s||(s={})),s})(),Gl="_hp_ved",K_=18e5,Gn="https://heapanalytics.com",J_=`${Gn}/js/ved.js`,Q_=`${Gn}/css/ved.css`,Z_=`${Gn}/js/ved.css`,tb=(()=>{let s;return function(n){n.StatusUpdate="status"}(s||(s={})),s})(),eb=(()=>{let s;return function(n){n.ReceivedInitMessage="received_init_message"}(s||(s={})),s})();var ha=(()=>{let s;return function(n){let t=!1;function e(){let S=[Q_,Z_];csArray.prototype.forEach.call(S,f=>{mi.addStyle(f)})}function i(S){let f=new csRegExp("(^|;)[ ]*"+S+"=([^;]*)"),_=f.exec(document.cookie);return _?decodeURIComponent(_[2]):null}function r(S,f,_){let A=encodeURIComponent(S)+"="+encodeURIComponent(f),T=new csDate;T.setTime(T.getTime()+_);let x=A+"; expires="+T.toUTCString()+"; path=/";document.cookie=x}function o(){r(Gl,"on",K_)}function c(){return i(Gl)==="on"}n.isVLCookieEnabled=c;function u(S){window.heapV=Object.assign({},window.heap,{source:S==null?void 0:S.source,uri:Gn,loadArgs:S==null?void 0:S.data.args,identify:()=>{},track:()=>{}})}n.initializeHeapV=u;function p(S){var f;if(S){let _={type:tb.StatusUpdate,value:eb.ReceivedInitMessage},A={targetOrigin:S==null?void 0:S.origin};(f=S==null?void 0:S.source)===null||f===void 0||f.postMessage(_,A)}t||(t=!0,o(),u(S),window.heapV&&(mi.addScript(J_),e()))}n.init=p}(s||(s={})),s})(),sb=(()=>{let s;return function(n){let t=window.opener||window.parent,e="tag",i="https://app.contentsquare.com",r=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,mi.hjDomainRegex],o,c,u={initHeapVisualLabeler(O){var X;O.origin===Gn&&((X=O.data)===null||X===void 0?void 0:X.message)==="init"&&O.source&&(ha.init(O),N(u.initHeapVisualLabeler))},ping(O){typeof O.data=="string"&&O.data==="ping"&&f(O.origin)&&(c=O.origin,o=mi.hjDomainRegex.test(O.origin)?i:O.origin,N(u.ping),U(u.insertMessageScript),_(mi.addCacheBusting("utils.js")))},insertMessageScript:P(O=>{typeof O.data=="string"&&O.data!=="ping"&&(N(u.insertMessageScript),_(O.data))})};function p(){return mi.getToken()}n.getToken=p;function S(){return window!==t&&window.addEventListener}n.isActivable=S;function f(O){return csArray.prototype.some.call(r,X=>X.test(O))}n.isAuthorizedDomain=f;function _(O,X){let tt=document.createElement("script");tt.type="text/javascript",tt.async=!0;let nt=o==null?void 0:csString.prototype.replace.call(o,/^https?:/,"");tt.src=`${nt}/${e}/${O}`,tt.onload=X,tt.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(tt),A(O)}function A(O){csString.prototype.includes.call(O,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(O,"&mode=")[1])}function T(){U(u.ping),mi.waitForBundleInjection()}n.waitForConnection=T;function x(){U(u.initHeapVisualLabeler),ha.isVLCookieEnabled()&&ha.init()}n.waitForHeapVisualLabeler=x;function U(O){window.addEventListener("message",O,!1)}n.listen=U;function N(O){window.removeEventListener("message",O,!1)}n.removeListener=N;function P(O){return function(X){X.origin===c&&O(X)}}n.secureListener=P;function Y(O){c&&t.postMessage(O,c)}n.post=Y}(s||(s={})),s})();var Rr=window.CSFrameCommunication||sb;var ib=(()=>{class s extends gc{constructor(t){super(),this.T=t}emitBeforeNaturalPageView(){for(let t of this.listeners)t.onBeforeNaturalPageView&&t.onBeforeNaturalPageView()}emitAfterNaturalPageView(){for(let t of this.listeners)t.onAfterNaturalPageView&&t.onAfterNaturalPageView()}emitInitTracking(){for(let t of this.listeners)t.onInitTracking&&t.onInitTracking()}emitStartTracking(t){for(let e of this.listeners)e.onStartTracking&&this.T.schedule(()=>e.onStartTracking(t))}emitArtificialPageViewEnd(){for(let t of this.listeners)if(t.onArtificialPageViewEnd)try{t.onArtificialPageViewEnd()}catch(e){Q.error(e)}}emitBeforeArtificialPageView(){for(let t of this.listeners)t.onBeforeArtificialPageView&&t.onBeforeArtificialPageView()}emitAfterArtificialPageView(){for(let t of this.listeners)t.onAfterArtificialPageView&&t.onAfterArtificialPageView()}emitBeforeSessionRenewal(){for(let t of this.listeners)t.onBeforeSessionRenewal&&t.onBeforeSessionRenewal()}emitAfterSessionRenewal(){for(let t of this.listeners)t.onAfterSessionRenewal&&t.onAfterSessionRenewal()}emitOptout(){for(let t of this.listeners)t.onOptout&&t.onOptout()}emitReplayUnanonymizationConsentGranted(){for(let t of this.listeners)t.onReplayUnanonymizationConsentGranted&&t.onReplayUnanonymizationConsentGranted()}emitReplayUnanonymizationConsentWithdrawn(){for(let t of this.listeners)t.onReplayUnanonymizationConsentWithdrawn&&t.onReplayUnanonymizationConsentWithdrawn()}emitAfterReplayRecordingConsentGranted(){for(let t of this.listeners)t.onAfterReplayRecordingConsentGranted&&t.onAfterReplayRecordingConsentGranted()}emitAfterReplayRecordingConsentWithdrawn(){for(let t of this.listeners)t.onAfterReplayRecordingConsentWithdrawn&&t.onAfterReplayRecordingConsentWithdrawn()}emitCollectStateChange(t,e){for(let i of this.listeners)i.onCollectStateChange&&i.onCollectStateChange(t,e)}emitInitialDomStart(){for(let t of this.listeners)t.onInitialDomStart&&t.onInitialDomStart()}emitInitialDomDone(t){for(let e of this.listeners)e.onInitialDomDone&&e.onInitialDomDone(t)}emitRecordingContextChange(){for(let t of this.listeners)t.onRecordingContextChange&&t.onRecordingContextChange()}emitSensitiveStatusChange(){var t;for(let e of this.listeners)(t=e.onSensitiveStatusChange)===null||t===void 0||t.call(e)}emitBeforeVisitorRenewal(){for(let t of this.listeners)t.onBeforeVisitorRenewal&&t.onBeforeVisitorRenewal()}emitAfterVisitorCleared(){for(let t of this.listeners)t.onAfterVisitorCleared&&t.onAfterVisitorCleared()}emitAfterVisitorRenewal(){for(let t of this.listeners)t.onAfterVisitorRenewal&&t.onAfterVisitorRenewal()}}return Z([ee("emitStartTracking")],s.prototype,"emitStartTracking",null),s})();var nb=(()=>{let s;return function(n){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}n.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{let T=window.CSJavascriptBridge.getVersion();if(te(T))return T}catch{Q.warn("an error occurred when calling getVersion")}return null}n.getBridgeVersion=e;function i(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}n.notifyIsReadyForTracking=i;function r(T){window.CSJavascriptBridge.sendEvent(csJSON.stringify(T))}n.sendAnalysisEvent=r;function o(T){if(window.CSJavascriptBridge.sendSREvent)for(let x of T.events)window.CSJavascriptBridge.sendSREvent(csJSON.stringify(x))}n.sendSREvent=o;function c(T){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(T))}n.sendLog=c;function u(){window.CSJavascriptBridge.optIn()}n.sendOptIn=u;function p(){window.CSJavascriptBridge.optOut()}n.sendOptOut=p;function S(T,x){window.CSJavascriptBridge.sendDynamicVar(T,x)}n.sendDynamicVariable=S;function f(T,x,U){window.CSJavascriptBridge.sendTransaction(T,x,U)}n.sendTransaction=f;function _(T,x){if(window.CSJavascriptBridge.sendAssets){let U=csJSON.stringify(T);window.CSJavascriptBridge.sendAssets(U,x||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(T,U=>U.assetId))}n.sendAssets=_;function A(T){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(T))}n.sendNativeSREvent=A}(s||(s={})),s})();var rb=(()=>{class s{constructor(t,e,i){this.h=t,this.mt=e,this.ps=i}start(){var t,e,i,r,o;if(window.UXAnalytics)return;window.UXAnalytics={};let c=new Vh(!!(!((t=this.h.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.h.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(i=this.h.taskSchedulerOptions)===null||i===void 0?void 0:i.waitDuration),u=new Gp(this.mt,this.h);u.init();let p=new Yp(this.h,u);if(this.mt.isTopWindowTracker()&&p.canTrack()){if(!((r=window.CSProtectnativeFunctionsLogs)===null||r===void 0)&&r.Warning&&Q.warn(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Warning}`),!((o=window.CSProtectnativeFunctionsLogs)===null||o===void 0)&&o.Critical){Q.error(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Critical}`);return}zp();let f=new ib(c),_=new X_(this.h,u,this.ps,c,f);this.h.isQuotaEnabled()?_.initWithQuota():_.init()}let S=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive(f){return G.isMaskedElement(f)||G.isMaskedElementChild(f)},isAttributeSensitive(f,_){return G.isMaskedAttribute(f,_)},getSensitiveAttributes(f){return Ln(f.attributes,_=>G.isMaskedAttribute(f,_.name))}},Console:{warn(f){S&&console.warn("cs.tracking.warning",f)},error(f){S&&console.error("cs.tracking.error",f)}},Version:hh},window.CSFrameCommunication||(window.CSFrameCommunication=Rr,Rr.isActivable()&&Rr.waitForConnection(),this.h.isCsCrosswritingHeap()&&Rr.waitForHeapVisualLabeler())}}return Z([ee("main.start"),H("main.start")],s.prototype,"start",null),s})(),ob=(()=>{class s{constructor(){}send(t,e,i=Mt.warn){let r={message:t,errorCode:e,level:i};nb.sendLog(r)}}return s})();var ab=(()=>{class s{constructor(t,e,i){this.U=t,this.I=e,this.uC=i,this.At=[],this.Ie=null,this.dC=Ga().v}Hm(){this.At.length!==0&&(this.U.send({m:csArray.prototype.map.call(this.At,t=>({n:t.name,p:t.parameter,v:t.value})),p:this.I.anonymizePII(window.location.pathname),pid:this.uC,v:this.dC}),this.At=[])}push(t){if(csArray.prototype.push.call(this.At,...t),this.Ie&&(csClearTimeout(this.Ie),this.Ie=null),this.At.length>=s.MAX_QUEUE_SIZE){this.Hm();return}this.Ie=window.csSetTimeout(()=>{this.Hm(),this.Ie=null},s.DEBOUNCE_INTERVAL)}}return s.DEBOUNCE_INTERVAL=5e3,s.MAX_QUEUE_SIZE=100,s})();function cb(s,n){let t=s.validationRate/10,e=Ki.boolean(t);if((s.environment==="staging"||!1||e)&&!n.isInWebViewContext())try{let o=Cu.create(Q.warn,n.isTopWindowTracker()),u=new Sh(o).create(s.getMetricsUri(),!0),p=new nn,S=new ab(u,p,s.projectId);Ot.setService(S)}catch(o){Q.warn(`Error initializing metrics: ${o.message}`)}}function lb(){var s;let n=new fp(window.CS_CONF);window._uxa=window._uxa||[],n.processOptionOverrides(window._uxa);let t=new gp(window,n);t.init();let e=new Hp;if(Bd(Q),Q.computeIsActive(n.validationRate),t.isTopWindowTracker()){let o=new Dp(n,e);Q.setStrategy(o)}else if(t.isInIframeContext()){let r=new jp(n);Q.setStrategy(r)}else if(t.isInWebViewContext()){let r=new ob;Q.setStrategy(r)}!((s=n==null?void 0:n.experimental)===null||s===void 0)&&s.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=si(window,"MutationObserver")),$d(),cb(n,t),new rb(n,t,e).start()}window.CSCurrentScript=document.currentScript;csSetTimeout(()=>{try{Bp(lb)}catch{}});})();

