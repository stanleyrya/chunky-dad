{
  "config": {
    "dryRun": true,
    "timeout": 30000,
    "retryAttempts": 3
  },
  "parsers": [
    {
      "name": "Furball NYC",
      "parser": "furball",
      "urls": [
        "https://www.furball.nyc",
        "https://www.furball.nyc/ticket-information",
        "https://www.furball.nyc/upcoming-schedule"
      ],
      "city": "nyc",
      "alwaysBear": true,
      "description": "Joe Fiore's infamous furry dance parties across multiple cities"
    },
    {
      "name": "Rockbar NYC",
      "parser": "rockbar",
      "urls": ["https://www.rockbarnyc.com/calendar"],
      "city": "nyc",
      "requireDetailPages": true,
      "maxAdditionalUrls": 8,
      "allowlist": ["rockstrap", "underbear", "bears night out", "leather night", "bear happy hour", "woof"],
      "requireKeywords": true,
      "description": "NYC leather/bear bar with regular themed nights",
      "urlFilters": {
        "exclude": ["\\?", "#", "facebook\\.com", "instagram\\.com"]
      }
    },
    {
      "name": "Bearracuda",
      "parser": "bearracuda",
      "urls": ["https://bearracuda.com/#events"],
      "city": "multi",
      "alwaysBear": true,
      "requireDetailPages": true,
      "urlExtractionMethod": "parser-specific",
      "description": "Multi-city bear dance parties and events"
    },
    {
      "name": "Megawoof America",
      "parser": "megawoof",
      "urls": ["https://www.eventbrite.com/o/megawoof-america-18118978189"],
      "city": "multi",
      "alwaysBear": true,
      "requireDetailPages": true,
      "maxAdditionalUrls": 20,
      "description": "Bear events across America via Eventbrite",
      "urlFilters": {
        "include": ["eventbrite\\.com\\/e\\/"]
      }
    },
    {
      "name": "SF Eagle",
      "parser": "sf-eagle",
      "urls": ["https://sf-eagle.com/events/"],
      "city": "sf",
      "requireDetailPages": true,
      "maxAdditionalUrls": 12,
      "allowlist": ["bear", "cub", "otter", "leather bears"],
      "requireKeywords": true,
      "description": "San Francisco's legendary leather/bear bar"
    },
    {
      "name": "Eagle NY",
      "parser": "eagle-ny",
      "urls": ["https://www.eagle-ny.com/events/"],
      "city": "nyc",
      "requireDetailPages": true,
      "maxAdditionalUrls": 10,
      "allowlist": ["bear", "cub", "otter", "woof", "furball"],
      "requireKeywords": true,
      "description": "New York's Eagle Bar events and parties"
    },
    {
      "name": "Precinct DTLA",
      "parser": "precinct",
      "urls": ["https://www.precinctdtla.com/events/"],
      "city": "la",
      "requireDetailPages": true,
      "maxAdditionalUrls": 8,
      "allowlist": ["bear", "cub", "bearracuda", "woof"],
      "requireKeywords": true,
      "description": "Los Angeles downtown leather/bear venue"
    },
    {
      "name": "Example Custom Patterns",
      "parser": "custom-example",
      "urls": ["https://example-venue.com/calendar"],
      "city": "chicago",
      "requireDetailPages": true,
      "urlPatterns": [
        {
          "name": "Monthly Calendar",
          "regex": "href=\"([^\"]*\\/calendar\\/\\d{4}-\\d{2}[^\"]*)\">",
          "maxMatches": 12,
          "description": "Monthly calendar pages"
        },
        {
          "name": "Event Details",
          "regex": "href=\"([^\"]*\\/event\\/[a-z0-9-]+[^\"]*)\">",
          "maxMatches": 25,
          "description": "Individual event detail pages"
        }
      ],
      "urlFilters": {
        "exclude": ["admin", "login", "register", "\\?preview="],
        "include": ["event", "calendar"]
      },
      "allowlist": ["bear", "leather", "gay", "pride"],
      "requireKeywords": true,
      "description": "Example showing custom URL patterns and filters",
      "_disabled": true
    }
  ],
  "calendarMappings": {
    "nyc": "chunky-dad-nyc",
    "la": "chunky-dad-la",
    "sf": "chunky-dad-sf",
    "chicago": "chunky-dad-chicago",
    "seattle": "chunky-dad-seattle",
    "portland": "chunky-dad-portland",
    "denver": "chunky-dad-denver",
    "austin": "chunky-dad-austin",
    "miami": "chunky-dad-miami",
    "boston": "chunky-dad-boston",
    "dc": "chunky-dad-dc"
  },
  "notes": {
    "version": "V7 - Scalable URL Processing",
    "created": "2025-01-27",
    "features": [
      "Single required configuration file for all scraper settings",
      "Simplified safety with only dryRun mode",
      "Automatic filtering of past events",
      "No hardcoded fallbacks - configuration is mandatory",
      "Combined venue and parser configurations",
      "Real venue addresses and enhanced keyword detection",
      "Support for all major bear event websites",
      "SCALABLE URL PROCESSING - Configurable patterns with intelligent defaults",
      "Custom URL patterns per parser for unique website structures",
      "URL filtering (include/exclude patterns) for precise control",
      "Parser-specific overrides for complex cases like Bearracuda",
      "Automatic website detection (Eventbrite, Facebook, Eagle sites, etc.)",
      "Rate limiting and error handling for additional URL processing"
    ],
    "scalability": {
      "approach": "Hybrid system combining configurable patterns with parser-specific logic",
      "benefits": [
        "Works out-of-the-box for most websites with intelligent defaults",
        "Easily customizable for unique website structures",
        "Parser-specific overrides for complex multi-page sites",
        "URL filtering prevents processing irrelevant pages",
        "Rate limiting prevents server overload",
        "Graceful error handling ensures scraping continues if detail pages fail"
      ],
      "configuration_levels": [
        "Auto-detection (recommended) - Just add 'requireDetailPages': true",
        "Custom patterns - Define 'urlPatterns' array for specific structures", 
        "URL filtering - Use 'urlFilters' to include/exclude specific patterns",
        "Parser-specific - Use 'urlExtractionMethod': 'parser-specific' for complex logic"
      ]
    },
    "safety": {
      "dryRun": "When true, no calendar changes will be made. Set to false to enable calendar modifications."
    }
  }
}