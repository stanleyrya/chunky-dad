<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soft Hyphen Text Breaking Test - chunky.dad</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1, h2 {
            color: #ff6b35;
            margin-bottom: 20px;
        }
        
        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            background: #2a2a2a;
            border-radius: 8px;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .test-card {
            background: #333;
            border: 2px solid #444;
            border-radius: 8px;
            padding: 15px;
            position: relative;
        }
        
        .test-card h3 {
            color: #ff6b35;
            font-size: 14px;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .event-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            line-height: 1.3;
            color: #fff;
        }
        
        .venue-name {
            font-size: 14px;
            color: #aaa;
            margin-top: 5px;
        }
        
        /* Different hyphenation strategies */
        .no-hyphens {
            hyphens: none;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        .auto-hyphens {
            hyphens: auto;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        .manual-hyphens {
            hyphens: manual;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        /* Width constraints for testing */
        .narrow {
            max-width: 150px;
        }
        
        .medium {
            max-width: 200px;
        }
        
        .wide {
            max-width: 300px;
        }
        
        /* Visual helpers */
        .width-indicator {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 10px;
            color: #666;
            background: rgba(0,0,0,0.5);
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        .explanation {
            background: #1a1a1a;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-size: 14px;
            color: #ccc;
        }
        
        .explanation code {
            background: #333;
            padding: 2px 5px;
            border-radius: 3px;
            color: #ff6b35;
        }
        
        /* Responsive testing */
        .responsive-container {
            resize: horizontal;
            overflow: auto;
            border: 2px dashed #666;
            padding: 20px;
            min-width: 100px;
            max-width: 100%;
            background: #2a2a2a;
        }
        
        .resize-hint {
            font-size: 12px;
            color: #888;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üêª Soft Hyphen Text Breaking Test</h1>
        
        <div class="test-section">
            <h2>Understanding Soft Hyphens (&amp;shy;)</h2>
            <div class="explanation">
                <p><strong>Soft hyphens (&amp;shy; or &amp;#173;)</strong> are invisible characters that indicate where a word can be broken if needed. They only appear as visible hyphens when the word needs to break at the end of a line.</p>
                <p><strong>Benefits:</strong></p>
                <ul>
                    <li>Browser handles the breaking logic automatically</li>
                    <li>No JavaScript calculation needed for character counting</li>
                    <li>Responsive and adapts to container width changes</li>
                    <li>Works with CSS <code>hyphens: manual</code></li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h2>Event Name Examples</h2>
            <div class="comparison-grid">
                <!-- No Hyphens -->
                <div class="test-card narrow">
                    <span class="width-indicator">150px</span>
                    <h3>No Hyphens</h3>
                    <div class="event-name no-hyphens">MEGAWOOF AFTERPARTY</div>
                    <div class="venue-name no-hyphens">Underground Club</div>
                </div>
                
                <!-- Auto Hyphens -->
                <div class="test-card narrow">
                    <span class="width-indicator">150px</span>
                    <h3>Auto Hyphens</h3>
                    <div class="event-name auto-hyphens" lang="en">MEGAWOOF AFTERPARTY</div>
                    <div class="venue-name auto-hyphens" lang="en">Underground Club</div>
                </div>
                
                <!-- Manual Soft Hyphens -->
                <div class="test-card narrow">
                    <span class="width-indicator">150px</span>
                    <h3>Soft Hyphens</h3>
                    <div class="event-name manual-hyphens">MEGA&shy;WOOF AFTER&shy;PARTY</div>
                    <div class="venue-name manual-hyphens">Under&shy;ground Club</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Real Event Examples with Soft Hyphens</h2>
            <div class="comparison-grid">
                <div class="test-card narrow">
                    <span class="width-indicator">150px</span>
                    <h3>Bear Event</h3>
                    <div class="event-name manual-hyphens">Inter&shy;national Bear&shy;fest Week&shy;end</div>
                    <div class="venue-name manual-hyphens">Eagle Port&shy;land</div>
                </div>
                
                <div class="test-card medium">
                    <span class="width-indicator">200px</span>
                    <h3>Dance Party</h3>
                    <div class="event-name manual-hyphens">Satur&shy;day Night Mega&shy;dance Extra&shy;vaganza</div>
                    <div class="venue-name manual-hyphens">The Phoenix</div>
                </div>
                
                <div class="test-card wide">
                    <span class="width-indicator">300px</span>
                    <h3>Special Event</h3>
                    <div class="event-name manual-hyphens">Thanks&shy;giving Week&shy;end Cele&shy;bration</div>
                    <div class="venue-name manual-hyphens">Storm&shy;trooper Bar</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Responsive Test (Drag to Resize)</h2>
            <div class="resize-hint">‚ÜîÔ∏è Drag the right edge to resize and see how text breaks</div>
            <div class="responsive-container">
                <div class="test-card">
                    <h3>With Soft Hyphens</h3>
                    <div class="event-name manual-hyphens">Inter&shy;national Leather&shy;man Boot&shy;black Competition</div>
                    <div class="venue-name manual-hyphens">Ramrod Fort Lauder&shy;dale</div>
                </div>
                <br>
                <div class="test-card">
                    <h3>Without Soft Hyphens</h3>
                    <div class="event-name no-hyphens">International Leatherman Bootblack Competition</div>
                    <div class="venue-name no-hyphens">Ramrod Fort Lauderdale</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Implementation Strategy</h2>
            <div class="explanation">
                <h3>Proposed Approach:</h3>
                <ol>
                    <li><strong>Keep existing character estimation logic</strong> - Use it to decide between full name vs short name</li>
                    <li><strong>Add soft hyphen insertion</strong> - Insert &amp;shy; at logical break points:
                        <ul>
                            <li>Between compound words (MEGA&shy;WOOF)</li>
                            <li>After prefixes (AFTER&shy;PARTY)</li>
                            <li>Before common suffixes (-fest, -land, -night)</li>
                            <li>At syllable boundaries for long words</li>
                        </ul>
                    </li>
                    <li><strong>Use CSS hyphens: manual</strong> - Let browser handle the actual breaking</li>
                    <li><strong>Preserve special cases</strong> - Keep logic for choosing shorter names when appropriate</li>
                </ol>
                
                <h3>JavaScript Example:</h3>
                <pre><code>function insertSoftHyphens(text) {
    // Add soft hyphens at logical break points
    return text
        // Between uppercase sequences (MEGAWOOF -> MEGA&shy;WOOF)
        .replace(/([A-Z]+)([A-Z][a-z])/g, '$1&shy;$2')
        // After common prefixes
        .replace(/(After|Under|Over|Inter|Super)([A-Z])/g, '$1&shy;$2')
        // Before common suffixes
        .replace(/(fest|land|night|party|dance|week)/gi, '&shy;$1')
        // Long words (8+ chars) - add in middle
        .replace(/(\w{4})(\w{4,})/g, '$1&shy;$2');
}</code></pre>
            </div>
        </div>

        <div class="test-section">
            <h2>Browser Compatibility</h2>
            <div class="explanation">
                <p><strong>Soft hyphens (&amp;shy;) are widely supported:</strong></p>
                <ul>
                    <li>‚úÖ Chrome/Edge: Full support</li>
                    <li>‚úÖ Firefox: Full support</li>
                    <li>‚úÖ Safari: Full support</li>
                    <li>‚úÖ Mobile browsers: Full support</li>
                </ul>
                <p><strong>CSS hyphens property:</strong></p>
                <ul>
                    <li>‚úÖ <code>hyphens: manual</code> - Universally supported</li>
                    <li>‚ö†Ô∏è <code>hyphens: auto</code> - Requires lang attribute and dictionary support</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Example of how to dynamically add soft hyphens
        function addSoftHyphens(text) {
            // This is a simple example - you'd want more sophisticated rules
            return text
                // Add soft hyphens between uppercase words
                .replace(/([A-Z]+)([A-Z][a-z])/g, '$1\u00AD$2')
                // Add soft hyphens in compound words
                .replace(/([a-z])([A-Z])/g, '$1\u00AD$2')
                // Add soft hyphens after common prefixes
                .replace(/(After|Under|Over|Inter|Super|Mega)([A-Z])/gi, '$1\u00AD$2');
        }
        
        // Log example transformations
        console.log('Soft Hyphen Examples:');
        console.log('MEGAWOOF ->', addSoftHyphens('MEGAWOOF'));
        console.log('AFTERPARTY ->', addSoftHyphens('AFTERPARTY'));
        console.log('InternationalBearfest ->', addSoftHyphens('InternationalBearfest'));
    </script>
</body>
</html>