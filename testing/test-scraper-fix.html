<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bear Event Scraper - Fix Test</title>
</head>
<body>
    <h1>Bear Event Scraper - Fix Test</h1>
    <button onclick="testScraper()">Test Scraper</button>
    <div id="results"></div>

    <!-- Load the core modules -->
    <script src="../scripts/core/input-adapters.js"></script>
    <script src="../scripts/core/event-processor.js"></script>
    <script src="../scripts/core/display-adapters.js"></script>
    <script src="../scripts/bear-event-scraper-unified.js"></script>

    <script>
        function testScraper() {
            const resultsDiv = document.getElementById('results');
            
            try {
                console.log('Testing BearEventScraper availability...');
                console.log('BearEventScraper type:', typeof BearEventScraper);
                
                if (typeof BearEventScraper === 'undefined') {
                    resultsDiv.innerHTML = '<p style="color: red;">❌ BearEventScraper is not defined</p>';
                    return;
                }
                
                // Test instantiation
                const scraper = new BearEventScraper({
                    mockMode: true,
                    dryRun: true,
                    maxEvents: 5
                });
                
                console.log('Scraper created successfully:', scraper);
                resultsDiv.innerHTML = '<p style="color: green;">✅ BearEventScraper is working! Check console for details.</p>';
                
            } catch (error) {
                console.error('Test failed:', error);
                resultsDiv.innerHTML = `<p style="color: red;">❌ Error: ${error.message}</p>`;
            }
        }
        
        // Test on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded. Available globals:');
            console.log('- InputAdapters:', typeof InputAdapters);
            console.log('- EventProcessor:', typeof EventProcessor);
            console.log('- DisplayAdapters:', typeof DisplayAdapters);
            console.log('- BearEventScraper:', typeof BearEventScraper);
        });
    </script>
</body>
</html>