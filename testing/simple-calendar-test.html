<!DOCTYPE html>
<html>
<head>
    <title>Simple Calendar Test</title>
</head>
<body>
    <h1>Simple Calendar Test</h1>
    <div id="result">Testing...</div>

    <script>
        async function testCalendar() {
            const result = document.getElementById('result');
            
            try {
                console.log('Testing calendar fetch...');
                // From testing/ directory, we need to go up one level
                const response = await fetch('../data/calendars/new-york.ics');
                console.log('Response:', response);
                
                if (response.ok) {
                    const text = await response.text();
                    console.log('Calendar data length:', text.length);
                    
                    result.innerHTML = `
                        <h2>✅ SUCCESS</h2>
                        <p>Status: ${response.status}</p>
                        <p>Size: ${text.length} bytes</p>
                        <p>First line: ${text.split('\n')[0]}</p>
                        <p>Events: ${(text.match(/BEGIN:VEVENT/g) || []).length}</p>
                    `;
                } else {
                    result.innerHTML = `
                        <h2>❌ FETCH FAILED</h2>
                        <p>Status: ${response.status}</p>
                        <p>Status Text: ${response.statusText}</p>
                    `;
                }
            } catch (error) {
                console.error('Calendar fetch error:', error);
                result.innerHTML = `
                    <h2>❌ ERROR</h2>
                    <p>Error: ${error.message}</p>
                    <p>Type: ${error.name}</p>
                `;
            }
        }
        
        testCalendar();
    </script>
</body>
</html>