<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OG Image Variations – chunky.dad</title>
  <link rel="stylesheet" href="../styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Use site theme variables from styles.css */
      --og-bg-1: var(--gradient-primary);
      --og-bg-2: var(--gradient-success-alt);
      --og-bg-3: var(--gradient-secondary);
      --og-bg-4: linear-gradient(135deg, var(--background-dark) 0%, var(--background-darker) 100%);
      --og-bg-5: radial-gradient(1000px 400px at 0% 0%, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0) 60%), var(--gradient-warning);
    }

    body { font-family: 'Poppins', sans-serif; background: var(--background-primary); color: var(--text-primary); }
    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }

    /* Site-style header */
    header { position: sticky; top: 0; background: var(--gradient-primary); z-index: 10; }
    nav .nav-container { display: flex; align-items: center; justify-content: space-between; padding: 0.75rem 2rem; max-width: 1200px; margin: 0 auto; }
    .logo h1 { font-size: 20px; font-weight: 700; display: flex; align-items: center; }
    .logo a { color: var(--text-inverse); text-decoration: none; display: inline-flex; align-items: center; gap: 10px; }
    .logo-img { width: 28px; height: 28px; border-radius: 50%; }

    main { padding: 24px 0 40px; }
    .page-title { display: flex; align-items: baseline; justify-content: space-between; gap: 16px; margin-bottom: 16px; }
    .page-title h2 { font-size: 28px; font-weight: 700; margin: 0; }
    .subtitle { color: var(--text-secondary); font-size: 14px; }

    .controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; background: var(--background-light); padding: 16px; border-radius: 12px; border: 1px solid var(--border-lighter); margin-bottom: 20px; }
    .controls label { display: block; font-size: 12px; color: var(--text-secondary); margin-bottom: 6px; }
    .controls input, .controls select { width: 100%; padding: 10px 12px; border-radius: 8px; border: 1px solid var(--border-lighter); background: var(--white); color: var(--text-primary); }

    .variants-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); gap: 16px; }
    .variant-card { background: var(--white); border: 1px solid var(--border-lighter); border-radius: 14px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.08); }
    .variant-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 14px; border-bottom: 1px solid var(--border-lighter); color: var(--text-secondary); font-size: 12px; }
    .variant-preview { aspect-ratio: 1200 / 630; width: 100%; background: #111; display: grid; place-items: center; overflow: hidden; position: relative; }
    .artboard { width: 1200px; height: 630px; position: relative; overflow: hidden; transform-origin: top left; }

    /* Core artboard shared styles matching generator dimensions */
    .artboard .brand { position: absolute; top: 28px; left: 32px; font-weight: 800; letter-spacing: .6px; color: #ffffff; font-size: 24px; text-shadow: 0 2px 10px rgba(0,0,0,0.7), 0 0 1px rgba(0,0,0,0.8); z-index: 3; }
    /* Flow-based content container to avoid overlap and support multi-line */
    .artboard .content { position: absolute; left: 60px; right: 60px; top: 140px; bottom: 60px; display: flex; flex-direction: column; justify-content: flex-end; gap: 12px; z-index: 2; }
    .artboard .content .title { position: static !important; font-size: 72px; line-height: 1.05; font-weight: 900; color: #ffffff; text-shadow: 0 3px 18px rgba(0,0,0,0.75), 0 0 2px rgba(0,0,0,0.9); display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
    .artboard .content .subtitle { position: static !important; font-size: 30px; color: #e8eef4; text-shadow: 0 2px 12px rgba(0,0,0,0.7), 0 0 1px rgba(0,0,0,0.85); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
    .artboard .content .venue { position: static !important; font-size: 28px; color: #ffffff; opacity: 0.95; text-shadow: 0 2px 12px rgba(0,0,0,0.75), 0 0 1px rgba(0,0,0,0.85); display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
    .artboard .content .desc { position: static !important; font-size: 24px; color: #f3f7fb; opacity: 0.92; text-shadow: 0 2px 10px rgba(0,0,0,0.65); max-width: 100%; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

    /* Variant themes */
    .v1 { background: var(--og-bg-1); }
    .v2 { background: var(--og-bg-2); }
    .v3 { background: var(--og-bg-3); }
    .v4 { background: var(--og-bg-4); }
    .v5 { background: var(--og-bg-5); }

    /* Layouts */
    .layout-card .card { position: absolute; inset: 60px; border-radius: 24px; padding: 48px; background: rgba(0,0,0,0.28); box-shadow: 0 20px 60px rgba(0,0,0,0.5); backdrop-filter: blur(2px); z-index: 1; }

    .layout-stripes::before, .layout-stripes::after { content: ""; position: absolute; inset: -10% -10% auto -10%; height: 60%; background: repeating-linear-gradient(45deg, rgba(255,255,255,0.06) 0 16px, rgba(0,0,0,0.25) 16px 48px); mix-blend-mode: overlay; transform: skewY(-8deg); border-bottom-left-radius: 40px; border-bottom-right-radius: 40px; z-index: 0; }

    .layout-diagonal::before { content: ""; position: absolute; inset: 0; background: linear-gradient(120deg, rgba(0,0,0,0.35), rgba(0,0,0,0.1) 40%); z-index: 0; }

    .layout-ring::before { content: ""; position: absolute; width: 900px; height: 900px; left: -200px; top: -220px; border-radius: 50%; background: radial-gradient(closest-side, rgba(0,0,0,0.35), transparent 70%); filter: blur(8px); z-index: 0; }

    .layout-grid::before { content: ""; position: absolute; inset: 0; background: linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px); background-size: 24px 24px; mix-blend-mode: overlay; z-index: 0; }

    /* Fun extras */
    .badge { position: absolute; right: 40px; top: 40px; background: rgba(0,0,0,0.65); color: #fff; border: 2px solid rgba(255,255,255,0.3); border-radius: 999px; padding: 10px 16px; font-weight: 800; font-size: 16px; letter-spacing: .4px; text-transform: uppercase; text-shadow: 0 2px 10px rgba(0,0,0,0.6); z-index: 3; }
    .mascot { position: absolute; bottom: -10px; right: -6px; width: 240px; height: 240px; opacity: .12; filter: grayscale(0.2) contrast(1.1); background: url('../Rising_Star_Ryan_Head_Compressed.png') center/contain no-repeat; transform: rotate(-10deg); z-index: 0; }
    /* Optional global dark overlay for text contrast */
    .artboard::after { content: ""; position: absolute; inset: 0; background: radial-gradient(circle at 50% 40%, rgba(0,0,0,0.0), rgba(0,0,0,0.45) 60%); pointer-events: none; z-index: 0; }

    /* Cover image support */
    .artboard .cover { position: absolute; inset: 0; background-position: center; background-size: cover; background-repeat: no-repeat; z-index: 0; filter: saturate(1.05) contrast(1.05); opacity: 0.9; }
    /* Variant-specific cover masks for distinct looks */
    .layout-card .cover { clip-path: inset(0); }
    .layout-stripes .cover { clip-path: polygon(0 0, 100% 0, 100% 70%, 0 85%); filter: brightness(0.9) contrast(1.1); }
    .layout-diagonal .cover { clip-path: polygon(0 0, 100% 0, 100% 80%, 0 100%); filter: brightness(0.9) saturate(1.1); }
    .layout-ring .cover { transform: scale(1.05); filter: blur(0.3px) saturate(1.05); }
    .layout-grid .cover { opacity: 0.8; }

    .preview-meta { padding: 12px 14px; border-top: 1px solid var(--border-lighter); display: grid; gap: 6px; font-size: 12px; color: var(--text-secondary); }
    .preview-meta code { background: var(--background-light); padding: 3px 6px; border-radius: 6px; color: var(--text-primary); }

    /* Dramatic new layouts */
    .layout-sunburst::before { content: ""; position: absolute; inset: -15%; background: repeating-conic-gradient(from -30deg at 30% 30%, rgba(255,255,255,0.18) 0 8deg, rgba(0,0,0,0) 8deg 22deg); mix-blend-mode: overlay; transform: rotate(-12deg); z-index: 0; }

    .layout-split::before { content: ""; position: absolute; inset: 0; background: linear-gradient(115deg, rgba(0,0,0,0.5) 0 48%, rgba(255,255,255,0.18) 48% 52%, rgba(0,0,0,0.35) 52% 100%); mix-blend-mode: overlay; z-index: 0; }
    .layout-split .cover { clip-path: polygon(0 0, 60% 0, 40% 100%, 0 100%); transform: scale(1.03); }

    .layout-angles::before { content: ""; position: absolute; inset: -10% -25% 40% -15%; background: linear-gradient(-18deg, rgba(255,255,255,0.22), rgba(0,0,0,0.25)); filter: blur(0.5px); mix-blend-mode: overlay; z-index: 0; }
    .layout-angles::after { content: ""; position: absolute; inset: 45% -20% -15% -10%; background: linear-gradient(-18deg, rgba(0,0,0,0.35), rgba(255,255,255,0.12)); filter: blur(0.5px); mix-blend-mode: overlay; z-index: 0; }

    .layout-wave::before { content: ""; position: absolute; inset: -20%; background:
      radial-gradient(1200px 360px at -10% 110%, rgba(255,255,255,0.16), transparent 60%),
      radial-gradient(900px 300px at 110% -10%, rgba(0,0,0,0.28), transparent 60%);
      mix-blend-mode: overlay; z-index: 0; }
    .layout-wave .cover { transform: scale(1.06); filter: saturate(1.2); }

    .layout-bokeh::before { content: ""; position: absolute; inset: -10%; background:
      radial-gradient(80px 80px at 18% 32%, rgba(255,255,255,0.22), transparent 60%),
      radial-gradient(120px 120px at 70% 40%, rgba(255,255,255,0.16), transparent 60%),
      radial-gradient(60px 60px at 62% 72%, rgba(255,255,255,0.14), transparent 60%),
      radial-gradient(100px 100px at 35% 75%, rgba(255,255,255,0.12), transparent 60%);
      filter: blur(0.5px); mix-blend-mode: screen; opacity: 0.7; z-index: 0; }
    .layout-bokeh .cover { opacity: 0.85; filter: saturate(1.15); }

    .layout-halftone::before { content: ""; position: absolute; inset: 0; background:
      radial-gradient(rgba(255,255,255,0.08) 1px, transparent 1px);
      background-size: 12px 12px; mix-blend-mode: overlay; opacity: 0.9; z-index: 0; }
    .layout-halftone .cover { opacity: 0.85; }

    .layout-frame::before { content: ""; position: absolute; inset: 36px; border: 10px solid rgba(255,255,255,0.6); border-radius: 24px; box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2); mix-blend-mode: overlay; z-index: 1; }

    .layout-spotlight-center::before { content: ""; position: absolute; inset: 0; background:
      radial-gradient(closest-side at 50% 45%, rgba(255,255,255,0.25), rgba(0,0,0,0) 55%),
      radial-gradient(closest-side at 50% 45%, rgba(255,255,255,0.15), rgba(0,0,0,0) 35%);
      mix-blend-mode: screen; z-index: 0; }
    .layout-spotlight-center .cover { filter: brightness(0.95); }
  </style>
</head>
<body>
  <header>
    <nav>
      <div class="nav-container">
        <div class="logo">
          <h1><a href="../index.html"><img src="../Rising_Star_Ryan_Head_Compressed.png" alt="chunky.dad logo" class="logo-img"> chunky.dad</a></h1>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <div class="container">
      <div class="page-title">
        <h2>Bear Event Open Graph Variations</h2>
        <div class="subtitle">1200x630 previews – styled like city pages</div>
      </div>

      <section class="controls">
        <div>
          <label for="cityInput">City</label>
          <input id="cityInput" type="text" value="Seattle">
        </div>
        <div>
          <label for="eventInput">Event name</label>
          <input id="eventInput" type="text" value="Bearracuda Seattle: SERIOUS WOOD">
        </div>
        <div>
          <label for="dayInput">Day</label>
          <input id="dayInput" type="text" value="Friday">
        </div>
        <div>
          <label for="timeInput">Time</label>
          <input id="timeInput" type="text" value="9PM–3AM">
        </div>
        <div>
          <label for="barInput">Venue</label>
          <input id="barInput" type="text" value="MASSIVE">
        </div>
        <div>
          <label for="descInput">Description</label>
          <input id="descInput" type="text" placeholder="Short description to show on image">
        </div>
        <div>
          <label for="coverInput">Cover image URL</label>
          <input id="coverInput" type="url" placeholder="https://...">
        </div>
        <div>
          <label for="badgeInput">Badge text (optional)</label>
          <input id="badgeInput" type="text" placeholder="e.g. New! or Tonight!">
        </div>
        <div>
          <label for="themeSelect">Theme</label>
          <select id="themeSelect">
            <option value="v1">Classic Night</option>
            <option value="v2">Cool Neon</option>
            <option value="v3">Bear Flag</option>
            <option value="v4">Midnight</option>
            <option value="v5">Spotlight</option>
          </select>
        </div>
        <div>
          <label for="scaleInput">Font scale</label>
          <input id="scaleInput" type="range" min="0.6" max="1.4" step="0.05" value="1">
        </div>
        <div>
          <label for="alignSelect">Text alignment</label>
          <select id="alignSelect">
            <option value="left">Left</option>
            <option value="center">Center</option>
            <option value="right">Right</option>
          </select>
        </div>
        <div>
          <label for="overlayInput">Overlay strength</label>
          <input id="overlayInput" type="range" min="0" max="0.75" step="0.05" value="0.45">
        </div>
        <div>
          <label>Elements</label>
          <div style="display:flex; gap:10px; align-items:center;">
            <label style="display:flex; gap:6px; align-items:center; font-size:12px; color:#9fb2c8;"><input id="toggleBrand" type="checkbox" checked> brand</label>
            <label style="display:flex; gap:6px; align-items:center; font-size:12px; color:#9fb2c8;"><input id="toggleBadge" type="checkbox"> badge</label>
            <label style="display:flex; gap:6px; align-items:center; font-size:12px; color:#9fb2c8;"><input id="toggleMascot" type="checkbox" checked> mascot</label>
          </div>
        </div>
      </section>

      <section class="variants-grid" id="variantsGrid"></section>
    </div>
  </main>

  <script src="../js/logger.js"></script>
  <script>
    (function(){
      const COMPONENT = 'EVENT';
      logger.componentInit(COMPONENT, 'OG variations tester init');

      const cityEl = document.getElementById('cityInput');
      const eventEl = document.getElementById('eventInput');
      const dayEl = document.getElementById('dayInput');
      const timeEl = document.getElementById('timeInput');
      const barEl = document.getElementById('barInput');
      const descInputEl = document.getElementById('descInput');
      const coverInputEl = document.getElementById('coverInput');
      const badgeEl = document.getElementById('badgeInput');
      const themeEl = document.getElementById('themeSelect');
      const grid = document.getElementById('variantsGrid');
      const scaleEl = document.getElementById('scaleInput');
      const alignEl = document.getElementById('alignSelect');
      const overlayEl = document.getElementById('overlayInput');
      const toggleBrandEl = document.getElementById('toggleBrand');
      const toggleBadgeEl = document.getElementById('toggleBadge');
      const toggleMascotEl = document.getElementById('toggleMascot');

      const VARIANTS = [
        { key: 'card-classic', name: 'Card – Classic', classes: 'layout-card' },
        { key: 'stripes-fun', name: 'Stripes – Fun', classes: 'layout-stripes' },
        { key: 'diagonal-glow', name: 'Diagonal – Glow', classes: 'layout-diagonal' },
        { key: 'ring-pop', name: 'Halo – Pop', classes: 'layout-ring' },
        { key: 'grid-tech', name: 'Grid – Tech', classes: 'layout-grid' },
        { key: 'sunburst-energy', name: 'Sunburst – Energy', classes: 'layout-sunburst' },
        { key: 'split-angle', name: 'Split – Angle', classes: 'layout-split' },
        { key: 'angled-edges', name: 'Angled – Edges', classes: 'layout-angles' },
        { key: 'wave-glow', name: 'Wave – Glow', classes: 'layout-wave' },
        { key: 'soft-bokeh', name: 'Bokeh – Soft', classes: 'layout-bokeh' },
        { key: 'newsprint-halftone', name: 'Halftone – Newsprint', classes: 'layout-halftone' },
        { key: 'framed-focus', name: 'Frame – Focus', classes: 'layout-frame' },
        { key: 'spotlight-center', name: 'Spotlight – Center', classes: 'layout-spotlight-center' }
      ];

      function buildVariantCard(variant, data) {
        const card = document.createElement('div');
        card.className = 'variant-card';
        card.innerHTML = `
          <div class="variant-header">
            <div>${variant.name}</div>
            <div>theme: <code>${data.theme}</code></div>
          </div>
          <div class="variant-preview">
            <div class="artboard ${variant.classes} ${data.theme}">
              <div class="cover" style="display:none"></div>
              <div class="brand">chunky.dad</div>
              <div class="card"></div>
              <div class="content">
                <div class="title"></div>
                <div class="subtitle"></div>
                <div class="venue"></div>
                <div class="desc"></div>
              </div>
              <div class="badge" style="display:none"></div>
              <div class="mascot"></div>
            </div>
          </div>
          <div class="preview-meta">
            <div>og:title: <code></code></div>
            <div>og:description: <code></code></div>
            <div>cover: <code></code></div>
            <div>dimensions: <code>1200x630</code></div>
          </div>
        `;
        return card;
      }

      function computeMeta(data) {
        const title = `${data.event} – ${data.city} – chunky.dad`;
        const descriptionBits = [];
        if (data.day) descriptionBits.push(data.day);
        if (data.time) descriptionBits.push(data.time);
        if (data.bar) descriptionBits.push(`@ ${data.bar}`);
        const primary = descriptionBits.join(' · ');
        const description = data.description?.trim() ? `${primary ? primary + ' · ' : ''}${data.description.trim()}` : (primary || `${data.city} bear event`);
        return { title, description };
      }

      function update() {
        const data = {
          city: cityEl.value.trim() || 'City',
          event: eventEl.value.trim() || 'Bear Event',
          day: dayEl.value.trim(),
          time: timeEl.value.trim(),
          bar: barEl.value.trim(),
          description: (document.getElementById('descInput').value || '').trim(),
          cover: (document.getElementById('coverInput').value || '').trim(),
          badge: badgeEl.value.trim(),
          theme: themeEl.value,
          scale: parseFloat(scaleEl.value) || 1,
          align: alignEl.value,
          overlay: parseFloat(overlayEl.value) || 0,
          showBrand: !!toggleBrandEl.checked,
          showBadge: !!toggleBadgeEl.checked,
          showMascot: !!toggleMascotEl.checked
        };

        logger.debug(COMPONENT, 'Updating OG previews', data);

        grid.innerHTML = '';
        const meta = computeMeta(data);

        const artboards = [];
        VARIANTS.forEach(variant => {
          const card = buildVariantCard(variant, data);
          const art = card.querySelector('.artboard');
          art.classList.remove('v1','v2','v3','v4','v5');
          art.classList.add(data.theme);

          const titleEl = card.querySelector('.title');
          const subtitleEl = card.querySelector('.subtitle');
          const venueEl = card.querySelector('.venue');
          const descEl = card.querySelector('.desc');
          const badge = card.querySelector('.badge');
          const brand = card.querySelector('.brand');
          const mascot = card.querySelector('.mascot');
          const cover = card.querySelector('.cover');

          titleEl.textContent = data.event;
          subtitleEl.textContent = [data.city, data.day, data.time].filter(Boolean).join(' • ');
          venueEl.textContent = data.bar ? `@ ${data.bar}` : '';
          descEl.textContent = data.description || '';
          // Apply toggles
          brand.style.display = data.showBrand ? 'block' : 'none';
          mascot.style.display = data.showMascot ? 'block' : 'none';
          badge.style.display = data.showBadge && data.badge ? 'inline-block' : 'none';
          badge.textContent = data.showBadge ? (data.badge || '') : '';

          // Cover image
          if (data.cover) {
            cover.style.display = 'block';
            cover.style.backgroundImage = `url('${data.cover.replace(/'/g, "%27")}')`;
          } else {
            cover.style.display = 'none';
            cover.style.backgroundImage = '';
          }

          // Alignment
          const textAlign = data.align;
          [titleEl, subtitleEl, venueEl, descEl].forEach(el => { el.style.textAlign = textAlign; });

          // Scaling
          titleEl.style.fontSize = `${72 * data.scale}px`;
          subtitleEl.style.fontSize = `${30 * data.scale}px`;
          venueEl.style.fontSize = `${28 * data.scale}px`;
          descEl.style.fontSize = `${24 * data.scale}px`;

          // Overlay strength
          art.style.setProperty('--overlay-strength', data.overlay);
          art.style.position = 'relative';
          art.style.overflow = 'hidden';
          // Inject a dynamic overlay by updating ::after via inline style
          const overlay = document.createElement('div');
          overlay.style.position = 'absolute';
          overlay.style.inset = '0';
          overlay.style.pointerEvents = 'none';
          overlay.style.zIndex = '0';
          overlay.style.background = `radial-gradient(circle at 50% 40%, rgba(0,0,0,0), rgba(0,0,0,${data.overlay}) 60%)`;
          // Remove prior overlay if any
          const existing = art.querySelector('[data-overlay]');
          if (existing) existing.remove();
          overlay.setAttribute('data-overlay', 'true');
          art.appendChild(overlay);

          const metaTitle = card.querySelector('.preview-meta div:nth-child(1) code');
          const metaDesc = card.querySelector('.preview-meta div:nth-child(2) code');
          const metaCover = card.querySelector('.preview-meta div:nth-child(3) code');
          metaTitle.textContent = meta.title;
          metaDesc.textContent = meta.description;
          metaCover.textContent = data.cover ? 'yes' : 'no';

          grid.appendChild(card);
          artboards.push({ art, card });
        });

        // Fit each 1200x630 artboard into its preview container
        requestAnimationFrame(() => {
          artboards.forEach(({ art }) => {
            const preview = art.closest('.variant-preview');
            if (!preview) return;
            const pw = preview.clientWidth;
            const ph = preview.clientHeight; // dictated by aspect-ratio
            const scale = Math.min(pw / 1200, ph / 630);
            art.style.transform = `scale(${scale})`;
          });
        });
      }

      ['input','change'].forEach(evt => {
        cityEl.addEventListener(evt, update);
        eventEl.addEventListener(evt, update);
        dayEl.addEventListener(evt, update);
        timeEl.addEventListener(evt, update);
        barEl.addEventListener(evt, update);
        descInputEl.addEventListener(evt, update);
        coverInputEl.addEventListener(evt, update);
        badgeEl.addEventListener(evt, update);
        themeEl.addEventListener(evt, update);
        scaleEl.addEventListener(evt, update);
        alignEl.addEventListener(evt, update);
        overlayEl.addEventListener(evt, update);
        toggleBrandEl.addEventListener(evt, update);
        toggleBadgeEl.addEventListener(evt, update);
        toggleMascotEl.addEventListener(evt, update);
      });

      update();
      // Recompute scales on resize
      window.addEventListener('resize', () => {
        try {
          update();
        } catch (err) {
          logger.componentError(COMPONENT, 'resize update failed', err);
        }
      });
      logger.componentLoad(COMPONENT, 'OG variations tester ready');
    })();
  </script>
</body>
</html>
