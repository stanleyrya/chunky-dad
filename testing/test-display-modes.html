<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ–¥ï¸ chunky.dad's Toolbox - Monitor Mount</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        body {
            padding: 2rem;
            background: var(--background-light);
        }
        .test-section {
            margin-bottom: 3rem;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 1rem;
        }
        .mode-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }
        .mode-description {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }
        .test-info {
            background: #e8f4f8;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border: 1px solid #b3d9e8;
        }
        .test-info h3 {
            margin-top: 0;
            color: #0066cc;
        }
        .test-info code {
            background: #fff;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <h1>Display Field Test - Bear Directory</h1>
    
    <div class="test-info">
        <h3>ğŸ“‹ About the Display Field</h3>
        <p>The new <code>Display</code> field in the Google Sheets determines how each directory item is displayed:</p>
        <ul>
            <li><code>instagram</code> - Shows Instagram embed (if Instagram username is provided)</li>
            <li><code>shop</code> - Shows shop website in an iframe (if Shop URL is provided)</li>
            <li><code>web</code> or <code>website</code> - Shows website in an iframe (if Website URL is provided)</li>
            <li>Empty or any other value - Defaults to Instagram if available, otherwise shows placeholder</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2 class="mode-title">Display: Instagram</h2>
        <p class="mode-description">When Display field is set to "instagram"</p>
        <div class="test-grid">
            <div class="directory-tile">
                <div class="instagram-embed-container loaded" data-instagram-user="bearworldmag">
                    <div class="instagram-loading" style="display: none;">
                        <div class="loading-spinner"></div>
                        <p>Loading @bearworldmag</p>
                    </div>
                    <blockquote class="instagram-media" 
                        data-instgrm-permalink="https://www.instagram.com/bearworldmag/" 
                        data-instgrm-version="14">
                        <div style="padding:16px;">
                            <a href="https://www.instagram.com/bearworldmag/" target="_blank">
                                View on Instagram
                            </a>
                        </div>
                    </blockquote>
                </div>
                <div class="tile-content">
                    <h3 class="tile-name">Bear World Magazine</h3>
                    <p class="tile-city">ğŸ“ Global</p>
                    <p class="tile-type">ğŸ¨ Art</p>
                    <div class="tile-links">
                        <a href="https://bearworldmag.com" target="_blank" rel="noopener" class="tile-link">Website</a>
                        <a href="https://instagram.com/bearworldmag" target="_blank" rel="noopener" class="tile-link">Instagram</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2 class="mode-title">Display: Shop</h2>
        <p class="mode-description">When Display field is set to "shop"</p>
        <div class="test-grid">
            <div class="directory-tile">
                <div class="shop-preview-container">
                    <div class="shop-preview-header">
                        <span class="shop-icon">ğŸ›ï¸</span>
                        <span>Shop Preview</span>
                    </div>
                    <iframe src="https://example-shop.com" 
                            class="shop-preview-iframe" 
                            sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
                            loading="lazy">
                    </iframe>
                    <a href="https://example-shop.com" target="_blank" class="shop-preview-link">
                        Visit Shop â†’
                    </a>
                </div>
                <div class="tile-content">
                    <h3 class="tile-name">Bear Essentials Shop</h3>
                    <p class="tile-city">ğŸ“ San Francisco</p>
                    <p class="tile-type">ğŸª Business</p>
                    <div class="tile-links">
                        <a href="https://example-shop.com" target="_blank" rel="noopener" class="tile-link">Shop</a>
                        <a href="https://instagram.com/bearessentials" target="_blank" rel="noopener" class="tile-link">Instagram</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2 class="mode-title">Display: Web/Website</h2>
        <p class="mode-description">When Display field is set to "web" or "website"</p>
        <div class="test-grid">
            <div class="directory-tile">
                <div class="website-preview-container">
                    <div class="website-preview-header">
                        <span class="website-icon">ğŸŒ</span>
                        <span>Website Preview</span>
                    </div>
                    <iframe src="https://example.com" 
                            class="website-preview-iframe" 
                            sandbox="allow-same-origin allow-scripts allow-popups"
                            loading="lazy">
                    </iframe>
                    <a href="https://example.com" target="_blank" class="website-preview-link">
                        Visit Website â†’
                    </a>
                </div>
                <div class="tile-content">
                    <h3 class="tile-name">Bear Artist Portfolio</h3>
                    <p class="tile-city">ğŸ“ New York</p>
                    <p class="tile-type">ğŸ¨ Art</p>
                    <div class="tile-links">
                        <a href="https://example.com" target="_blank" rel="noopener" class="tile-link">Website</a>
                        <a href="https://instagram.com/bearartist" target="_blank" rel="noopener" class="tile-link">Instagram</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2 class="mode-title">No Display Field (Default Behavior)</h2>
        <p class="mode-description">When Display field is empty - defaults to Instagram if available</p>
        <div class="test-grid">
            <div class="directory-tile">
                <div class="instagram-embed-container" data-instagram-user="bearcommunity">
                    <div class="instagram-loading">
                        <div class="loading-spinner"></div>
                        <p>Loading @bearcommunity</p>
                    </div>
                    <blockquote class="instagram-media" 
                        data-instgrm-permalink="https://www.instagram.com/bearcommunity/" 
                        data-instgrm-version="14">
                        <div style="padding:16px;">
                            <a href="https://www.instagram.com/bearcommunity/" target="_blank">
                                View on Instagram
                            </a>
                        </div>
                    </blockquote>
                </div>
                <div class="tile-content">
                    <h3 class="tile-name">Bear Community Center</h3>
                    <p class="tile-city">ğŸ“ Los Angeles</p>
                    <p class="tile-type">ğŸª Business</p>
                    <div class="tile-links">
                        <a href="https://bearcommunity.org" target="_blank" rel="noopener" class="tile-link">Website</a>
                        <a href="https://instagram.com/bearcommunity" target="_blank" rel="noopener" class="tile-link">Instagram</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2 class="mode-title">Error States</h2>
        <p class="mode-description">How different display types handle loading errors</p>
        <div class="test-grid">
            <div class="directory-tile">
                <div class="shop-preview-error">
                    Unable to preview shop<br>
                    <a href="https://unavailable-shop.com" target="_blank">Visit Shop â†’</a>
                </div>
                <div class="tile-content">
                    <h3 class="tile-name">Unavailable Shop</h3>
                    <p class="tile-city">ğŸ“ Chicago</p>
                    <p class="tile-type">ğŸª Business</p>
                </div>
            </div>
            
            <div class="directory-tile">
                <div class="instagram-error">
                    <p>Unable to load Instagram feed</p>
                    <a href="https://instagram.com/privatebear" target="_blank">View on Instagram â†’</a>
                </div>
                <div class="tile-content">
                    <h3 class="tile-name">Private Bear Account</h3>
                    <p class="tile-city">ğŸ“ Miami</p>
                    <p class="tile-type">ğŸ¨ Art</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Instagram embed script -->
    <script async src="https://www.instagram.com/embed.js"></script>
    
    <script>
        // Simulate Instagram embed loading
        setTimeout(() => {
            document.querySelectorAll('.instagram-embed-container').forEach(container => {
                if (!container.classList.contains('loaded')) {
                    // Simulate some embeds loading
                    if (Math.random() > 0.5) {
                        container.classList.add('loaded');
                        const loading = container.querySelector('.instagram-loading');
                        if (loading) loading.style.display = 'none';
                    }
                }
            });
        }, 2000);
    </script>
</body>
</html>