<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week View - chunky.dad</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background: #f5f5f5;
            font-family: 'Inter', sans-serif;
        }
        .test-header {
            text-align: center;
            padding: 2rem 1rem;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-header h1 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        .back-link {
            color: var(--secondary-color);
            text-decoration: none;
            margin-bottom: 1rem;
            display: inline-block;
        }
        .week-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        .week-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .week-nav {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        .week-nav button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .week-nav button:hover {
            background: var(--secondary-color);
        }
        .current-week {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        .week-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .day-column {
            background: white;
            border-radius: 15px;
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-height: 200px;
        }
        .day-header {
            text-align: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }
        .day-name {
            font-weight: 600;
            color: var(--primary-color);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .day-date {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            margin-top: 0.25rem;
        }
        .day-events {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .event-dot {
            background: var(--primary-color);
            color: white;
            padding: 0.5rem;
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
        }
        .event-dot:hover {
            background: var(--secondary-color);
            transform: scale(1.05);
        }
        .event-dot.selected {
            background: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(255, 193, 7, 0.3);
        }
        .event-detail {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-top: 2rem;
            display: none;
            animation: slideDown 0.3s ease;
        }
        .event-detail.show {
            display: block;
        }
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .event-detail-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .event-icon {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .event-info h3 {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .event-meta {
            color: #666;
            font-size: 0.95rem;
        }
        .event-description {
            color: #555;
            line-height: 1.6;
            font-size: 1rem;
        }
        .close-detail {
            background: #f0f0f0;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 1rem;
            transition: background 0.3s ease;
        }
        .close-detail:hover {
            background: #e0e0e0;
        }
        .no-events {
            text-align: center;
            color: #999;
            font-style: italic;
            padding: 1rem;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <a href="event-test-index.html" class="back-link">‚Üê Back to all variations</a>
        <h1>Week View</h1>
        <p>High-level week overview with event selector</p>
    </div>

    <div class="week-container">
        <div class="week-header">
            <div class="week-nav">
                <button onclick="previousWeek()">‚Äπ Previous</button>
                <button onclick="nextWeek()">Next ‚Ä∫</button>
            </div>
            <div class="current-week" id="currentWeek">March 10-16, 2025</div>
        </div>

        <div class="week-grid" id="weekGrid">
            <!-- Days will be populated here -->
        </div>

        <div class="event-detail" id="eventDetail">
            <!-- Selected event details will appear here -->
        </div>
    </div>

    <script>
        // Sample event data organized by day
        const weekEvents = {
            '2025-03-10': [
                {
                    title: "Sunday Beer Bust",
                    time: "3:00 PM",
                    venue: "Growler's Pub",
                    description: "All you can drink beer from 3-8pm. BBQ on the patio starting at 4pm.",
                    icon: "üç∫"
                }
            ],
            '2025-03-11': [
                {
                    title: "Monday Movie Night",
                    time: "7:00 PM",
                    venue: "The Cave",
                    description: "Screening of classic bear films. Free popcorn and drinks available.",
                    icon: "üé¨"
                }
            ],
            '2025-03-12': [
                {
                    title: "Trivia Night",
                    time: "8:00 PM",
                    venue: "Smart Bear Cafe",
                    description: "Test your knowledge and win prizes. Teams of up to 6 people. Free entry.",
                    icon: "üß†"
                }
            ],
            '2025-03-13': [
                {
                    title: "Karaoke Thursdays",
                    time: "9:00 PM",
                    venue: "Honey's Lounge",
                    description: "Show off your vocal skills or just come to cheer. Half price drinks for singers.",
                    icon: "üé§"
                }
            ],
            '2025-03-14': [
                {
                    title: "Leather & Lace Night",
                    time: "10:00 PM",
                    venue: "The Den Bar",
                    description: "Dress code strictly enforced. Prizes for best outfit. Happy hour until 10pm.",
                    icon: "üé≠"
                }
            ],
            '2025-03-15': [
                {
                    title: "Bear Week Pool Party",
                    time: "2:00 PM",
                    venue: "Wet Bear Pool Club",
                    description: "Join us for the biggest pool party of the season with DJ Thunder spinning all day.",
                    icon: "üèä"
                },
                {
                    title: "Dance Party: Retro Night",
                    time: "10:00 PM",
                    venue: "Club Furr",
                    description: "80s and 90s hits all night long. Costume contest at midnight.",
                    icon: "üï∫"
                }
            ],
            '2025-03-16': [
                {
                    title: "Sunday Brunch",
                    time: "11:00 AM",
                    venue: "Honey's Lounge",
                    description: "Bottomless mimosas and delicious brunch menu. Reservations recommended.",
                    icon: "üç≥"
                }
            ]
        };

        let currentWeekStart = new Date('2025-03-10');
        let selectedEvent = null;

        function formatDate(date) {
            return date.toISOString().split('T')[0];
        }

        function getDayName(date) {
            return date.toLocaleDateString('en-US', { weekday: 'short' });
        }

        function getDayNumber(date) {
            return date.getDate();
        }

        function updateWeekDisplay() {
            const weekGrid = document.getElementById('weekGrid');
            const currentWeekElement = document.getElementById('currentWeek');
            
            weekGrid.innerHTML = '';
            
            // Update week header
            const weekEnd = new Date(currentWeekStart);
            weekEnd.setDate(weekEnd.getDate() + 6);
            currentWeekElement.textContent = `${currentWeekStart.toLocaleDateString('en-US', { month: 'long', day: 'numeric' })} - ${weekEnd.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}`;
            
            // Create day columns
            for (let i = 0; i < 7; i++) {
                const currentDate = new Date(currentWeekStart);
                currentDate.setDate(currentDate.getDate() + i);
                const dateString = formatDate(currentDate);
                const dayEvents = weekEvents[dateString] || [];
                
                const dayColumn = document.createElement('div');
                dayColumn.className = 'day-column';
                dayColumn.innerHTML = `
                    <div class="day-header">
                        <div class="day-name">${getDayName(currentDate)}</div>
                        <div class="day-date">${getDayNumber(currentDate)}</div>
                    </div>
                    <div class="day-events">
                        ${dayEvents.length > 0 ? 
                            dayEvents.map((event, index) => `
                                <div class="event-dot" onclick="selectEvent('${dateString}', ${index})">
                                    ${event.title}
                                </div>
                            `).join('') : 
                            '<div class="no-events">No events</div>'
                        }
                    </div>
                `;
                weekGrid.appendChild(dayColumn);
            }
        }

        function selectEvent(dateString, eventIndex) {
            // Remove previous selection
            document.querySelectorAll('.event-dot').forEach(dot => {
                dot.classList.remove('selected');
            });
            
            // Add selection to clicked event
            const eventDots = document.querySelectorAll('.event-dot');
            const dayIndex = new Date(dateString).getDay();
            const dayEvents = weekEvents[dateString] || [];
            const eventDotIndex = Array.from(eventDots).findIndex((dot, index) => {
                const dotDay = Math.floor(index / Math.max(dayEvents.length, 1));
                return dotDay === dayIndex;
            }) + eventIndex;
            
            if (eventDots[eventDotIndex]) {
                eventDots[eventDotIndex].classList.add('selected');
            }
            
            // Show event detail
            const event = weekEvents[dateString][eventIndex];
            const eventDetail = document.getElementById('eventDetail');
            
            eventDetail.innerHTML = `
                <div class="event-detail-header">
                    <div class="event-icon">${event.icon}</div>
                    <div class="event-info">
                        <h3>${event.title}</h3>
                        <div class="event-meta">
                            üìÖ ${new Date(dateString).toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })} at ${event.time}<br>
                            üìç ${event.venue}
                        </div>
                    </div>
                </div>
                <p class="event-description">${event.description}</p>
                <button class="close-detail" onclick="closeEventDetail()">Close</button>
            `;
            
            eventDetail.classList.add('show');
            selectedEvent = { dateString, eventIndex };
        }

        function closeEventDetail() {
            document.getElementById('eventDetail').classList.remove('show');
            document.querySelectorAll('.event-dot').forEach(dot => {
                dot.classList.remove('selected');
            });
            selectedEvent = null;
        }

        function previousWeek() {
            currentWeekStart.setDate(currentWeekStart.getDate() - 7);
            updateWeekDisplay();
            closeEventDetail();
        }

        function nextWeek() {
            currentWeekStart.setDate(currentWeekStart.getDate() + 7);
            updateWeekDisplay();
            closeEventDetail();
        }

        // Initialize on load
        updateWeekDisplay();
    </script>
</body>
</html>