<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸ“… chunky.dad's Toolbox - Layout Architect</title>
  <link rel="stylesheet" href="../styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Roboto+Mono:wght@300;400;500;600&family=Poppins:wght@300;400;600;700;900&family=Bebas+Neue&family=Oswald:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --og-bg-1: var(--gradient-primary);
      --og-bg-2: var(--gradient-success-alt);
      --og-bg-3: var(--gradient-secondary);
      --og-bg-4: linear-gradient(135deg, var(--background-dark) 0%, var(--background-darker) 100%);
      --og-bg-5: radial-gradient(1000px 400px at 0% 0%, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0) 60%), var(--gradient-warning);
      --custom-color-1: #8e2de2;
      --custom-color-2: #4a00e0;
    }

    body { font-family: 'Poppins', sans-serif; background: var(--background-primary); color: var(--text-primary); }
    .container { max-width: 1280px; margin: 0 auto; padding: 20px; }

    header { position: sticky; top: 0; background: var(--gradient-primary); z-index: 10; }
    nav .nav-container { display: flex; align-items: center; justify-content: space-between; padding: 0.75rem 2rem; max-width: 1280px; margin: 0 auto; }
    .logo h1 { font-size: 20px; font-weight: 700; display: flex; align-items: center; }
    .logo a { color: var(--text-inverse); text-decoration: none; display: inline-flex; align-items: center; gap: 10px; }
    .logo-img { width: 28px; height: 28px; }

    main { padding: 24px 0 40px; }
    .page-title { display: flex; align-items: baseline; justify-content: space-between; gap: 16px; margin-bottom: 16px; }
    .page-title h2 { font-size: 28px; font-weight: 700; margin: 0; }
    .subtitle { color: var(--text-secondary); font-size: 14px; }

    .controls { display: grid; grid-template-columns: repeat(12, 1fr); gap: 12px; background: var(--background-light); padding: 16px; border-radius: 12px; border: 1px solid var(--border-lighter); margin-bottom: 20px; align-items: end; }
    .controls .field { grid-column: span 2; }
    .controls .field-2 { grid-column: span 4; }
    .controls .field-3 { grid-column: span 6; }
    .controls .field-4 { grid-column: span 8; }
    .controls label { display: block; font-size: 12px; color: var(--text-secondary); margin-bottom: 6px; }
    .controls input, .controls select { width: 100%; padding: 10px 12px; border-radius: 8px; border: 1px solid var(--border-lighter); background: var(--white); color: var(--text-primary); }
    .controls .inline { display: flex; gap: 10px; align-items: end; }
    .controls .inline > * { flex: 1; }
    .controls .btn { padding: 10px 12px; border-radius: 8px; border: 1px solid var(--border-lighter); background: var(--white); cursor: pointer; white-space: nowrap; font-size: 12px; }
    .controls .btn.primary { background: var(--gradient-primary); color: var(--text-inverse); border: 0; }

    .variants-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); gap: 16px; }
    .variant-card { background: var(--white); border: 1px solid var(--border-lighter); border-radius: 14px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.08); }
    .variant-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 14px; border-bottom: 1px solid var(--border-lighter); color: var(--text-secondary); font-size: 12px; }
    .variant-preview { aspect-ratio: 1200 / 630; width: 100%; background: #111; display: grid; place-items: center; overflow: hidden; position: relative; }
    .artboard { width: 1200px; height: 630px; position: relative; overflow: hidden; transform-origin: top left; font-family: 'Poppins', sans-serif; }

    /* Theme packs (MUCH MORE colors) - All themes now support custom color override */
    .t1 { background: var(--og-bg-1); }
    .t1.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t2 { background: var(--og-bg-2); }
    .t2.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t3 { background: var(--og-bg-3); }
    .t3.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t4 { background: var(--og-bg-4); }
    .t4.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t5 { background: var(--og-bg-5); }
    .t5.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t6 { background: linear-gradient(135deg, #ff512f, #dd2476); }
    .t6.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t7 { background: linear-gradient(135deg, #2193b0, #6dd5ed); }
    .t7.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t8 { background: linear-gradient(135deg, #134e5e, #71b280); }
    .t8.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t9 { background: linear-gradient(135deg, #f12711, #f5af19); }
    .t9.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t10 { background: linear-gradient(135deg, #8e2de2, #4a00e0); }
    .t10.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t11 { background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%); }
    .t11.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t12 { background: linear-gradient(135deg, #00c6ff, #0072ff); }
    .t12.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t13 { background: linear-gradient(135deg, #00b09b, #96c93d); }
    .t13.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t14 { background: conic-gradient(from 180deg at 50% 50%, #ff6a00, #ee0979, #8e2de2, #4a00e0, #00c6ff, #00b09b, #ff6a00); }
    .t14.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t15 { background: linear-gradient(135deg, #1f4037, #99f2c8); }
    .t15.custom-override { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }
    .t16 { background: linear-gradient(135deg, var(--custom-color-1), var(--custom-color-2)); }

    /* Cover image support */
    .artboard .cover { position: absolute; inset: 0; background-position: center; background-size: cover; background-repeat: no-repeat; z-index: 0; }






    /* LAYOUT: Split Screen */
    .layout-split-screen { background: #000; position: relative; }
    .layout-split-screen .left-side { position: absolute; left: 0; top: 0; bottom: 0; width: 55%; background: var(--og-bg-1); clip-path: polygon(0 0, 100% 0, 85% 100%, 0 100%); z-index: 1; }
    .layout-split-screen .left-side .cover { position: absolute; inset: 0; background-size: cover; background-position: center; opacity: 0.3; }
    .layout-split-screen .left-content { position: absolute; left: 60px; top: 60px; bottom: 60px; width: 420px; display: flex; flex-direction: column; justify-content: center; z-index: 2; }
    .layout-split-screen .brand { font-size: 20px; font-weight: 700; color: #fff; text-transform: uppercase; letter-spacing: 3px; margin-bottom: 30px; opacity: 0.9; }
    .layout-split-screen .event-title { font-size: 64px; line-height: 0.95; font-weight: 900; color: #fff; margin-bottom: 20px; text-shadow: 0 4px 20px rgba(0,0,0,0.5); }
    .layout-split-screen .event-date { font-size: 24px; color: #fff; opacity: 0.9; margin-bottom: 10px; }
    .layout-split-screen .venue { font-size: 20px; color: #fff; opacity: 0.8; }
    .layout-split-screen .right-side { position: absolute; right: 0; top: 0; bottom: 0; width: 50%; display: flex; align-items: center; justify-content: center; z-index: 0; }
    .layout-split-screen .event-image { width: 400px; height: 500px; background-size: cover; background-position: center; z-index: 1; box-shadow: -20px 0 60px rgba(0,0,0,0.5); }
    .layout-split-screen .description { position: absolute; bottom: 60px; right: 60px; width: 380px; font-size: 18px; color: #fff; opacity: 0.9; line-height: 1.5; z-index: 2; text-align: right; }

    /* LAYOUT: Minimal */
    .layout-minimal { background: #fafafa; }
    .layout-minimal .card { position: absolute; inset: 60px; background: #fff; border-radius: 30px; box-shadow: 0 30px 100px rgba(0,0,0,0.15); overflow: hidden; z-index: 1; }
    .layout-minimal .card-header { height: 280px; background: var(--og-bg-2); position: relative; overflow: hidden; }
    .layout-minimal .card-header .cover { position: absolute; inset: 0; background-size: cover; background-position: center; opacity: 0.4; }
    .layout-minimal .card-header .overlay { position: absolute; inset: 0; background: linear-gradient(180deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.6) 100%); }
    .layout-minimal .card-header .date-badge { position: absolute; top: 30px; right: 30px; background: #fff; color: #333; padding: 12px 24px; border-radius: 30px; font-weight: 700; font-size: 16px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); }
    .layout-minimal .event-image { position: absolute; bottom: -40px; left: 60px; width: 160px; height: 160px; border-radius: 20px; background-size: cover; background-position: center; border: 8px solid #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.2); z-index: 2; }
    .layout-minimal .card-body { padding: 60px 60px 40px 260px; position: relative; }
    .layout-minimal .event-title { font-size: 48px; font-weight: 900; color: #333; line-height: 1.1; margin-bottom: 15px; }
    .layout-minimal .venue { font-size: 20px; color: #666; margin-bottom: 20px; }
    .layout-minimal .description { font-size: 16px; color: #888; line-height: 1.6; }
    .layout-minimal .brand { position: absolute; bottom: 30px; left: 60px; font-size: 14px; font-weight: 700; color: #aaa; text-transform: uppercase; letter-spacing: 2px; }

    /* NEW LAYOUT: Color Blocks (bold editorial) */
    .layout-blocks { position: relative; background: #000; }
    .layout-blocks .block-a { position: absolute; inset: 0 60% 0 0; background: var(--og-bg-1); }
    .layout-blocks .block-b { position: absolute; inset: 0 0 0 60%; background: var(--og-bg-3); filter: brightness(0.7); }
    .layout-blocks .event-title { position: absolute; left: 60px; top: 60px; right: 50%; color: #fff; font-size: 86px; font-weight: 900; line-height: 0.95; text-transform: uppercase; letter-spacing: -1px; }
    .layout-blocks .meta { position: absolute; left: 60px; bottom: 60px; color: #fff; font-size: 20px; opacity: 0.9; }
    .layout-blocks .poster { position: absolute; right: 80px; top: 80px; width: 420px; height: 470px; background-size: cover; background-position: center; box-shadow: 0 30px 80px rgba(0,0,0,0.5); border: 10px solid #111; }

    /* NEW LAYOUT: Glass Card */
    .layout-glass { position: relative; backdrop-filter: blur(0px); }
    .layout-glass .cover { filter: brightness(0.6); }
    .layout-glass .glass { position: absolute; inset: 80px; background: rgba(255,255,255,0.12); border: 1px solid rgba(255,255,255,0.25); border-radius: 24px; backdrop-filter: blur(12px); box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
    .layout-glass .glass .inner { position: absolute; inset: 0; padding: 40px; color: #fff; }
    .layout-glass .event-title { font-size: 72px; font-weight: 900; line-height: 0.95; text-shadow: 0 6px 30px rgba(0,0,0,0.6); }
    .layout-glass .event-date { margin-top: 16px; font-size: 26px; opacity: 0.95; }
    .layout-glass .venue { margin-top: 8px; font-size: 22px; opacity: 0.85; }
    .layout-glass .description { position: absolute; left: 40px; right: 40px; bottom: 40px; font-size: 18px; opacity: 0.95; }


    /* NEW LAYOUT: Circle Focus */
    .layout-circle { position: relative; background: #0b0b0f; }
    .layout-circle .ring { position: absolute; width: 560px; height: 560px; border-radius: 50%; left: 60px; top: 35px; background: radial-gradient(circle, rgba(255,255,255,0.15), transparent 60%); border: 3px solid rgba(255,255,255,0.18); }
    .layout-circle .event-image { position: absolute; left: 100px; top: 75px; width: 480px; height: 480px; border-radius: 50%; background-size: cover; background-position: center; box-shadow: 0 20px 80px rgba(0,0,0,0.6); }
    .layout-circle .text { position: absolute; right: 60px; top: 100px; width: 480px; color: #fff; }
    .layout-circle .event-title { font-size: 72px; line-height: 0.95; font-weight: 900; }
    .layout-circle .event-date { margin-top: 10px; font-size: 26px; opacity: 0.9; }
    .layout-circle .venue { margin-top: 6px; font-size: 22px; opacity: 0.8; }
    .layout-circle .description { position: absolute; bottom: 60px; right: 60px; width: 480px; color: #fff; opacity: 0.9; line-height: 1.5; }

    /* SPEECH BUBBLE LAYOUTS - Multiple Variations */
    
    /* Original Speech Bubble (logo talks) */
    .layout-speech { background: var(--og-bg-4); position: relative; }
    .layout-speech .cover { position: absolute; inset: 0; background-size: cover; background-position: center; opacity: 0.2; }
    .layout-speech .logo-avatar { position: absolute; left: 80px; bottom: 80px; width: 160px; height: 160px; box-shadow: 0 10px 40px rgba(0,0,0,0.4); object-fit: cover; }
    .layout-speech .speech-bubble { position: absolute; left: 270px; bottom: 160px; max-width: 760px; background: #fff; color: #111; border-radius: 22px; padding: 22px 26px; box-shadow: 0 20px 60px rgba(0,0,0,0.35); font-size: 26px; line-height: 1.25; }
    .layout-speech .speech-bubble:after { content: ""; position: absolute; left: -28px; bottom: 22px; width: 0; height: 0; border-top: 20px solid transparent; border-bottom: 20px solid transparent; border-right: 28px solid #fff; filter: drop-shadow(0 6px 6px rgba(0,0,0,0.2)); }
    .layout-speech .headline { position: absolute; left: 80px; top: 70px; right: 60px; color: #fff; font-size: 64px; line-height: 0.95; font-weight: 900; text-shadow: 0 6px 30px rgba(0,0,0,0.6); }
    .layout-speech .event-image { position: absolute; right: 80px; top: 80px; width: 340px; height: 220px; background-size: cover; background-position: center; border: 8px solid rgba(255,255,255,0.9); box-shadow: 0 20px 60px rgba(0,0,0,0.4); }
    .layout-speech .brand { position: absolute; left: 80px; bottom: 40px; color: rgba(255,255,255,0.85); font-weight: 700; letter-spacing: 2px; text-transform: uppercase; font-size: 14px; }

    /* Speech Bubble 2: Event Image Speaks */
    .layout-speech-event { background: var(--og-bg-1); position: relative; }
    .layout-speech-event .event-avatar { position: absolute; right: 80px; bottom: 80px; width: 200px; height: 200px; border-radius: 50%; box-shadow: 0 15px 50px rgba(0,0,0,0.5); border: 8px solid rgba(255,255,255,0.95); background-size: cover; background-position: center; }
    .layout-speech-event .speech-bubble { position: absolute; right: 320px; bottom: 180px; max-width: 700px; background: #fff; color: #111; border-radius: 25px; padding: 28px 32px; box-shadow: 0 25px 70px rgba(0,0,0,0.4); font-size: 28px; line-height: 1.3; font-weight: 600; }
    .layout-speech-event .speech-bubble:after { content: ""; position: absolute; right: -32px; bottom: 28px; width: 0; height: 0; border-top: 24px solid transparent; border-bottom: 24px solid transparent; border-left: 32px solid #fff; filter: drop-shadow(0 8px 8px rgba(0,0,0,0.2)); }
    .layout-speech-event .title-bg { position: absolute; left: 60px; top: 60px; right: 60px; height: 140px; background: rgba(255,255,255,0.15); backdrop-filter: blur(8px); border-radius: 20px; border: 2px solid rgba(255,255,255,0.25); }
    .layout-speech-event .event-title { position: absolute; left: 80px; top: 90px; right: 80px; color: #fff; font-size: 56px; line-height: 0.95; font-weight: 900; text-shadow: 0 4px 20px rgba(0,0,0,0.4); text-align: center; }
    .layout-speech-event .brand { position: absolute; left: 80px; bottom: 40px; color: rgba(255,255,255,0.9); font-weight: 700; letter-spacing: 2px; text-transform: uppercase; font-size: 16px; }

    /* Speech Bubble 3: Dual Conversation */
    .layout-speech-dual { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); position: relative; }
    .layout-speech-dual .logo-avatar { position: absolute; left: 60px; top: 120px; width: 120px; height: 120px; object-fit: cover; }
    .layout-speech-dual .event-avatar { position: absolute; right: 60px; bottom: 120px; width: 140px; height: 140px; border-radius: 50%; box-shadow: 0 12px 35px rgba(0,0,0,0.4); border: 5px solid rgba(255,255,255,0.9); background-size: cover; background-position: center; }
    .layout-speech-dual .speech-bubble-1 { position: absolute; left: 200px; top: 80px; max-width: 450px; background: #fff; color: #111; border-radius: 18px; padding: 18px 22px; box-shadow: 0 15px 40px rgba(0,0,0,0.3); font-size: 20px; line-height: 1.3; }
    .layout-speech-dual .speech-bubble-1:after { content: ""; position: absolute; left: -18px; top: 20px; width: 0; height: 0; border-top: 15px solid transparent; border-bottom: 15px solid transparent; border-right: 18px solid #fff; filter: drop-shadow(0 4px 4px rgba(0,0,0,0.15)); }
    .layout-speech-dual .speech-bubble-2 { position: absolute; right: 220px; bottom: 80px; max-width: 480px; background: rgba(255,255,255,0.95); color: #111; border-radius: 18px; padding: 18px 22px; box-shadow: 0 15px 40px rgba(0,0,0,0.3); font-size: 18px; line-height: 1.3; }
    .layout-speech-dual .speech-bubble-2:after { content: ""; position: absolute; right: -18px; bottom: 20px; width: 0; height: 0; border-top: 15px solid transparent; border-bottom: 15px solid transparent; border-left: 18px solid rgba(255,255,255,0.95); filter: drop-shadow(0 4px 4px rgba(0,0,0,0.15)); }




    /* Speech Bubble 7: Retro Terminal */
    .layout-speech-terminal { background: #0f3460; position: relative; }
    .layout-speech-terminal:before { content: ""; position: absolute; inset: 0; background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,255,0,0.03) 2px, rgba(0,255,0,0.03) 4px); }
    .layout-speech-terminal .terminal-window { position: absolute; inset: 60px; background: #001122; border: 2px solid #00ff00; border-radius: 8px; box-shadow: inset 0 0 20px rgba(0,255,0,0.1); }
    .layout-speech-terminal .terminal-header { position: absolute; top: 0; left: 0; right: 0; height: 30px; background: #003366; border-bottom: 1px solid #00ff00; display: flex; align-items: center; padding: 0 10px; }
    .layout-speech-terminal .terminal-buttons { display: flex; gap: 5px; }
    .layout-speech-terminal .terminal-button { width: 12px; height: 12px; border-radius: 50%; background: #00ff00; }
    .layout-speech-terminal .terminal-content { position: absolute; top: 40px; left: 20px; right: 20px; bottom: 20px; font-family: 'Courier New', monospace; color: #00ff00; font-size: 18px; line-height: 1.4; }
    .layout-speech-terminal .event-image { position: absolute; right: 40px; bottom: 40px; width: 200px; height: 150px; background-size: cover; background-position: center; border: 2px solid #00ff00; filter: contrast(1.2) brightness(0.9); }
    .layout-speech-terminal .cursor { animation: blink 1s infinite; }
    @keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }

    /* Speech Bubble 8: Instagram Story Style */
    .layout-speech-story { background: linear-gradient(135deg, #833ab4 0%, #fd1d1d 50%, #fcb045 100%); position: relative; }
    .layout-speech-story .story-frame { position: absolute; inset: 40px; border-radius: 20px; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
    .layout-speech-story .story-bg { position: absolute; inset: 0; background-size: cover; background-position: center; filter: brightness(0.7); }
    .layout-speech-story .story-overlay { position: absolute; inset: 0; background: linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.6) 100%); }
    .layout-speech-story .profile-section { position: absolute; top: 30px; left: 30px; right: 30px; display: flex; align-items: center; gap: 15px; }
    .layout-speech-story .profile-avatar { width: 60px; height: 60px; border: 3px solid #fff; background: #fff; object-fit: cover; }
    .layout-speech-story .profile-info { color: #fff; }
    .layout-speech-story .profile-name { font-size: 16px; font-weight: 700; margin-bottom: 2px; }
    .layout-speech-story .profile-time { font-size: 12px; opacity: 0.8; }
    .layout-speech-story .story-bubble { position: absolute; left: 30px; right: 30px; bottom: 80px; background: rgba(255,255,255,0.95); color: #333; border-radius: 25px; padding: 24px 28px; font-size: 22px; line-height: 1.3; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
    .layout-speech-story .event-title { position: absolute; left: 30px; right: 30px; top: 50%; transform: translateY(-50%); color: #fff; font-size: 42px; line-height: 1.1; font-weight: 900; text-align: center; text-shadow: 0 4px 15px rgba(0,0,0,0.6); }

    /* Speech Bubble 9: Thought Cloud */
    .layout-speech-thought { background: var(--og-bg-2); position: relative; }
    .layout-speech-thought .dreamer { position: absolute; left: 80px; bottom: 80px; width: 180px; height: 180px; object-fit: cover; }
    .layout-speech-thought .thought-cloud { position: absolute; left: 320px; bottom: 200px; max-width: 700px; background: #fff; color: #333; border-radius: 50px; padding: 32px 40px; box-shadow: 0 25px 60px rgba(0,0,0,0.3); font-size: 24px; line-height: 1.4; position: relative; }
    .layout-speech-thought .thought-bubble-1 { position: absolute; left: -40px; bottom: 30px; width: 30px; height: 30px; background: #fff; border-radius: 50%; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    .layout-speech-thought .thought-bubble-2 { position: absolute; left: -20px; bottom: 10px; width: 20px; height: 20px; background: #fff; border-radius: 50%; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    .layout-speech-thought .thought-bubble-3 { position: absolute; left: -8px; bottom: -5px; width: 12px; height: 12px; background: #fff; border-radius: 50%; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    .layout-speech-thought .event-image { position: absolute; right: 80px; top: 80px; width: 320px; height: 240px; background-size: cover; background-position: center; border-radius: 20px; border: 6px solid rgba(255,255,255,0.9); box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
    .layout-speech-thought .event-title { position: absolute; left: 80px; top: 80px; max-width: 500px; color: #fff; font-size: 52px; line-height: 1.1; font-weight: 900; text-shadow: 0 6px 25px rgba(0,0,0,0.5); }


    /* Speech Bubble 11: Messenger Chat */
    .layout-speech-messenger { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); position: relative; }
    .layout-speech-messenger .chat-container { position: absolute; inset: 60px; background: #fff; border-radius: 20px; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.2); }
    .layout-speech-messenger .chat-header { position: absolute; top: 0; left: 0; right: 0; height: 80px; background: #4267B2; display: flex; align-items: center; padding: 0 20px; gap: 15px; }
    .layout-speech-messenger .chat-avatar { width: 50px; height: 50px; object-fit: cover; }
    .layout-speech-messenger .chat-title { color: #fff; font-size: 20px; font-weight: 700; }
    .layout-speech-messenger .chat-body { position: absolute; top: 80px; left: 0; right: 0; bottom: 0; padding: 30px; background: #f0f2f5; }
    .layout-speech-messenger .message-bubble { background: #4267B2; color: #fff; border-radius: 20px; padding: 16px 20px; font-size: 18px; line-height: 1.4; max-width: 400px; margin-left: auto; margin-bottom: 15px; }
    .layout-speech-messenger .message-image { width: 300px; height: 200px; background-size: cover; background-position: center; border-radius: 15px; margin-left: auto; margin-bottom: 15px; }
    .layout-speech-messenger .typing-indicator { display: flex; align-items: center; gap: 8px; color: #65676b; font-size: 14px; }
    .layout-speech-messenger .typing-dots { display: flex; gap: 3px; }
    .layout-speech-messenger .typing-dot { width: 6px; height: 6px; background: #65676b; border-radius: 50%; animation: typingDot 1.4s infinite ease-in-out; }
    .layout-speech-messenger .typing-dot:nth-child(1) { animation-delay: -0.32s; }
    .layout-speech-messenger .typing-dot:nth-child(2) { animation-delay: -0.16s; }
    @keyframes typingDot { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }

    /* Speech Bubble 12: Discord Style */
    .layout-speech-discord { background: #36393f; position: relative; }
    .layout-speech-discord .discord-container { position: absolute; inset: 40px; background: #2f3136; border-radius: 8px; overflow: hidden; }
    .layout-speech-discord .discord-sidebar { position: absolute; left: 0; top: 0; bottom: 0; width: 200px; background: #202225; border-right: 1px solid #40444b; }
    .layout-speech-discord .discord-main { position: absolute; left: 200px; top: 0; right: 0; bottom: 0; }
    .layout-speech-discord .discord-header { position: absolute; top: 0; left: 0; right: 0; height: 60px; background: #36393f; border-bottom: 1px solid #40444b; display: flex; align-items: center; padding: 0 20px; }
    .layout-speech-discord .channel-name { color: #fff; font-size: 18px; font-weight: 600; }
    .layout-speech-discord .discord-messages { position: absolute; top: 60px; left: 0; right: 0; bottom: 0; padding: 20px; }
    .layout-speech-discord .message { display: flex; gap: 15px; margin-bottom: 20px; }
    .layout-speech-discord .message-avatar { width: 40px; height: 40px; object-fit: cover; flex-shrink: 0; }
    .layout-speech-discord .message-content { flex: 1; }
    .layout-speech-discord .message-header { display: flex; align-items: baseline; gap: 10px; margin-bottom: 5px; }
    .layout-speech-discord .message-author { color: #fff; font-size: 16px; font-weight: 600; }
    .layout-speech-discord .message-time { color: #72767d; font-size: 12px; }
    .layout-speech-discord .message-text { color: #dcddde; font-size: 16px; line-height: 1.4; }
    .layout-speech-discord .message-embed { background: #2f3136; border-left: 4px solid #5865f2; border-radius: 4px; padding: 15px; margin-top: 10px; }
    .layout-speech-discord .embed-image { width: 300px; height: 180px; background-size: cover; background-position: center; border-radius: 4px; margin-top: 10px; }



    .preview-meta { padding: 12px 14px; border-top: 1px solid var(--border-lighter); display: grid; gap: 6px; font-size: 12px; color: var(--text-secondary); }
    .preview-meta code { background: var(--background-light); padding: 3px 6px; border-radius: 6px; color: var(--text-primary); font-size: 11px; word-break: break-all; }
  </style>
</head>
<body>
  <header>
    <nav>
      <div class="nav-container">
        <div class="logo">
          <h1><a href="../index.html"><img src="../Rising_Star_Ryan_Head_Compressed.png" alt="chunky.dad logo" class="logo-img"> chunky.dad</a></h1>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <div class="container">
      <div class="page-title">
        <h2>Creative Event OG Layouts (Calendar-powered)</h2>
        <div class="subtitle">Select a city and event to auto-fill creative layouts â€¢ Now with 12+ Speech Bubble Variations!</div>
      </div>

      <section class="controls">
        <div class="field">
          <label for="citySelect">City</label>
          <select id="citySelect"></select>
        </div>
        <div class="field-2">
          <label for="eventSelect">Event</label>
          <select id="eventSelect"></select>
        </div>
        <div class="field">
          <label for="eventSearch">Search</label>
          <input id="eventSearch" type="text" placeholder="Filter events">
        </div>
        <div class="field">
          <button id="reloadBtn" class="btn">Reload</button>
        </div>
        <div class="field">
          <button id="randomBtn" class="btn">Random</button>
        </div>
        <div class="field">
          <label for="themeSelect">Theme</label>
          <select id="themeSelect">
            <option value="t1">Classic Night</option>
            <option value="t2">Cool Neon</option>
            <option value="t3">Hot Red</option>
            <option value="t4">Midnight</option>
            <option value="t5">Spotlight</option>
            <option value="t6">Sunset</option>
            <option value="t7">Ocean</option>
            <option value="t8">Forest</option>
            <option value="t9">Fire</option>
            <option value="t10">Blurple</option>
            <option value="t11">Soft Pastel</option>
            <option value="t12">Blue Bolt</option>
            <option value="t13">Green Glow</option>
            <option value="t14">Rainbow Ring</option>
            <option value="t15">Emerald Mist</option>
            <option value="t16">Custom</option>
          </select>
        </div>
        <div class="field">
          <label for="customA">Custom A</label>
          <input id="customA" type="color" value="#8e2de2" title="Custom color A">
        </div>
        <div class="field">
          <label for="customB">Custom B</label>
          <input id="customB" type="color" value="#4a00e0" title="Custom color B">
        </div>
        <div class="field-4">
          <label for="coverInput">Background/Cover Image URL</label>
          <input id="coverInput" type="url" placeholder="https://example.com/cover.jpg">
        </div>
        <div class="field-4">
          <label for="imageInput">Event Image URL</label>
          <input id="imageInput" type="url" placeholder="https://example.com/event-image.jpg">
        </div>
      </section>

      <section class="variants-grid" id="variantsGrid"></section>
    </div>
  </main>

  <script src="../js/logger.js"></script>
  <script src="../js/city-config.js"></script>
  <script src="../js/calendar-core.js"></script>
  <script src="../js/dynamic-calendar-loader.js"></script>
  <script>
    (function(){
      const COMPONENT = 'EVENT';
      logger.componentInit(COMPONENT, 'Creative calendar-powered OG builder initialized');

      const citySelect = document.getElementById('citySelect');
      const eventSelect = document.getElementById('eventSelect');
      const eventSearch = document.getElementById('eventSearch');
      const reloadBtn = document.getElementById('reloadBtn');
      const randomBtn = document.getElementById('randomBtn');
      const themeSelect = document.getElementById('themeSelect');
      const customA = document.getElementById('customA');
      const customB = document.getElementById('customB');
      const coverInput = document.getElementById('coverInput');
      const imageInput = document.getElementById('imageInput');
      const grid = document.getElementById('variantsGrid');

      class CreativeCalendarPreview extends DynamicCalendarLoader {
        constructor() {
          super();
          this.currentCity = this.getInitialCityFromUrl();
          this.filteredEvents = [];
          this.selectedEvent = null;
        }

        getInitialCityFromUrl() {
          try {
            const params = new URLSearchParams(window.location.search);
            const city = params.get('city');
            return city && hasCityCalendar(city) ? city : 'new-york';
          } catch (e) {
            return 'new-york';
          }
        }

        async init() {
          this.populateCities();
          await this.loadCity(this.currentCity);
          this.attachHandlers();
          this.render();
          logger.componentLoad(COMPONENT, 'Creative builder ready');
        }

        populateCities() {
          const cities = getAvailableCities();
          citySelect.innerHTML = cities.map(c => `<option value="${c.key}">${c.emoji} ${c.name}</option>`).join('');
          citySelect.value = this.currentCity;
        }

        async loadCity(cityKey) {
          logger.apiCall('CALENDAR', 'Loading calendar for creative builder', { cityKey });
          this.currentCity = cityKey;
          const data = await this.loadCalendarData(cityKey);
          if (!data || !this.allEvents || !this.allEvents.length) {
            logger.warn(COMPONENT, 'No events loaded for city', { cityKey });
            eventSelect.innerHTML = '';
            this.filteredEvents = [];
            this.selectedEvent = null;
            this.render();
            return;
          }
          this.filteredEvents = this.allEvents.slice();
          this.filteredEvents.sort((a,b) => (a.name || '').localeCompare(b.name || ''));
          this.populateEventSelect();
          this.selectedEvent = this.filteredEvents[0];
          this.render();
        }

        populateEventSelect() {
          const options = this.filteredEvents.map((ev, idx) => {
            const venue = ev.bar ? ` @ ${ev.bar}` : '';
            const time = ev.time ? ` Â· ${ev.time}` : '';
            return `<option value="${idx}">${(ev.name || 'Unnamed Event')}${venue}${time}</option>`;
          }).join('');
          eventSelect.innerHTML = options;
          eventSelect.selectedIndex = 0;
        }

        filterEvents(term) {
          const t = (term || '').toLowerCase();
          if (!this.allEvents) return;
          this.filteredEvents = this.allEvents.filter(ev => {
            const text = `${ev.name || ''} ${ev.bar || ''} ${ev.tea || ''}`.toLowerCase();
            return text.includes(t);
          });
          this.filteredEvents.sort((a,b) => (a.name || '').localeCompare(b.name || ''));
          this.populateEventSelect();
          this.selectedEvent = this.filteredEvents[0] || null;
          this.render();
        }

        getPreviewData() {
          const ev = this.selectedEvent || {};
          return {
            event: ev.name || 'Bear Event',
            venue: ev.bar || 'Venue',
            date: ev.day || 'Date TBA',
            time: ev.time || 'Time TBA',
            city: getCityConfig(this.currentCity)?.name || 'City',
            description: ev.tea || 'Join us for an amazing bear community event!',
            image: (imageInput.value || '').trim() || (ev.image || '').trim(),
            cover: (coverInput.value || '').trim(),
            theme: themeSelect.value
          };
        }

        attachHandlers() {
          citySelect.addEventListener('change', async () => {
            const cityKey = citySelect.value;
            await this.loadCity(cityKey);
            this.updateUrlCity(cityKey);
          });

          eventSelect.addEventListener('change', () => {
            const idx = eventSelect.value ? parseInt(eventSelect.value, 10) : 0;
            this.selectedEvent = this.filteredEvents[idx] || null;
            this.render();
          });

          eventSearch.addEventListener('input', () => {
            this.filterEvents(eventSearch.value);
          });

          reloadBtn.addEventListener('click', async () => {
            await this.loadCity(this.currentCity);
          });

          randomBtn.addEventListener('click', () => {
            if (!this.filteredEvents.length) return;
            const idx = Math.floor(Math.random() * this.filteredEvents.length);
            this.selectedEvent = this.filteredEvents[idx];
            eventSelect.selectedIndex = idx;
            this.render();
          });

          [themeSelect, coverInput, imageInput].forEach(el => {
            el.addEventListener('input', () => this.render());
            el.addEventListener('change', () => this.render());
          });
          
          // Special handling for color inputs to update CSS vars immediately
          [customA, customB].forEach(el => {
            el.addEventListener('input', () => {
              this.updateThemeVars();
              this.render();
            });
            el.addEventListener('change', () => {
              this.updateThemeVars();
              this.render();
            });
          });
          
          // Update theme vars when theme changes to custom
          themeSelect.addEventListener('change', () => {
            this.updateThemeVars();
          });
        }

        updateThemeVars() {
          // Always update custom color variables regardless of theme
          document.documentElement.style.setProperty('--custom-color-1', customA.value);
          document.documentElement.style.setProperty('--custom-color-2', customB.value);
          logger.debug(COMPONENT, 'Updated custom theme colors', { colorA: customA.value, colorB: customB.value });
        }

        updateVariant(card, variant, data) {
          const artboard = card.querySelector('.artboard');
          switch(variant.key) {


            case 'split': {
              const t = artboard.querySelector('.event-title');
              const d = artboard.querySelector('.event-date');
              const v = artboard.querySelector('.venue');
              const desc = artboard.querySelector('.description');
              const img = artboard.querySelector('.event-image');
              const cov = artboard.querySelector('.left-side .cover');
              if (t) t.textContent = data.event;
              if (d) d.textContent = `${data.date} Â· ${data.time}`;
              if (v) v.textContent = `@ ${data.venue}`;
              if (desc) desc.textContent = data.description;
              if (img) { if (data.image) { img.style.backgroundImage = `url('${data.image}')`; img.style.display = 'block'; } else { img.style.display = 'none'; } }
              if (cov && data.cover) cov.style.backgroundImage = `url('${data.cover}')`;
              break;
            }
            case 'minimal': {
              const t = artboard.querySelector('.event-title');
              const v = artboard.querySelector('.venue');
              const desc = artboard.querySelector('.description');
              const dateBadge = artboard.querySelector('.date-badge');
              const img = artboard.querySelector('.event-image');
              const cov = artboard.querySelector('.card-header .cover');
              if (t) t.textContent = data.event;
              if (v) v.textContent = `@ ${data.venue} Â· ${data.time}`;
              if (desc) desc.textContent = data.description;
              if (dateBadge) dateBadge.textContent = data.date;
              if (img) { if (data.image) { img.style.backgroundImage = `url('${data.image}')`; img.style.display = 'block'; } else { img.style.display = 'none'; } }
              if (cov && data.cover) cov.style.backgroundImage = `url('${data.cover}')`;
              break;
            }
            case 'blocks': {
              const t = artboard.querySelector('.event-title');
              const meta = artboard.querySelector('.meta');
              const poster = artboard.querySelector('.poster');
              if (t) t.textContent = data.event;
              if (meta) meta.textContent = `${data.date} Â· ${data.time} Â· @ ${data.venue}`;
              if (poster) { if (data.image) { poster.style.backgroundImage = `url('${data.image}')`; poster.style.display = 'block'; } else { poster.style.display = 'none'; } }
              break;
            }
            case 'glass': {
              const t = artboard.querySelector('.event-title');
              const d = artboard.querySelector('.event-date');
              const v = artboard.querySelector('.venue');
              const desc = artboard.querySelector('.description');
              const cov = artboard.querySelector('.cover');
              if (t) t.textContent = data.event;
              if (d) d.textContent = `${data.date} Â· ${data.time}`;
              if (v) v.textContent = `@ ${data.venue}`;
              if (desc) desc.textContent = data.description;
              if (cov && data.cover) cov.style.backgroundImage = `url('${data.cover}')`;
              break;
            }
            case 'circle': {
              const t = artboard.querySelector('.event-title');
              const d = artboard.querySelector('.event-date');
              const v = artboard.querySelector('.venue');
              const desc = artboard.querySelector('.description');
              const img = artboard.querySelector('.event-image');
              if (t) t.textContent = data.event;
              if (d) d.textContent = `${data.date} Â· ${data.time}`;
              if (v) v.textContent = `@ ${data.venue}`;
              if (desc) desc.textContent = data.description;
              if (img) { if (data.image) { img.style.backgroundImage = `url('${data.image}')`; img.style.display = 'block'; } else { img.style.display = 'none'; } }
              break;
            }
            case 'speech': {
              const head = artboard.querySelector('.headline');
              const bubble = artboard.querySelector('.speech-bubble');
              const img = artboard.querySelector('.event-image');
              const cov = artboard.querySelector('.cover');
              if (head) head.textContent = data.event;
              if (bubble) bubble.textContent = `${data.date} Â· ${data.time} @ ${data.venue}. ${data.description}`;
              if (img) { if (data.image) { img.style.backgroundImage = `url('${data.image}')`; img.style.display = 'block'; } else { img.style.display = 'none'; } }
              if (cov && data.cover) cov.style.backgroundImage = `url('${data.cover}')`;
              break;
            }
            case 'speech-event': {
              const title = artboard.querySelector('.event-title');
              const bubble = artboard.querySelector('.speech-bubble');
              const avatar = artboard.querySelector('.event-avatar');
              if (title) title.textContent = data.event;
              if (bubble) bubble.textContent = `Join us ${data.date} at ${data.time}! We're hosting an amazing event at ${data.venue}. ${data.description}`;
              if (avatar && data.image) avatar.style.backgroundImage = `url('${data.image}')`;
              break;
            }
            case 'speech-dual': {
              const bubble1 = artboard.querySelector('.speech-bubble-1');
              const bubble2 = artboard.querySelector('.speech-bubble-2');
              const avatar = artboard.querySelector('.event-avatar');
              if (bubble1) bubble1.textContent = `Hey! Have you heard about ${data.event}?`;
              if (bubble2) bubble2.textContent = `Yes! It's ${data.date} at ${data.time} @ ${data.venue}. ${data.description}`;
              if (avatar && data.image) avatar.style.backgroundImage = `url('${data.image}')`;
              break;
            }
            case 'speech-terminal': {
              const content = artboard.querySelector('.terminal-content');
              const img = artboard.querySelector('.event-image');
              if (content) {
                content.innerHTML = `$ cat event_info.txt<br/>
EVENT: ${data.event}<br/>
DATE: ${data.date}<br/>
TIME: ${data.time}<br/>
VENUE: ${data.venue}<br/>
INFO: ${data.description}<br/>
$ ./join_event.sh<br/>
Loading... <span class="cursor">â–ˆ</span>`;
              }
              if (img && data.image) img.style.backgroundImage = `url('${data.image}')`;
              break;
            }
            case 'speech-story': {
              const title = artboard.querySelector('.event-title');
              const bubble = artboard.querySelector('.story-bubble');
              const bg = artboard.querySelector('.story-bg');
              const name = artboard.querySelector('.profile-name');
              const time = artboard.querySelector('.profile-time');
              if (title) title.textContent = data.event;
              if (bubble) bubble.textContent = `Can't wait for this! ${data.date} at ${data.time} ðŸŽ‰`;
              if (bg && (data.image || data.cover)) bg.style.backgroundImage = `url('${data.image || data.cover}')`;
              if (name) name.textContent = 'chunky.dad';
              if (time) time.textContent = '2h ago';
              break;
            }
            case 'speech-thought': {
              const title = artboard.querySelector('.event-title');
              const cloud = artboard.querySelector('.thought-cloud');
              const img = artboard.querySelector('.event-image');
              if (title) title.textContent = data.event;
              if (cloud) cloud.textContent = `I'm dreaming about ${data.event}... ${data.date} at ${data.venue} will be perfect! ${data.description}`;
              if (img && data.image) img.style.backgroundImage = `url('${data.image}')`;
              break;
            }
            case 'speech-messenger': {
              const title = artboard.querySelector('.chat-title');
              const bubble = artboard.querySelector('.message-bubble');
              const img = artboard.querySelector('.message-image');
              if (title) title.textContent = data.event;
              if (bubble) bubble.textContent = `Hey! ${data.event} is happening ${data.date} at ${data.time} @ ${data.venue}. You coming?`;
              if (img && data.image) img.style.backgroundImage = `url('${data.image}')`;
              break;
            }
            case 'speech-discord': {
              const channel = artboard.querySelector('.channel-name');
              const author = artboard.querySelector('.message-author');
              const time = artboard.querySelector('.message-time');
              const text = artboard.querySelector('.message-text');
              const img = artboard.querySelector('.embed-image');
              if (channel) channel.textContent = `# ${data.event.toLowerCase().replace(/\s+/g, '-')}`;
              if (author) author.textContent = 'chunky.dad';
              if (time) time.textContent = 'Today at 12:34 PM';
              if (text) text.textContent = `@everyone ${data.event} is happening ${data.date} at ${data.venue}!`;
              if (img && data.image) img.style.backgroundImage = `url('${data.image}')`;
              break;
            }

          }
        }

        buildVariantCard(variant, data) {
          const card = document.createElement('div');
          card.className = 'variant-card';
          
          // Check if custom colors are being used (not default values)
          const isCustomOverride = customA.value !== '#8e2de2' || customB.value !== '#4a00e0';
          const themeClass = isCustomOverride ? `${data.theme} custom-override` : data.theme;
          
          card.innerHTML = `
            <div class="variant-header">
              <div><strong>${variant.name}</strong> - ${variant.description}</div>
            </div>
            <div class="variant-preview">
              <div class="artboard ${variant.class} ${themeClass}">
                ${this.createVariantHTML(variant)}
              </div>
            </div>
            <div class="preview-meta">
              <div>og:title: <code>${data.event} â€“ ${data.city} â€“ chunky.dad</code></div>
              <div>og:description: <code>${data.date} Â· ${data.time} Â· @ ${data.venue} Â· ${data.description}</code></div>
              <div>og:image: <code>Generated with ${variant.name} layout</code></div>
            </div>
          `;
          return card;
        }

        createVariantHTML(variant) {
          const layouts = {


            'split': `
              <div class="left-side">
                <div class="cover"></div>
              </div>
              <div class="left-content">
                <div class="brand">chunky.dad</div>
                <div class="event-title"></div>
                <div class="event-date"></div>
                <div class="venue"></div>
              </div>
              <div class="right-side">
                <div class="event-image"></div>
              </div>
              <div class="description"></div>
            `,
            'minimal': `
              <div class="card">
                <div class="card-header">
                  <div class="cover"></div>
                  <div class="overlay"></div>
                  <div class="date-badge"></div>
                </div>
                <div class="event-image"></div>
                <div class="card-body">
                  <div class="event-title"></div>
                  <div class="venue"></div>
                  <div class="description"></div>
                </div>
                <div class="brand">chunky.dad</div>
              </div>
            `,
            'blocks': `
              <div class="block-a"></div>
              <div class="block-b"></div>
              <div class="event-title"></div>
              <div class="meta"></div>
              <div class="poster"></div>
            `,
            'glass': `
              <div class="cover"></div>
              <div class="glass">
                <div class="inner">
                  <div class="event-title"></div>
                  <div class="event-date"></div>
                  <div class="venue"></div>
                  <div class="description"></div>
                </div>
              </div>
            `,
            'circle': `
              <div class="ring"></div>
              <div class="event-image"></div>
              <div class="text">
                <div class="event-title"></div>
                <div class="event-date"></div>
                <div class="venue"></div>
              </div>
              <div class="description"></div>
            `,
            'speech': `
              <div class="cover"></div>
              <div class="headline"></div>
              <img class="logo-avatar" src="../Rising_Star_Ryan_Head_Compressed.png" alt="chunky.dad" />
              <div class="speech-bubble"></div>
              <div class="event-image"></div>
              <div class="brand">chunky.dad</div>
            `,
            'speech-event': `
              <div class="title-bg"></div>
              <div class="event-title"></div>
              <div class="event-avatar"></div>
              <div class="speech-bubble"></div>
              <div class="brand">chunky.dad</div>
            `,
            'speech-dual': `
              <img class="logo-avatar" src="../Rising_Star_Ryan_Head_Compressed.png" alt="chunky.dad" />
              <div class="event-avatar"></div>
              <div class="speech-bubble-1"></div>
              <div class="speech-bubble-2"></div>
            `,
            'speech-terminal': `
              <div class="terminal-window">
                <div class="terminal-header">
                  <div class="terminal-buttons">
                    <div class="terminal-button"></div>
                    <div class="terminal-button"></div>
                    <div class="terminal-button"></div>
                  </div>
                </div>
                <div class="terminal-content"></div>
                <div class="event-image"></div>
              </div>
            `,
            'speech-story': `
              <div class="story-frame">
                <div class="story-bg"></div>
                <div class="story-overlay"></div>
                <div class="profile-section">
                  <img class="profile-avatar" src="../Rising_Star_Ryan_Head_Compressed.png" alt="chunky.dad" />
                  <div class="profile-info">
                    <div class="profile-name">chunky.dad</div>
                    <div class="profile-time">2h ago</div>
                  </div>
                </div>
                <div class="event-title"></div>
                <div class="story-bubble"></div>
              </div>
            `,
            'speech-thought': `
              <div class="event-title"></div>
              <img class="dreamer" src="../Rising_Star_Ryan_Head_Compressed.png" alt="dreamer" />
              <div class="thought-cloud"></div>
              <div class="thought-bubble-1"></div>
              <div class="thought-bubble-2"></div>
              <div class="thought-bubble-3"></div>
              <div class="event-image"></div>
            `,
            'speech-messenger': `
              <div class="chat-container">
                <div class="chat-header">
                  <img class="chat-avatar" src="../Rising_Star_Ryan_Head_Compressed.png" alt="chunky.dad" />
                  <div class="chat-title"></div>
                </div>
                <div class="chat-body">
                  <div class="message-image"></div>
                  <div class="message-bubble"></div>
                  <div class="typing-indicator">
                    <div class="typing-dots">
                      <div class="typing-dot"></div>
                      <div class="typing-dot"></div>
                      <div class="typing-dot"></div>
                    </div>
                    chunky.dad is typing...
                  </div>
                </div>
              </div>
            `,
            'speech-discord': `
              <div class="discord-container">
                <div class="discord-sidebar"></div>
                <div class="discord-main">
                  <div class="discord-header">
                    <div class="channel-name"># general</div>
                  </div>
                  <div class="discord-messages">
                    <div class="message">
                      <img class="message-avatar" src="../Rising_Star_Ryan_Head_Compressed.png" alt="chunky.dad" />
                      <div class="message-content">
                        <div class="message-header">
                          <div class="message-author">chunky.dad</div>
                          <div class="message-time">Today at 12:34 PM</div>
                        </div>
                        <div class="message-text"></div>
                        <div class="message-embed">
                          <div class="embed-image"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            `,

          };
          return layouts[variant.key] || '';
        }

        render() {
          this.updateThemeVars();
          const data = this.getPreviewData();
          const VARIANTS = [
            { key: 'split', name: 'Split Screen', class: 'layout-split-screen', description: 'Dynamic diagonal composition with image focus' },
            { key: 'minimal', name: 'Minimalist Card', class: 'layout-minimal', description: 'Clean modern design with subtle shadows' },
            { key: 'blocks', name: 'Color Blocks', class: 'layout-blocks', description: 'Bold two-column color composition' },
            { key: 'glass', name: 'Glass Card', class: 'layout-glass', description: 'Frosted glass over photo backdrop' },
            { key: 'circle', name: 'Circle Focus', class: 'layout-circle', description: 'Circular image focus with side text' },
            { key: 'speech', name: 'Speech Bubble', class: 'layout-speech', description: 'Logo speaks about the event' },
            { key: 'speech-event', name: 'Event Image Speaks', class: 'layout-speech-event', description: 'Event image in circular frame speaks about details' },
            { key: 'speech-dual', name: 'Dual Conversation', class: 'layout-speech-dual', description: 'Logo and event image having a conversation' },
            { key: 'speech-terminal', name: 'Retro Terminal', class: 'layout-speech-terminal', description: 'Old-school computer terminal with green text' },
            { key: 'speech-story', name: 'Instagram Story', class: 'layout-speech-story', description: 'Social media story format with profile and bubble' },
            { key: 'speech-thought', name: 'Thought Cloud', class: 'layout-speech-thought', description: 'Dreamy thought bubble with floating circles' },
            { key: 'speech-messenger', name: 'Messenger Chat', class: 'layout-speech-messenger', description: 'Facebook Messenger style chat interface' },
            { key: 'speech-discord', name: 'Discord Chat', class: 'layout-speech-discord', description: 'Gaming chat platform with embed style' }
          ];

          grid.innerHTML = '';
          const artboards = [];
          VARIANTS.forEach(variant => {
            const card = this.buildVariantCard(variant, data);
            this.updateVariant(card, variant, data);
            grid.appendChild(card);
            const art = card.querySelector('.artboard');
            artboards.push({ art, card });
          });

          requestAnimationFrame(() => {
            artboards.forEach(({ art }) => {
              const preview = art.closest('.variant-preview');
              if (!preview) return;
              const pw = preview.clientWidth;
              const ph = preview.clientHeight;
              const scale = Math.min(pw / 1200, ph / 630);
              art.style.transform = `scale(${scale})`;
            });
          });
        }

        updateUrlCity(city) {
          try {
            const url = new URL(window.location.href);
            url.searchParams.set('city', city);
            history.replaceState({}, '', url);
          } catch (e) {}
        }
      }

      document.addEventListener('DOMContentLoaded', async () => {
        const app = new CreativeCalendarPreview();
        await app.init();
        window._creativePreviewApp = app;
      });
    })();
  </script>
</body>
</html>

